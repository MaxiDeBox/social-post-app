(self.webpackChunksocial_post_app=self.webpackChunksocial_post_app||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},7238:(e,t,n)=>{"use strict";n.d(t,{l3:()=>s,_j:()=>r,LC:()=>i,ZN:()=>p,jt:()=>a,vP:()=>l,SB:()=>u,oB:()=>c,eR:()=>h,X$:()=>o,ZE:()=>f,k1:()=>m});class r{}class i{}const s="*";function o(e,t){return{type:7,name:e,definitions:t,options:{}}}function a(e,t=null){return{type:4,styles:t,timings:e}}function l(e,t=null){return{type:2,steps:e,options:t}}function c(e){return{type:6,styles:e,offset:null}}function u(e,t,n){return{type:0,name:e,styles:t,options:n}}function h(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function d(e){Promise.resolve(null).then(e)}class p{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){d(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class f{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?d(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const m="!"},4765:(e,t,n)=>{"use strict";n.d(t,{Em:()=>E,tE:()=>M,qV:()=>x,qm:()=>j,X6:()=>k,yG:()=>A});var r=n(8583),i=n(7716),s=n(9765),o=n(5319),a=n(6215),l=n(5917),c=n(6461),u=n(7393);class h{constructor(e){this.total=e}call(e,t){return t.subscribe(new d(e,this.total))}}class d extends u.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}var p=n(8307),f=n(4395),m=n(5435),g=n(8002),y=n(5257),v=n(7519),_=n(6782),b=n(9490),w=n(521);n(8553);class E extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new s.xQ,this._typeaheadSubscription=o.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new s.xQ,this.change=new s.xQ,e instanceof i.n_E&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,p.b)(e=>this._pressedLetters.push(e)),(0,f.b)(e),(0,m.h)(()=>this._pressedLetters.length>0),(0,g.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let n=1;n<t.length+1;n++){const r=(this._activeItemIndex+n)%t.length,i=t[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case c.Mf:return void this.tabOut.next();case c.JH:if(this._vertical&&n){this.setNextItemActive();break}return;case c.LH:if(this._vertical&&n){this.setPreviousItemActive();break}return;case c.SV:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case c.oh:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case c.Sd:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case c.uR:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||(0,c.Vb)(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=c.A&&t<=c.Z||t>=c.xE&&t<=c.aO)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof i.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let C=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(t){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){if(-1===T(t))return!1;if(!this.isVisible(t))return!1}let r=e.nodeName.toLowerCase(),i=T(e);return e.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||S(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(w.t4))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(w.t4))},token:e,providedIn:"root"}),e})();function S(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function T(e){if(!S(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class I{constructor(e,t,n,r,i=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]):t[n].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return null==n||n.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,y.q)(1)).subscribe(e)}}let x=(()=>{class e{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new I(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(C),i.LFG(i.R0b),i.LFG(r.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(C),i.LFG(i.R0b),i.LFG(r.K0))},token:e,providedIn:"root"}),e})();function k(e){return 0===e.offsetX&&0===e.offsetY}function A(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const R=new i.OlP("cdk-input-modality-detector-options"),P={ignoreKeys:[c.zL,c.jx,c.b2,c.MW,c.JU]},O=(0,w.i$)({passive:!0,capture:!0});let N=(()=>{class e{constructor(e,t,n,r){this._platform=e,this._mostRecentTarget=null,this._modality=new a.X(null),this._lastTouchMs=0,this._onKeydown=e=>{var t,n;(null===(n=null===(t=this._options)||void 0===t?void 0:t.ignoreKeys)||void 0===n?void 0:n.some(t=>t===e.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,w.sA)(e))},this._onMousedown=e=>{Date.now()-this._lastTouchMs<650||(this._modality.next(k(e)?"keyboard":"mouse"),this._mostRecentTarget=(0,w.sA)(e))},this._onTouchstart=e=>{A(e)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,w.sA)(e))},this._options=Object.assign(Object.assign({},P),r),this.modalityDetected=this._modality.pipe(e=>e.lift(new h(1))),this.modalityChanged=this.modalityDetected.pipe((0,v.x)()),e.isBrowser&&t.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,O),n.addEventListener("mousedown",this._onMousedown,O),n.addEventListener("touchstart",this._onTouchstart,O)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,O),document.removeEventListener("mousedown",this._onMousedown,O),document.removeEventListener("touchstart",this._onTouchstart,O))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(w.t4),i.LFG(i.R0b),i.LFG(r.K0),i.LFG(R,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(w.t4),i.LFG(i.R0b),i.LFG(r.K0),i.LFG(R,8))},token:e,providedIn:"root"}),e})();const D=new i.OlP("cdk-focus-monitor-default-options"),L=(0,w.i$)({passive:!0,capture:!0});let M=(()=>{class e{constructor(e,t,n,r,i){this._ngZone=e,this._platform=t,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new s.xQ,this._rootNodeFocusAndBlurListener=e=>{const t=(0,w.sA)(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let r=t;r;r=r.parentElement)n.call(this,e,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(e,t=!1){const n=(0,b.fI)(e);if(!this._platform.isBrowser||1!==n.nodeType)return(0,l.of)(null);const r=(0,w.kV)(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject;const o={checkChildren:t,subject:new s.xQ,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){const t=(0,b.fI)(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const r=(0,b.fI)(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([e,n])=>this._originChanged(e,t,n)):(this._setOrigin(t),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&t,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,t){const n=this._elementInfo.get(t),r=(0,w.sA)(e);n&&(n.checkChildren||t===r)&&this._originChanged(t,this._getFocusOrigin(r),n)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,L),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,L)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,_.R)(this._stopInputModalityDetector)).subscribe(e=>{this._setOrigin(e,!0)}))}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,L),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,L),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((n,r)=>{(r===e||n.checkChildren&&r.contains(e))&&t.push([r,n])}),t}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b),i.LFG(w.t4),i.LFG(N),i.LFG(r.K0,8),i.LFG(D,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(i.R0b),i.LFG(w.t4),i.LFG(N),i.LFG(r.K0,8),i.LFG(D,8))},token:e,providedIn:"root"}),e})();const F="cdk-high-contrast-black-on-white",V="cdk-high-contrast-white-on-black",U="cdk-high-contrast-active";let j=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(U),e.remove(F),e.remove(V),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(U),e.add(F)):2===t&&(e.add(U),e.add(V))}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(w.t4),i.LFG(r.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(w.t4),i.LFG(r.K0))},token:e,providedIn:"root"}),e})()},946:(e,t,n)=>{"use strict";n.d(t,{vT:()=>a,Is:()=>o});var r=n(7716),i=n(8583);const s=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(i.K0)}});let o=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(s,8))},token:e,providedIn:"root"}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})()},7860:(e,t,n)=>{"use strict";n.d(t,{P3:()=>l,Ov:()=>u,eX:()=>c,k:()=>h,Z9:()=>a});var r=n(5639),i=n(5917),s=n(9765),o=n(7716);function a(e){return e&&"function"==typeof e.connect}class l extends class{}{constructor(e){super(),this._data=e}connect(){return(0,r.b)(this._data)?this._data:(0,i.of)(this._data)}disconnect(){}}class c{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,n,r,i){e.forEachOperation((e,s,o)=>{let a,l;null==e.previousIndex?(a=this._insertView(()=>n(e,s,o),o,t,r(e)),l=a?1:0):null==o?(this._detachAndCacheView(s,t),l=3):(a=this._moveView(s,o,t,r(e)),l=2),i&&i({context:null==a?void 0:a.context,operation:l,record:e})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,n,r){const i=this._insertViewFromCache(t,n);if(i)return void(i.context.$implicit=r);const s=e();return n.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(e,t){const n=t.detach(e);this._maybeCacheView(n,t)}_moveView(e,t,n,r){const i=n.get(e);return n.move(i,t),i.context.$implicit=r,i}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const n=t.indexOf(e);-1===n?e.destroy():t.remove(n)}}_insertViewFromCache(e,t){const n=this._viewCache.pop();return n&&t.insert(n,e),n||null}}class u{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new s.xQ,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const h=new o.OlP("_ViewRepeater")},6461:(e,t,n)=>{"use strict";n.d(t,{A:()=>v,zL:()=>a,jx:()=>o,JH:()=>m,uR:()=>u,K5:()=>i,hY:()=>l,Sd:()=>h,oh:()=>d,b2:()=>w,MW:()=>b,aO:()=>y,SV:()=>f,JU:()=>s,L_:()=>c,Mf:()=>r,LH:()=>p,Z:()=>_,xE:()=>g,Vb:()=>E});const r=9,i=13,s=16,o=17,a=18,l=27,c=32,u=35,h=36,d=37,p=38,f=39,m=40,g=48,y=57,v=65,_=90,b=91,w=224;function E(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}},8553:(e,t,n)=>{"use strict";n.d(t,{wD:()=>u,yq:()=>c,Q8:()=>h});var r=n(9490),i=n(7716),s=n(7574),o=n(9765),a=n(4395);let l=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),c=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=(0,r.fI)(e);return new s.y(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new o.xQ,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(l))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(l))},token:e,providedIn:"root"}),e})(),u=(()=>{class e{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new i.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,r.Ig)(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=(0,r.su)(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe((0,a.b)(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(c),i.Y36(i.SBq),i.Y36(i.R0b))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[l]}),e})()},521:(e,t,n)=>{"use strict";n.d(t,{t4:()=>a,ud:()=>l,sA:()=>b,ht:()=>_,kV:()=>v,Oy:()=>w,_i:()=>y,qK:()=>u,i$:()=>m,Mq:()=>g});var r=n(7716),i=n(8583);let s;try{s="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(E){s=!1}let o,a=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,i.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!s)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.Lbi))},token:e,providedIn:"root"}),e})(),l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const c=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function u(){if(o)return o;if("object"!=typeof document||!document)return o=new Set(c),o;let e=document.createElement("input");return o=new Set(c.filter(t=>(e.setAttribute("type",t),e.type===t))),o}let h,d,p,f;function m(e){return function(){if(null==h&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?e:!!e.capture}function g(){if(null==p){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return p=!1,p;if("scrollBehavior"in document.documentElement.style)p=!0;else{const e=Element.prototype.scrollTo;p=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return p}function y(){if("object"!=typeof document||!document)return 0;if(null==d){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),d=0,0===e.scrollLeft&&(e.scrollLeft=1,d=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return d}function v(e){if(function(){if(null==f){const e="undefined"!=typeof document?document.head:null;f=!(!e||!e.createShadowRoot&&!e.attachShadow)}return f}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function _(){let e="undefined"!=typeof document&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function b(e){return e.composedPath?e.composedPath()[0]:e.target}function w(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},9490:(e,t,n)=>{"use strict";n.d(t,{Ig:()=>i,fI:()=>o,su:()=>s});var r=n(7716);function i(e){return null!=e&&"false"!=`${e}`}function s(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function o(e){return e instanceof r.SBq?e.nativeElement:e}},8583:(e,t,n)=>{"use strict";n.d(t,{mr:()=>b,Ov:()=>H,ez:()=>W,K0:()=>l,Do:()=>E,V_:()=>h,Ye:()=>C,S$:()=>v,mk:()=>P,sg:()=>N,O5:()=>L,PC:()=>z,RF:()=>U,n9:()=>j,b0:()=>w,lw:()=>c,EM:()=>Q,JF:()=>ee,NF:()=>Z,PM:()=>Y,w_:()=>a,bD:()=>K,q:()=>s,Mx:()=>R,HT:()=>o});var r=n(7716);let i=null;function s(){return i}function o(e){i||(i=e)}class a{}const l=new r.OlP("DocumentToken");let c=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(d)}const h=new r.OlP("Location Initialized");let d=(()=>{class e extends c{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l))},e.\u0275prov=(0,r.Yz7)({factory:f,token:e,providedIn:"platform"}),e})();function p(){return!!window.history.pushState}function f(){return new d((0,r.LFG)(l))}function m(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:_,token:e,providedIn:"root"}),e})();function _(e){const t=(0,r.LFG)(l).location;return new w((0,r.LFG)(c),t&&t.origin||"")}const b=new r.OlP("appBaseHref");let w=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return m(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),E=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=m(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=g(T(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,T(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v),r.LFG(c))},e.normalizeQueryParams=y,e.joinWithSlash=m,e.stripTrailingSlash=g,e.\u0275prov=(0,r.Yz7)({factory:S,token:e,providedIn:"root"}),e})();function S(){return new C((0,r.LFG)(v),(0,r.LFG)(c))}function T(e){return e.replace(/\/index.html$/,"")}var I=(()=>((I=I||{})[I.Zero=0]="Zero",I[I.One=1]="One",I[I.Two=2]="Two",I[I.Few=3]="Few",I[I.Many=4]="Many",I[I.Other=5]="Other",I))();const x=r.kL8;class k{}let A=(()=>{class e extends k{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(x(t||this.locale)(e)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function R(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let P=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class O{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new O(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new D(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class D{constructor(e,t){this.record=e,this.view=t}}let L=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new M,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){F("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){F("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class M{constructor(){this.$implicit=null,this.ngIf=null}}function F(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}class V{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let U=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),j=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new V(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(U,9))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),z=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})();class B{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class q{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const $=new q,G=new B;let H=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r.QGY)(t))return $;if((0,r.F4k)(t))return G;throw Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO,16))},e.\u0275pipe=r.Yjl({name:"async",type:e,pure:!1}),e})(),W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:k,useClass:A}]}),e})();const K="browser";function Z(e){return e===K}function Y(e){return"server"===e}let Q=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new X((0,r.LFG)(l),window)}),e})();class X{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=J(this.window.history)||J(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function J(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class ee{}},1841:(e,t,n)=>{"use strict";n.d(t,{eN:()=>k,JF:()=>z});var r=n(8583),i=n(7716),s=n(5917),o=n(7574),a=n(4612),l=n(5435),c=n(8002);class u{}class h{}class d{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new d;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class p{encodeKey(e){return f(e)}encodeValue(e){return f(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function f(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function m(e){return`${e}`}class g{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new p,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new g({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(m(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(m(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class y{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function v(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function _(e){return"undefined"!=typeof Blob&&e instanceof Blob}function b(e){return"undefined"!=typeof FormData&&e instanceof FormData}class w{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.context||(this.context=new y),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new g,this.urlWithParams=t}serializeBody(){return null===this.body?null:v(this.body)||_(this.body)||b(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b(this.body)?null:_(this.body)?this.body.type||null:v(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new w(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var E=(()=>((E=E||{})[E.Sent=0]="Sent",E[E.UploadProgress=1]="UploadProgress",E[E.ResponseHeader=2]="ResponseHeader",E[E.DownloadProgress=3]="DownloadProgress",E[E.Response=4]="Response",E[E.User=5]="User",E))();class C{constructor(e,t=200,n="OK"){this.headers=e.headers||new d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class S extends C{constructor(e={}){super(e),this.type=E.ResponseHeader}clone(e={}){return new S({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class T extends C{constructor(e={}){super(e),this.type=E.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new T({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class I extends C{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function x(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let k=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof w)r=e;else{let i,s;i=n.headers instanceof d?n.headers:new d(n.headers),n.params&&(s=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new w(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,s.of)(r).pipe((0,a.b)(e=>this.handler.handle(e)));if(e instanceof w||"events"===n.observe)return i;const o=i.pipe((0,l.h)(e=>e instanceof T));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,c.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe((0,c.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe((0,c.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe((0,c.U)(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new g).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,x(n,t))}post(e,t,n={}){return this.request("POST",e,x(n,t))}put(e,t,n={}){return this.request("PUT",e,x(n,t))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(u))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class A{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const R=new i.OlP("HTTP_INTERCEPTORS");let P=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const O=/^\)\]\}',?\n/;let N=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new o.y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new d(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new S({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(O,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new T({body:l,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new I({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new I({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const c=r=>{l||(t.next(s()),l=!0);let i={type:E.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},u=e=>{let n={type:E.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:E.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.JF))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const D=new i.OlP("XSRF_COOKIE_NAME"),L=new i.OlP("XSRF_HEADER_NAME");class M{}let F=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,r.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0),i.LFG(i.Lbi),i.LFG(D))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),V=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(M),i.LFG(L))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),U=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(R,[]);this.chain=e.reduceRight((e,t)=>new A(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(h),i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),j=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:V,useClass:P}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:D,useValue:t.cookieName}:[],t.headerName?{provide:L,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[V,{provide:R,useExisting:V,multi:!0},{provide:M,useClass:F},{provide:D,useValue:"XSRF-TOKEN"},{provide:L,useValue:"X-XSRF-TOKEN"}]}),e})(),z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[k,{provide:u,useClass:U},N,{provide:h,useExisting:N}],imports:[[j.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})()},7716:(e,t,n)=>{"use strict";n.d(t,{deG:()=>sn,tb:()=>Cl,AFp:()=>vl,ip1:()=>gl,CZH:()=>yl,hGG:()=>gc,z2F:()=>oc,sBO:()=>va,Sil:()=>Dl,_Vd:()=>Bo,EJc:()=>Il,SBq:()=>Ho,qLn:()=>br,vpe:()=>Ya,gxx:()=>os,tBr:()=>In,XFs:()=>A,OlP:()=>rn,zs3:()=>ws,ZZ4:()=>ha,aQg:()=>pa,soG:()=>Tl,YKP:()=>ka,v3s:()=>lc,h0i:()=>xa,PXZ:()=>tc,R0b:()=>Fl,FiY:()=>xn,Lbi:()=>El,g9A:()=>wl,n_E:()=>Xa,Qsj:()=>Zo,FYo:()=>Ko,JOm:()=>Cr,Tiy:()=>Qo,q3G:()=>fr,tp0:()=>kn,EAV:()=>hc,Rgc:()=>Ca,dDg:()=>$l,DyG:()=>on,q4F:()=>Jo,GfV:()=>Xo,s_b:()=>Ra,ifc:()=>L,eFA:()=>nc,G48:()=>Jl,Gpc:()=>p,f3M:()=>Cn,X6Q:()=>Xl,_c5:()=>fc,VLi:()=>Wl,c2e:()=>Sl,zSh:()=>ls,wAp:()=>ko,vHH:()=>g,EiD:()=>dr,mCW:()=>Zn,qzn:()=>Vn,JVY:()=>jn,pB0:()=>$n,eBb:()=>Bn,L6k:()=>zn,LAX:()=>qn,cg1:()=>To,Tjo:()=>pc,kL8:()=>Io,yhl:()=>Un,dqk:()=>j,sIi:()=>Ps,CqO:()=>Zs,QGY:()=>Ws,F4k:()=>Ks,RDi:()=>Te,AaK:()=>u,z3N:()=>Fn,qOj:()=>Cs,TTD:()=>ve,_Bn:()=>Uo,xp6:()=>ui,uIk:()=>Ds,ekj:()=>uo,Suo:()=>ul,Xpm:()=>Q,lG2:()=>ie,Yz7:()=>b,cJS:()=>w,oAB:()=>te,Yjl:()=>se,Y36:()=>Vs,_UZ:()=>qs,BQk:()=>Gs,ynx:()=>$s,qZA:()=>Bs,TgZ:()=>zs,EpF:()=>Hs,n5z:()=>Xt,Ikx:()=>bo,LFG:()=>En,$8M:()=>en,NdJ:()=>Ys,CRH:()=>hl,kcU:()=>gt,O4$:()=>mt,oxw:()=>to,ALo:()=>Wa,lcZ:()=>Ka,Hsn:()=>io,F$t:()=>ro,Q6J:()=>Us,s9C:()=>so,VKq:()=>Ga,iGM:()=>ll,MAs:()=>Fs,CHM:()=>qe,LSH:()=>mr,kYT:()=>ne,Udp:()=>co,WFA:()=>Qs,d8E:()=>wo,YNc:()=>Ms,W1O:()=>ml,_uU:()=>yo,Oqu:()=>vo,hij:()=>_o,Gf:()=>cl});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(8345);function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=l({__forward_ref__:l});function p(e){return e.__forward_ref__=p,e.toString=function(){return u(this())},e}function f(e){return m(e)?e():e}function m(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===p}class g extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function y(e){return"string"==typeof e?e:null==e?"":String(e)}function v(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():y(e)}function _(e,t){const n=t?` in ${t}`:"";throw new g("201",`No provider for ${v(e)} found${n}`)}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function w(e){return{providers:e.providers||[],imports:e.imports||[]}}function E(e){return C(e,T)||C(e,x)}function C(e,t){return e.hasOwnProperty(t)?e[t]:null}function S(e){return e&&(e.hasOwnProperty(I)||e.hasOwnProperty(k))?e[I]:null}const T=l({"\u0275prov":l}),I=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),k=l({ngInjectorDef:l});var A=(()=>((A=A||{})[A.Default=0]="Default",A[A.Host=1]="Host",A[A.Self=2]="Self",A[A.SkipSelf=4]="SkipSelf",A[A.Optional=8]="Optional",A))();let R;function P(e){const t=R;return R=e,t}function O(e,t,n){const r=E(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==t?t:void _(u(e),"Injector")}function N(e){return{toString:e}.toString()}var D=(()=>((D=D||{})[D.OnPush=0]="OnPush",D[D.Default=1]="Default",D))(),L=(()=>((L=L||{})[L.Emulated=0]="Emulated",L[L.None=2]="None",L[L.ShadowDom=3]="ShadowDom",L))();const M="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,j=M||U||F||V,z={},B=[],q=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),G=l({"\u0275pipe":l}),H=l({"\u0275mod":l}),W=l({"\u0275loc":l}),K=l({"\u0275fac":l}),Z=l({__NG_ELEMENT_ID__:l});let Y=0;function Q(e){return N(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||B,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||L.Emulated,id:"c",styles:e.styles||B,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=Y++,n.inputs=re(e.inputs,t),n.outputs=re(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(X):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(J):null,n})}function X(e){return oe(e)||function(e){return e[$]||null}(e)}function J(e){return function(e){return e[G]||null}(e)}const ee={};function te(e){return N(()=>{const t={type:e.type,bootstrap:e.bootstrap||B,declarations:e.declarations||B,imports:e.imports||B,exports:e.exports||B,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ee[e.id]=e.type),t})}function ne(e,t){return N(()=>{const n=ae(e,!0);n.declarations=t.declarations||B,n.imports=t.imports||B,n.exports=t.exports||B})}function re(e,t){if(null==e)return z;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const ie=Q;function se(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[q]||null}function ae(e,t){const n=e[H]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return n}const le=20,ce=10;function ue(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function pe(e){return 2==(2&e.flags)}function fe(e){return 1==(1&e.flags)}function me(e){return null!==e.template}function ge(e,t){return e.hasOwnProperty(K)?e[K]:null}class ye{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ve(){return _e}function _e(e){return e.type.prototype.ngOnChanges&&(e.setInput=we),be}function be(){const e=Ee(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===z)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function we(e,t,n,r){const i=Ee(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:z,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new ye(l&&l.currentValue,t,o===z),e[r]=t}function Ee(e){return e.__ngSimpleChanges__||null}ve.ngInherit=!0;const Ce="http://www.w3.org/2000/svg";let Se;function Te(e){Se=e}function Ie(e){return!!e.listen}const xe={createRenderer:(e,t)=>void 0!==Se?Se:"undefined"!=typeof document?document:void 0};function ke(e){for(;Array.isArray(e);)e=e[0];return e}function Ae(e,t){return ke(t[e])}function Re(e,t){return ke(t[e.index])}function Pe(e,t){return e.data[t]}function Oe(e,t){return e[t]}function Ne(e,t){const n=t[e];return ue(n)?n:n[0]}function De(e){return 4==(4&e[2])}function Le(e){return 128==(128&e[2])}function Me(e,t){return null==t?null:e[t]}function Fe(e){e[18]=0}function Ve(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ue={lFrame:lt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function je(){return Ue.bindingsEnabled}function ze(){return Ue.lFrame.lView}function Be(){return Ue.lFrame.tView}function qe(e){return Ue.lFrame.contextLView=e,e[8]}function $e(){let e=Ge();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ge(){return Ue.lFrame.currentTNode}function He(e,t){const n=Ue.lFrame;n.currentTNode=e,n.isParent=t}function We(){return Ue.lFrame.isParent}function Ke(){Ue.lFrame.isParent=!1}function Ze(){return Ue.isInCheckNoChangesMode}function Ye(e){Ue.isInCheckNoChangesMode=e}function Qe(){const e=Ue.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Xe(){return Ue.lFrame.bindingIndex++}function Je(e,t){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,et(t)}function et(e){Ue.lFrame.currentDirectiveIndex=e}function tt(e){const t=Ue.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function nt(){return Ue.lFrame.currentQueryIndex}function rt(e){Ue.lFrame.currentQueryIndex=e}function it(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function st(e,t,n){if(n&A.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&A.Host||(r=it(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=Ue.lFrame=at();return r.currentTNode=t,r.lView=e,!0}function ot(e){const t=at(),n=e[1];Ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function at(){const e=Ue.lFrame,t=null===e?null:e.child;return null===t?lt(e):t}function lt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ct(){const e=Ue.lFrame;return Ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ut=ct;function ht(){const e=ct();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dt(){return Ue.lFrame.selectedIndex}function pt(e){Ue.lFrame.selectedIndex=e}function ft(){const e=Ue.lFrame;return Pe(e.tView,e.selectedIndex)}function mt(){Ue.lFrame.currentNamespace=Ce}function gt(){Ue.lFrame.currentNamespace=null}function yt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function vt(e,t,n){wt(e,t,3,n)}function _t(e,t,n,r){(3&e[2])===n&&wt(e,t,n,r)}function bt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function wt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Et(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Et(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ct=-1;class St{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Tt(e,t,n){const r=Ie(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];xt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function It(e){return 3===e||4===e||6===e}function xt(e){return 64===e.charCodeAt(0)}function kt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||At(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function At(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Rt(e){return e!==Ct}function Pt(e){return 32767&e}function Ot(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Nt=!0;function Dt(e){const t=Nt;return Nt=e,t}let Lt=0;function Mt(e,t){const n=Vt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ft(r.data,e),Ft(t,null),Ft(r.blueprint,null));const i=Ut(e,t),s=e.injectorIndex;if(Rt(i)){const e=Pt(i),n=Ot(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Ft(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Vt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ut(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Ct;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ct}function jt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Lt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function zt(e,t,n){if(n&A.Optional)return e;_(t,"NodeInjector")}function Bt(e,t,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=e[9],s=P(void 0);try{return i?i.get(t,r,n&A.Optional):O(t,r,n&A.Optional)}finally{P(s)}}return zt(r,t,n)}function qt(e,t,n,r=A.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Z)?e[Z]:void 0;return"number"==typeof t?t>=0?255&t:Gt:t}(n);if("function"==typeof s){if(!st(t,e,r))return r&A.Host?zt(i,n,r):Bt(t,n,r,i);try{const e=s(r);if(null!=e||r&A.Optional)return e;_(n)}finally{ut()}}else if("number"==typeof s){let i=null,o=Vt(e,t),a=Ct,l=r&A.Host?t[16][6]:null;for((-1===o||r&A.SkipSelf)&&(a=-1===o?Ut(e,t):t[o+8],a!==Ct&&Yt(r,!1)?(i=t[1],o=Pt(a),t=Ot(a,t)):o=-1);-1!==o;){const e=t[1];if(Zt(s,o,e.data)){const e=Ht(o,t,n,i,r,l);if(e!==$t)return e}a=t[o+8],a!==Ct&&Yt(r,t[1].data[o+8]===l)&&Zt(s,o,t)?(i=e,o=Pt(a),t=Ot(a,t)):o=-1}}}return Bt(t,n,r,i)}const $t={};function Gt(){return new Qt($e(),ze())}function Ht(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],l=Wt(a,o,n,null==r?pe(a)&&Nt:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==l?Kt(t,o,l,a):$t}function Wt(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=s>>20,u=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<u;h++){const e=o[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(i){const e=o[l];if(e&&me(e)&&e.type===n)return l}return null}function Kt(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof St){const o=i;o.resolving&&function(e,t){throw new g("200",`Circular dependency in DI detected for ${e}`)}(v(s[n]));const a=Dt(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?P(o.injectImpl):null;st(e,r,A.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=_e(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&P(l),Dt(a),o.resolving=!1,ut()}}return i}function Zt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Yt(e,t){return!(e&A.Self||e&A.Host&&t)}class Qt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return qt(this._tNode,this._lView,e,void 0,t)}}function Xt(e){return N(()=>{const t=e.prototype.constructor,n=t[K]||Jt(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[K]||Jt(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Jt(e){return m(e)?()=>{const t=Jt(f(e));return t&&t()}:ge(e)}function en(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(It(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}($e(),e)}const tn="__parameters__";function nn(e,t,n){return N(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(tn)?e[tn]:Object.defineProperty(e,tn,{value:[]})[tn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class rn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sn=new rn("AnalyzeForEntryComponents"),on=Function;function an(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),an(r,t)):t!==e&&t.push(r)}return t}function ln(e,t){e.forEach(e=>Array.isArray(e)?ln(e,t):t(e))}function cn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function un(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function hn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function dn(e,t,n){let r=fn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function pn(e,t){const n=fn(e,t);if(n>=0)return e[1|n]}function fn(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const mn={},gn=/\n/gm,yn="__source",vn=l({provide:String,useValue:l});let _n;function bn(e){const t=_n;return _n=e,t}function wn(e,t=A.Default){if(void 0===_n)throw new Error("inject() must be called from an injection context");return null===_n?O(e,void 0,t):_n.get(e,t&A.Optional?null:void 0,t)}function En(e,t=A.Default){return(R||wn)(f(e),t)}const Cn=En;function Sn(e){const t=[];for(let n=0;n<e.length;n++){const r=f(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=A.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(En(e,n))}else t.push(En(r))}return t}function Tn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const In=Tn(nn("Inject",e=>({token:e})),-1),xn=Tn(nn("Optional"),8),kn=Tn(nn("SkipSelf"),4);let An;function Rn(e){var t;return(null===(t=function(){if(void 0===An&&(An=null,j.trustedTypes))try{An=j.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return An}())||void 0===t?void 0:t.createHTML(e))||e}class Pn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class On extends Pn{getTypeName(){return"HTML"}}class Nn extends Pn{getTypeName(){return"Style"}}class Dn extends Pn{getTypeName(){return"Script"}}class Ln extends Pn{getTypeName(){return"URL"}}class Mn extends Pn{getTypeName(){return"ResourceURL"}}function Fn(e){return e instanceof Pn?e.changingThisBreaksApplicationSecurity:e}function Vn(e,t){const n=Un(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Un(e){return e instanceof Pn&&e.getTypeName()||null}function jn(e){return new On(e)}function zn(e){return new Nn(e)}function Bn(e){return new Dn(e)}function qn(e){return new Ln(e)}function $n(e){return new Mn(e)}class Gn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Rn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Hn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Rn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Rn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zn(e){return(e=String(e)).match(Wn)||e.match(Kn)?e:"unsafe:"+e}function Yn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Qn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Xn=Yn("area,br,col,hr,img,wbr"),Jn=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Yn("rp,rt"),tr=Qn(er,Jn),nr=Qn(Xn,Qn(Jn,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(er,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr),rr=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Yn("srcset"),sr=Qn(rr,ir,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),or=Yn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!nr.hasOwnProperty(t))return this.sanitizedSomething=!0,!or.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!sr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;rr[s]&&(o=Zn(o)),ir[s]&&(r=o,o=(r=String(r)).split(",").map(e=>Zn(e.trim())).join(", ")),this.buf.push(" ",t,'="',ur(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();nr.hasOwnProperty(t)&&!Xn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ur(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cr=/([^\#-~ |!])/g;function ur(e){return e.replace(/&/g,"&amp;").replace(lr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(cr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function dr(e,t){let n=null;try{hr=hr||function(e){const t=new Hn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Rn(""),"text/html")}catch(e){return!1}}()?new Gn(t):t}(e);let r=t?String(t):"";n=hr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==s);return Rn((new ar).sanitizeChildren(pr(n)||n))}finally{if(n){const e=pr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function pr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var fr=(()=>((fr=fr||{})[fr.NONE=0]="NONE",fr[fr.HTML=1]="HTML",fr[fr.STYLE=2]="STYLE",fr[fr.SCRIPT=3]="SCRIPT",fr[fr.URL=4]="URL",fr[fr.RESOURCE_URL=5]="RESOURCE_URL",fr))();function mr(e){const t=function(){const e=ze();return e&&e[12]}();return t?t.sanitize(fr.URL,e)||"":Vn(e,"URL")?Fn(e):Zn(y(e))}function gr(e,t){e.__ngContext__=t}function yr(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function vr(e){return e.ngOriginalError}function _r(e,...t){e.error(...t)}class br{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||_r}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(vr(e)):null}_findOriginalError(e){let t=e&&vr(e);for(;t&&vr(t);)t=vr(t);return t||null}}const wr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function Er(e){return e instanceof Function?e():e}var Cr=(()=>((Cr=Cr||{})[Cr.Important=1]="Important",Cr[Cr.DashCase=2]="DashCase",Cr))();function Sr(e,t){return(void 0)(e,t)}function Tr(e){const t=e[3];return he(t)?t[3]:t}function Ir(e){return kr(e[13])}function xr(e){return kr(e[4])}function kr(e){for(;null!==e&&!he(e);)e=e[4];return e}function Ar(e,t,n,r,i){if(null!=r){let s,o=!1;he(r)?s=r:ue(r)&&(o=!0,r=r[0]);const a=ke(r);0===e&&null!==n?null==i?Fr(t,n,a):Mr(t,n,a,i||null,!0):1===e&&null!==n?Mr(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Ur(e,t);r&&function(e,t,n,r){Ie(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==ke(n)&&Ar(t,e,r,s,i);for(let o=ce;o<n.length;o++){const i=n[o];Wr(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Rr(e,t,n){return Ie(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Pr(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ve(i,-1)),n.splice(r,1)}function Or(e,t){if(e.length<=ce)return;const n=ce+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Pr(s,r),t>0&&(e[n-1][4]=r[4]);const o=un(e,ce+t);Wr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Nr(e,t){if(!(256&t[2])){const n=t[11];Ie(n)&&n.destroyNode&&Wr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Dr(e[1],e);for(;t;){let n=null;if(ue(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)ue(t)&&Dr(t[1],t),t=t[3];null===t&&(t=e),ue(t)&&Dr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Dr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof St)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):ke(t[e]),a=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Ie(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&he(t[3])){n!==t[3]&&Pr(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Lr(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===L.None||t===L.Emulated)return null}return Re(r,n)}(e,t.parent,n)}function Mr(e,t,n,r,i){Ie(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Fr(e,t,n){Ie(e)?e.appendChild(t,n):t.appendChild(n)}function Vr(e,t,n,r,i){null!==r?Mr(e,t,n,r,i):Fr(e,t,n)}function Ur(e,t){return Ie(e)?e.parentNode(t):t.parentNode}function jr(e,t,n){return zr(e,t,n)}let zr=function(e,t,n){return 40&e.type?Re(e,n):null};function Br(e,t,n,r){const i=Lr(e,r,t),s=t[11],o=jr(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Vr(s,i,n[a],o,!1);else Vr(s,i,n,o,!1)}function qr(e,t){if(null!==t){const n=t.type;if(3&n)return Re(t,e);if(4&n)return Gr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return qr(e,n);{const n=e[t.index];return he(n)?Gr(-1,n):ke(n)}}if(32&n)return Sr(t,e)()||ke(e[t.index]);{const n=$r(e,t);return null!==n?Array.isArray(n)?n[0]:qr(Tr(e[16]),n):qr(e,t.next)}}return null}function $r(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Gr(e,t){const n=ce+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return qr(e,r)}return t[7]}function Hr(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&gr(ke(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Hr(e,t,n.child,r,i,s,!1),Ar(t,e,i,a,s);else if(32&l){const o=Sr(n,r);let l;for(;l=o();)Ar(t,e,i,l,s);Ar(t,e,i,a,s)}else 16&l?Kr(e,t,r,n,i,s):Ar(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Wr(e,t,n,r,i,s){Hr(n,r,e.firstChild,t,i,s,!1)}function Kr(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Ar(t,e,i,a[l],s);else Hr(e,t,a,o[3],i,s,!0)}function Zr(e,t,n){Ie(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Yr(e,t,n){Ie(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Qr(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const Xr="ng-template";function Jr(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Qr(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ei(e){return 4===e.type&&e.value!==Xr}function ti(e,t,n){return t===(4!==e.type||n?e.value:Xr)}function ni(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(It(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!ti(e,l,n)||""===l&&1===t.length){if(ri(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!Jr(e.attrs,c,n)){if(ri(r))return!1;o=!0}continue}const u=ii(8&r?"class":l,i,ei(e),n);if(-1===u){if(ri(r))return!1;o=!0;continue}if(""!==c){let e;e=u>s?"":i[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Qr(t,c,0)||2&r&&c!==e){if(ri(r))return!1;o=!0}}}}else{if(!o&&!ri(r)&&!ri(l))return!1;if(o&&ri(l))continue;o=!1,r=l|1&r}}return ri(r)||o}function ri(e){return 0==(1&e)}function ii(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function si(e,t,n=!1){for(let r=0;r<t.length;r++)if(ni(e,t[r],n))return!0;return!1}function oi(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function ai(e,t){return e?":not("+t.trim()+")":t}function li(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ri(o)||(t+=ai(s,i),i=""),r=o,s=s||!ri(r);n++}return""!==i&&(t+=ai(s,i)),t}const ci={};function ui(e){hi(Be(),ze(),dt()+e,Ze())}function hi(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&vt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&_t(t,r,0,n)}pt(n)}function di(e,t){return e<<17|t<<2}function pi(e){return e>>17&32767}function fi(e){return 2|e}function mi(e){return(131068&e)>>2}function gi(e,t){return-131069&e|t<<2}function yi(e){return 1|e}function vi(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];rt(i),n.contentQueries(2,t[s],s)}}}function _i(e,t,n,r,i,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=i,u[2]=140|r,Fe(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function bi(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=Ge(),o=We(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,r,i),Ue.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=function(){const e=Ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return He(s,!0),s}function wi(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ei(e,t,n){ot(t);try{const r=e.viewQuery;null!==r&&Xi(1,r,n);const i=e.template;null!==i&&Ti(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&vi(e,t),e.staticViewQueries&&Xi(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)Wi(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,ht()}}function Ci(e,t,n,r){const i=t[2];if(256==(256&i))return;ot(t);const s=Ze();try{Fe(t),Ue.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Ti(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&vt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&_t(t,n,0,null),bt(t,0)}if(function(e){for(let t=Ir(e);null!==t;t=xr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Ve(r,1),n[2]|=1024}}}(t),function(e){for(let t=Ir(e);null!==t;t=xr(t))for(let e=ce;e<t.length;e++){const n=t[e],r=n[1];Le(n)&&Ci(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&vi(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&vt(t,n)}else{const n=e.contentHooks;null!==n&&_t(t,n,1),bt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)pt(~r);else{const i=r,s=n[++e],o=n[++e];Je(s,i),o(2,t[i])}}}finally{pt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Gi(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Xi(2,l,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&vt(t,n)}else{const n=e.viewHooks;null!==n&&_t(t,n,2),bt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ve(t[3],-1))}finally{ht()}}function Si(e,t,n,r){const i=t[10],s=!Ze(),o=De(t);try{s&&!o&&i.begin&&i.begin(),o&&Ei(e,t,r),Ci(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ti(e,t,n,r,i){const s=dt(),o=2&r;try{pt(-1),o&&t.length>le&&hi(e,t,le,Ze()),n(r,i)}finally{pt(s)}}function Ii(e,t,n){if(de(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function xi(e,t,n){je()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Mt(n,t),gr(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=me(r);s&&zi(t,n,r);const l=Kt(t,e,a,n);gr(l,t),null!==o&&Bi(0,a-i,l,r,0,o),s&&(Ne(n.index,t)[8]=l)}}(e,t,n,Re(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ue.lFrame.currentDirectiveIndex;try{pt(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];et(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Mi(r,i)}}finally{pt(-1),et(o)}}(e,t,n))}function ki(e,t,n=Re){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Ai(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ri(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ri(e,t,n,r,i,s,o,a,l,c){const u=le+r,h=u+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ci);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Pi(e,t,n,r){const i=es(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&ts(e).push(r,i.length-1))}function Oi(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Ni(e,t,n,r,i,s,o,a){const l=Re(t,n);let c,u=t.inputs;var h;!a&&null!=u&&(c=u[r])?(is(e,n,c,r,i),pe(t)&&function(e,t){const n=Ne(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,Ie(s)?s.setProperty(l,r,i):xt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Di(e,t,n,r){let i=!1;if(je()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];si(n,o.selectors,!1)&&(i||(i=[]),jt(Mt(n,t),e,o.type),me(o)?(Fi(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ui(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,l=wi(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=kt(n.mergedAttrs,c.hostAttrs),ji(e,n,t,l,c),Vi(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=r[l],n=e.inputs,c=null===i||ei(t)?null:qi(n,i);s.push(c),o=Oi(n,l,o),a=Oi(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new g("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=kt(n.mergedAttrs,n.attrs),i}function Li(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Mi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Fi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Vi(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;me(t)&&(n[""]=e)}}function Ui(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ji(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ge(i.type)),o=new St(s,me(i),null);e.blueprint[r]=o,n[r]=o,Li(e,t,0,r,wi(e,n,i.hostVars,ci),i)}function zi(e,t,n){const r=Re(t,e),i=Ai(n),s=e[10],o=Ki(e,_i(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Bi(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function qi(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Gi(e,t){const n=Ne(t,e);if(Le(n)){const e=n[1];80&n[2]?Ci(e,n,e.template,n[8]):n[5]>0&&Hi(n)}}function Hi(e){for(let n=Ir(e);null!==n;n=xr(n))for(let e=ce;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ci(e,t,e.template,t[8])}else t[5]>0&&Hi(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Ne(t[n],e);Le(r)&&r[5]>0&&Hi(r)}}function Wi(e,t){const n=Ne(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Ei(r,n,n[8])}function Ki(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Zi(e){for(;e;){e[2]|=64;const t=Tr(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Yi(e,t,n){const r=t[10];r.begin&&r.begin();try{Ci(e,t,e.template,n)}catch(i){throw rs(t,i),i}finally{r.end&&r.end()}}function Qi(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=yr(n),i=r[1];Si(i,r,i.template,n)}}(e[8])}function Xi(e,t,n){rt(0),t(e,n)}const Ji=(()=>Promise.resolve(null))();function es(e){return e[7]||(e[7]=[])}function ts(e){return e.cleanup||(e.cleanup=[])}function ns(e,t,n){return(null===e||me(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function rs(e,t){const n=e[9],r=n?n.get(br,null):null;r&&r.handleError(t)}function is(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function ss(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=h(i,e):2==s&&(r=h(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const os=new rn("INJECTOR",-1);class as{get(e,t=mn){if(t===mn){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const ls=new rn("Set Injector scope."),cs={},us={};let hs;function ds(){return void 0===hs&&(hs=new as),hs}function ps(e,t=null,n=null,r){return new fs(e,n,t||ds(),r)}class fs{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&ln(t,n=>this.processProvider(n,e,t)),ln([e],e=>this.processInjectorType(e,[],i)),this.records.set(os,ys(void 0,this));const s=this.records.get(ls);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=mn,n=A.Default){this.assertNotDestroyed();const r=bn(this),i=P(void 0);try{if(!(n&A.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof rn)&&E(e);t=n&&this.injectableDefInScope(n)?ys(ms(e),cs):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&A.Self?ds():this.parent).get(e,t=n&A.Optional&&t===mn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(u(e)),r)throw o;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[yn]&&i.unshift(t[yn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=u(t);if(Array.isArray(t))i=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(gn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{P(i),bn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(u(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=f(e)))return!1;let r=S(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{ln(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];ln(r,e=>this.processProvider(e,n,r||B))}}this.injectorDefTypes.add(s);const a=ge(s)||(()=>new s);this.records.set(s,ys(a,cs));const l=r.providers;if(null!=l&&!o){const t=e;ln(l,e=>this.processProvider(e,t,l))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=_s(e=f(e))?e:f(e&&e.provide);const i=function(e,t,n){return vs(e)?ys(void 0,e.useValue):ys(gs(e),cs)}(e);if(_s(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=ys(void 0,cs,!0),t.factory=()=>Sn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===cs&&(t.value=us,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function ms(e){const t=E(e),n=null!==t?t.factory:ge(e);if(null!==n)return n;if(e instanceof rn)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=hn(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[T]||e[x]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function gs(e,t,n){let r;if(_s(e)){const t=f(e);return ge(t)||ms(t)}if(vs(e))r=()=>f(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...Sn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>En(f(e.useExisting));else{const t=f(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ge(t)||ms(t);r=()=>new t(...Sn(e.deps))}var i;return r}function ys(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function vs(e){return null!==e&&"object"==typeof e&&vn in e}function _s(e){return"function"==typeof e}const bs=function(e,t,n){return function(e,t=null,n=null,r){const i=ps(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};class ws{static create(e,t){return Array.isArray(e)?bs(e,t,""):bs(e.providers,e.parent,e.name||"")}}function Es(e,t){yt(yr(e)[1],$e())}function Cs(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let i;if(me(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=Ss(e.inputs),t.declaredInputs=Ss(e.declaredInputs),t.outputs=Ss(e.outputs);const n=i.hostBindings;n&&xs(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ts(e,s),o&&Is(e,o),c(e.inputs,i.inputs),c(e.declaredInputs,i.declaredInputs),c(e.outputs,i.outputs),me(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===Cs&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=kt(i.hostAttrs,n=kt(n,i.hostAttrs))}}(r)}function Ss(e){return e===z?{}:e===B?[]:e}function Ts(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Is(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function xs(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}ws.THROW_IF_NOT_FOUND=mn,ws.NULL=new as,ws.\u0275prov=b({token:ws,providedIn:"any",factory:()=>En(os)}),ws.__NG_ELEMENT_ID__=-1;let ks=null;function As(){if(!ks){const e=j.Symbol;if(e&&e.iterator)ks=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ks=n)}}}return ks}class Rs{constructor(e){this.wrapped=e}static wrap(e){return new Rs(e)}static unwrap(e){return Rs.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Rs}}function Ps(e){return!!Os(e)&&(Array.isArray(e)||!(e instanceof Map)&&As()in e)}function Os(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ns(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ds(e,t,n,r){const i=ze();return Ns(i,Xe(),t)&&(Be(),function(e,t,n,r,i,s){const o=Re(e,t);!function(e,t,n,r,i,s,o){if(null==s)Ie(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Ie(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}(ft(),i,e,t,n,r)),Ds}function Ls(e,t,n,r){return Ns(e,Xe(),n)?t+y(n)+r:ci}function Ms(e,t,n,r,i,s,o,a){const l=ze(),c=Be(),u=e+le,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,l){const c=t.consts,u=bi(t,e,4,o||null,Me(c,a));Di(t,n,u,Me(c,l)),yt(t,u);const h=u.tViews=Ri(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,s,o):c.data[u];He(h,!1);const d=l[11].createComment("");Br(c,l,d,h),gr(d,l),Ki(l,l[u]=$i(d,l,d,h)),fe(h)&&xi(c,l,h),null!=o&&ki(l,h,a)}function Fs(e){return Oe(Ue.lFrame.contextLView,le+e)}function Vs(e,t=A.Default){const n=ze();return null===n?En(e,t):qt($e(),n,f(e),t)}function Us(e,t,n){const r=ze();return Ns(r,Xe(),t)&&Ni(Be(),ft(),r,e,t,r[11],n,!1),Us}function js(e,t,n,r,i){const s=i?"class":"style";is(e,n,t.inputs[s],s,r)}function zs(e,t,n,r){const i=ze(),s=Be(),o=le+e,a=i[11],l=i[o]=Rr(a,t,Ue.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,l=bi(t,e,2,i,Me(a,s));return Di(t,n,l,Me(a,o)),null!==l.attrs&&ss(l,l.attrs,!1),null!==l.mergedAttrs&&ss(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,0,t,n,r):s.data[o];He(c,!0);const u=c.mergedAttrs;null!==u&&Tt(a,l,u);const h=c.classes;null!==h&&Yr(a,l,h);const d=c.styles;null!==d&&Zr(a,l,d),64!=(64&c.flags)&&Br(s,i,l,c),0===Ue.lFrame.elementDepthCount&&gr(l,i),Ue.lFrame.elementDepthCount++,fe(c)&&(xi(s,i,c),Ii(s,c,i)),null!==r&&ki(i,c)}function Bs(){let e=$e();We()?Ke():(e=e.parent,He(e,!1));const t=e;Ue.lFrame.elementDepthCount--;const n=Be();n.firstCreatePass&&(yt(n,e),de(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&js(n,t,ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&js(n,t,ze(),t.stylesWithoutHost,!1)}function qs(e,t,n,r){zs(e,t,n,r),Bs()}function $s(e,t,n){const r=ze(),i=Be(),s=e+le,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Me(s,r),a=bi(t,e,8,"ng-container",o);return null!==o&&ss(a,o,!0),Di(t,n,a,Me(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];He(o,!0);const a=r[s]=r[11].createComment("");Br(i,r,a,o),gr(a,r),fe(o)&&(xi(i,r,o),Ii(i,o,r)),null!=n&&ki(r,o)}function Gs(){let e=$e();const t=Be();We()?Ke():(e=e.parent,He(e,!1)),t.firstCreatePass&&(yt(t,e),de(e)&&t.queries.elementEnd(e))}function Hs(){return ze()}function Ws(e){return!!e&&"function"==typeof e.then}function Ks(e){return!!e&&"function"==typeof e.subscribe}const Zs=Ks;function Ys(e,t,n,r){const i=ze(),s=Be(),o=$e();return Xs(s,i,i[11],o,e,t,!!n,r),Ys}function Qs(e,t){const n=$e(),r=ze(),i=Be();return Xs(i,r,ns(tt(i.data),n,r),n,e,t,!1),Qs}function Xs(e,t,n,r,i,s,o,a){const l=fe(r),c=e.firstCreatePass&&ts(e),u=es(t);let h=!0;if(3&r.type||a){const d=Re(r,t),p=a?a(d):d,f=u.length,m=a?e=>a(ke(e[r.index])):r.index;if(Ie(n)){let o=null;if(!a&&l&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=eo(r,t,0,s,!1);const e=n.listen(p,i,s);u.push(s,e),c&&c.push(i,m,f,f+1)}}else s=eo(r,t,0,s,!0),p.addEventListener(i,s,o),u.push(s),c&&c.push(i,m,f,o)}else s=eo(r,t,0,s,!1);const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}function Js(e,t,n,r){try{return!1!==n(r)}catch(i){return rs(e,i),!1}}function eo(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Ne(e.index,t):t;0==(32&t[2])&&Zi(o);let a=Js(t,0,r,s),l=n.__ngNextListenerFn__;for(;l;)a=Js(t,0,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function to(e=1){return function(e){return(Ue.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ue.lFrame.contextLView))[8]}(e)}function no(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?si(e,s,!0):oi(r,s))return i}else n=i}return n}function ro(e){const t=ze()[16][6];if(!t.projection){const n=t.projection=hn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?no(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function io(e,t=0,n){const r=ze(),i=Be(),s=bi(i,le+e,16,null,n||null);null===s.projection&&(s.projection=t),Ke(),64!=(64&s.flags)&&function(e,t,n){Kr(t[11],0,t,n,Lr(e,n,t),jr(n.parent||t[6],n,t))}(i,r,s)}function so(e,t,n){return oo(e,"",t,"",n),so}function oo(e,t,n,r,i){const s=ze(),o=Ls(s,t,n,r);return o!==ci&&Ni(Be(),ft(),s,e,o,s[11],i,!1),oo}function ao(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?pi(s):mi(s),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a+1];lo(e[a],t)&&(l=!0,e[a+1]=r?yi(n):fi(n)),a=r?pi(n):mi(n)}l&&(e[n+1]=r?fi(s):yi(s))}function lo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&fn(e,t)>=0}function co(e,t,n){return ho(e,t,n,!1),co}function uo(e,t){return ho(e,t,null,!0),uo}function ho(e,t,n,r){const i=ze(),s=Be(),o=function(e){const t=Ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+2,n}();s.firstUpdatePass&&function(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[dt()],o=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(e.flags&(t?16:32))})(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=tt(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=fo(n=po(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=po(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==mi(r))return e[pi(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=po(null,e,t,n[1],r),n=fo(n,t.attrs,r),function(e,t,n,r){e[pi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=fo(r,e[s].hostAttrs,n);return fo(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=pi(o),l=mi(o);e[r]=n;let c,u=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||fn(e,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const t=pi(e[a+1]);e[r+1]=di(t,a),0!==t&&(e[t+1]=gi(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=di(a,0),0!==a&&(e[a+1]=gi(e[a+1],r)),a=r;else e[r+1]=di(l,0),0===a?a=r:e[l+1]=gi(e[l+1],r),l=r;u&&(e[r+1]=fi(e[r+1])),ao(e,c,r,!0),ao(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&fn(s,t)>=0&&(n[r+1]=yi(n[r+1]))}(t,c,e,r,s),o=di(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}(s,e,o,r),t!==ci&&Ns(i,o,t)&&function(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];go(1==(1&c)?mo(l,t,n,i,mi(c),o):void 0)||(go(s)||function(e){return 2==(2&e)}(c)&&(s=mo(l,null,n,i,a,o)),function(e,t,n,r,i){const s=Ie(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Cr.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=Cr.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Ae(dt(),n),i,s))}(s,s.data[dt()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Fn(e)))),e}(t,n),r,o)}function po(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=fo(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function fo(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),dn(e,o,!!n||t[++s]))}return void 0===e?null:e}function mo(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let u=n[i+1];u===ci&&(u=c?B:void 0);let h=c?pn(u,r):l===r?u:void 0;if(s&&!go(h)&&(h=pn(t,r)),go(h)&&(a=h,o))return a;const d=e[i+1];i=o?pi(d):mi(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=pn(e,r))}return a}function go(e){return void 0!==e}function yo(e,t=""){const n=ze(),r=Be(),i=e+le,s=r.firstCreatePass?bi(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return Ie(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Br(r,n,o,s),He(s,!1)}function vo(e){return _o("",e,""),vo}function _o(e,t,n){const r=ze(),i=Ls(r,e,t,n);return i!==ci&&function(e,t,n){const r=Ae(t,e);!function(e,t,n){Ie(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,dt(),i),_o}function bo(e,t,n){const r=ze();return Ns(r,Xe(),t)&&Ni(Be(),ft(),r,e,t,r[11],n,!0),bo}function wo(e,t,n){const r=ze();if(Ns(r,Xe(),t)){const i=Be(),s=ft();Ni(i,s,r,e,t,ns(tt(i.data),s,r),n,!0)}return wo}const Eo=void 0;var Co=["en",[["a","p"],["AM","PM"],Eo],[["AM","PM"],Eo,Eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eo,"{1} 'at' {0}",Eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let So={};function To(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=xo(t);if(n)return n;const r=t.split("-")[0];if(n=xo(r),n)return n;if("en"===r)return Co;throw new Error(`Missing locale data for the locale "${e}".`)}function Io(e){return To(e)[ko.PluralCase]}function xo(e){return e in So||(So[e]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[e]),So[e]}var ko=(()=>((ko=ko||{})[ko.LocaleId=0]="LocaleId",ko[ko.DayPeriodsFormat=1]="DayPeriodsFormat",ko[ko.DayPeriodsStandalone=2]="DayPeriodsStandalone",ko[ko.DaysFormat=3]="DaysFormat",ko[ko.DaysStandalone=4]="DaysStandalone",ko[ko.MonthsFormat=5]="MonthsFormat",ko[ko.MonthsStandalone=6]="MonthsStandalone",ko[ko.Eras=7]="Eras",ko[ko.FirstDayOfWeek=8]="FirstDayOfWeek",ko[ko.WeekendRange=9]="WeekendRange",ko[ko.DateFormat=10]="DateFormat",ko[ko.TimeFormat=11]="TimeFormat",ko[ko.DateTimeFormat=12]="DateTimeFormat",ko[ko.NumberSymbols=13]="NumberSymbols",ko[ko.NumberFormats=14]="NumberFormats",ko[ko.CurrencyCode=15]="CurrencyCode",ko[ko.CurrencySymbol=16]="CurrencySymbol",ko[ko.CurrencyName=17]="CurrencyName",ko[ko.Currencies=18]="Currencies",ko[ko.Directionality=19]="Directionality",ko[ko.PluralCase=20]="PluralCase",ko[ko.ExtraData=21]="ExtraData",ko))();const Ao="en-US";let Ro=Ao;function Po(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Ro=e.toLowerCase().replace(/_/g,"-"))}function Oo(e,t,n,r,i){if(e=f(e),Array.isArray(e))for(let s=0;s<e.length;s++)Oo(e[s],t,n,r,i);else{const s=Be(),o=ze();let a=_s(e)?e:f(e.provide),l=gs(e);const c=$e(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(_s(e)||!e.multi){const r=new St(l,i,Vs),p=Lo(a,t,i?u:u+d,h);-1===p?(jt(Mt(c,o),s,a),No(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=Lo(a,t,u+d,h),f=Lo(a,t,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(i&&!g||!i&&!m){jt(Mt(c,o),s,a);const u=function(e,t,n,r,i){const s=new St(e,n,Vs);return s.multi=[],s.index=t,s.componentProviders=0,Do(s,i,r&&!n),s}(i?Fo:Mo,n.length,i,r,l);!i&&g&&(n[f].providerFactory=u),No(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else No(s,e,p>-1?p:f,Do(n[i?f:p],l,!i&&r));!i&&r&&g&&n[f].componentProviders++}}}function No(e,t,n,r){const i=_s(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Do(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Lo(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Mo(e,t,n,r){return Vo(this.multi,[])}function Fo(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Kt(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),Vo(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Vo(i,s);return s}function Vo(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Uo(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Be();if(r.firstCreatePass){const i=me(e);Oo(n,r.data,r.blueprint,i,!0),Oo(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class jo{}class zo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class Bo{}function qo(...e){}function $o(e,t){return new Ho(Re(e,t))}Bo.NULL=new zo;const Go=function(){return $o($e(),ze())};let Ho=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Go,e})();function Wo(e){return e instanceof Ho?e.nativeElement:e}class Ko{}let Zo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Yo(),e})();const Yo=function(){const e=ze(),t=Ne($e().index,e);return function(e){return e[11]}(ue(t)?t:e)};let Qo=(()=>{class e{}return e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null}),e})();class Xo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Jo=new Xo("12.1.5");class ea{constructor(){}supports(e){return Ps(e)}create(e){return new na(e)}}const ta=(e,t)=>t;class na{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ta}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<oa(n,r,i)?t:n,o=oa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ps(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[As()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new ra(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new sa),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ra{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ia{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class sa{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ia,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oa(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class aa{constructor(){}supports(e){return e instanceof Map||Os(e)}create(){return new la}}class la{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Os(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ca(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class ca{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ua(){return new ha([new ea])}let ha=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ua()),deps:[[e,new kn,new xn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=b({token:e,providedIn:"root",factory:ua}),e})();function da(){return new pa([new aa])}let pa=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||da()),deps:[[e,new kn,new xn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=b({token:e,providedIn:"root",factory:da}),e})();function fa(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(ke(s)),he(s))for(let e=ce;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&fa(t[1],t,n,r)}const o=n.type;if(8&o)fa(e,t,n.child,r);else if(32&o){const e=Sr(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=$r(t,n);if(Array.isArray(e))r.push(...e);else{const n=Tr(t[16]);fa(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class ma{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return fa(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Or(e,n),un(t,n))}this._attachedToViewContainer=!1}Nr(this._lView[1],this._lView)}onDestroy(e){Pi(this._lView[1],this._lView,null,e)}markForCheck(){Zi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Ye(!0);try{Yi(e,t,n)}finally{Ye(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Wr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ga extends ma{constructor(e){super(e),this._view=e}detectChanges(){Qi(this._view)}checkNoChanges(){!function(e){Ye(!0);try{Qi(e)}finally{Ye(!1)}}(this._view)}get context(){return null}}const ya=function(e){return function(e,t,n){if(pe(e)&&!n){const n=Ne(e.index,t);return new ma(n,n)}return 47&e.type?new ma(t[16],t):null}($e(),ze(),16==(16&e))};let va=(()=>{class e{}return e.__NG_ELEMENT_ID__=ya,e})();const _a=[new aa],ba=new ha([new ea]),wa=new pa(_a),Ea=function(){return Ia($e(),ze())};let Ca=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ea,e})();const Sa=Ca,Ta=class extends Sa{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=_i(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ei(t,n,e),new ma(n)}};function Ia(e,t){return 4&e.type?new Ta(t,e,$o(e,t)):null}class xa{}class ka{}const Aa=function(){return La($e(),ze())};let Ra=(()=>{class e{}return e.__NG_ELEMENT_ID__=Aa,e})();const Pa=Ra,Oa=class extends Pa{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return $o(this._hostTNode,this._hostLView)}get injector(){return new Qt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ut(this._hostTNode,this._hostLView);if(Rt(e)){const t=Ot(e,this._hostLView),n=Pt(e);return new Qt(t[1].data[n+8],t)}return new Qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Na(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ce}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(xa,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(he(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Oa(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=ce+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-ce?(t[4]=n[i],cn(n,ce+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=Gr(i,s),a=n[11],l=Ur(a,s[7]);return null!==l&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,Wr(e,r,n,1,i,s)}(r,s[6],a,n,l,o),e.attachToViewContainerRef(),cn(Da(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Na(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Or(this._lContainer,t);n&&(un(Da(this._lContainer),t),Nr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Or(this._lContainer,t);return n&&null!=un(Da(this._lContainer),t)?new ma(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Na(e){return e[8]}function Da(e){return e[8]||(e[8]=[])}function La(e,t){let n;const r=t[e.index];if(he(r))n=r;else{let i;if(8&e.type)i=ke(r);else{const n=t[11];i=n.createComment("");const r=Re(e,t);Mr(n,Ur(n,r),i,function(e,t){return Ie(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=$i(r,t,i,e),Ki(t,n)}return new Oa(n,e,t)}const Ma={};class Fa extends Bo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=oe(e);return new ja(t,this.ngModule)}}function Va(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Ua=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wr});class ja extends jo{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(li).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Va(this.componentDef.inputs)}get outputs(){return Va(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Ma,i);return s!==Ma||r===Ma?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Ko,xe),o=i.get(Qo,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Ie(e))return e.selectRootElement(t,n===L.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Rr(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?Ce:"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:wr,clean:Ji,playerHandler:null,flags:0},d=Ri(0,null,null,1,0,null,null,null,null,null),p=_i(null,d,h,u,null,null,s,a,o,i);let f,m;ot(p);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=bi(o,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(ss(a,l,!0),null!==e&&(Tt(i,e,l),null!==a.classes&&Yr(i,e,a.classes),null!==a.styles&&Zr(i,e,a.styles)));const c=r.createRenderer(e,t),u=_i(n,Ai(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(jt(Mt(a,n),o,t.type),Fi(o,a),Ui(a,n.length,1)),Ki(n,u),n[20]=u}(c,this.componentDef,p,s,a);if(c)if(n)Tt(a,c,["ng-version",Jo.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ri(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Tt(a,c,e),t&&t.length>0&&Yr(a,c,t.join(" "))}if(m=Pe(d,le),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}f=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=$e();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ji(e,r,t,wi(e,t,1,null),n));const i=Kt(t,e,r.directiveStart,r);gr(i,t);const s=Re(r,t);return s&&gr(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=$e();t.contentQueries(1,o,e.directiveStart)}const a=$e();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(pt(a.index),Li(n[1],a,0,a.directiveStart,a.directiveEnd,t),Mi(t,o)),o}(e,this.componentDef,p,h,[Es]),Ei(d,p,null)}finally{ht()}return new za(this.componentType,f,$o(m,p),p,m)}}class za extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new ga(r),this.componentType=e}get injector(){return new Qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Ba=new Map;class qa extends xa{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fa(this);const n=ae(e),r=e[W]||null;r&&Po(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=ps(e,t,[{provide:xa,useValue:this},{provide:Bo,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ws.THROW_IF_NOT_FOUND,n=A.Default){return e===ws||e===xa||e===os?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class $a extends ka{constructor(e){super(),this.moduleType=e,null!==ae(e)&&function(e){const t=new Set;!function e(n){const r=ae(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(i,Ba.get(i),n),Ba.set(i,n));const s=Er(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new qa(this.moduleType,e)}}function Ga(e,t,n,r){return Ha(ze(),Qe(),e,t,n,r)}function Ha(e,t,n,r,i,s){const o=t+n;return Ns(e,o,i)?function(e,t,n){return e[t]=n}(e,o+1,s?r.call(s,i):r(i)):function(e,t){const n=e[t];return n===ci?void 0:n}(e,o+1)}function Wa(e,t){const n=Be();let r;const i=e+le;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new g("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ge(r.type)),o=P(Vs);try{const e=Dt(!1),t=s();return Dt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,ze(),i,t),t}finally{P(o)}}function Ka(e,t,n){const r=e+le,i=ze(),s=Oe(i,r);return function(e,t){return Rs.isWrapped(t)&&(t=Rs.unwrap(t),e[Ue.lFrame.bindingIndex]=ci),t}(i,function(e,t){return e[1].data[t].pure}(i,r)?Ha(i,Qe(),t,s.transform,n,s):s.transform(n))}function Za(e){return t=>{setTimeout(e,void 0,t)}}const Ya=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),l=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(l=Za(l),a&&(a=Za(a)),c&&(c=Za(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof i.w&&e.add(u),u}};function Qa(){return this._results[As()]()}class Xa{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=As(),n=Xa.prototype;n[t]||(n[t]=Qa)}get changes(){return this._changes||(this._changes=new Ya)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=an(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ja{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ja(this.queryList)}setDirty(){this.queryList.setDirty()}}class el{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new el(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==fl(e,t).matches&&this.queries[t].setDirty()}}class tl{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class nl{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new nl(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class rl{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new rl(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,il(t,i)),this.matchTNodeWithReadOption(e,t,Wt(t,e,i,!1,!1))}else n===Ca?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Wt(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ho||r===Ra||r===Ca&&4&t.type)this.addMatch(t.index,-2);else{const n=Wt(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function il(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function sl(e,t,n,r){return-1===n?function(e,t){return 11&e.type?$o(e,t):4&e.type?Ia(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ho?$o(t,e):n===Ca?Ia(t,e):n===Ra?La(t,e):void 0}(e,t,r):Kt(e,e[1],n,t)}function ol(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:sl(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function al(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=ol(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=ce;e<o.length;e++){const t=o[e];t[17]===t[3]&&al(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];al(n[1],n,i,r)}}}}}return r}function ll(e){const t=ze(),n=Be(),r=nt();rt(r+1);const i=fl(n,r);if(e.dirty&&De(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?al(n,t,r,[]):ol(n,t,i,r);e.reset(s,Wo),e.notifyOnChanges()}return!0}return!1}function cl(e,t,n){const r=Be();r.firstCreatePass&&(pl(r,new tl(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),dl(r,ze(),t)}function ul(e,t,n,r){const i=Be();if(i.firstCreatePass){const s=$e();pl(i,new tl(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}dl(i,ze(),n)}function hl(){return e=ze(),t=nt(),e[19].queries[t].queryList;var e,t}function dl(e,t,n){const r=new Xa(4==(4&n));Pi(e,t,r,r.destroy),null===t[19]&&(t[19]=new el),t[19].queries.push(new Ja(r))}function pl(e,t,n){null===e.queries&&(e.queries=new nl),e.queries.track(new rl(t,n))}function fl(e,t){return e.queries.getByIndex(t)}function ml(e,t){return Ia(e,t)}const gl=new rn("Application Initializer");let yl=(()=>{class e{constructor(e){this.appInits=e,this.resolve=qo,this.reject=qo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Ws(t))e.push(t);else if(Zs(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(En(gl,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const vl=new rn("AppId"),_l={provide:vl,useFactory:function(){return`${bl()}${bl()}${bl()}`},deps:[]};function bl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wl=new rn("Platform Initializer"),El=new rn("Platform ID"),Cl=new rn("appBootstrapListener");let Sl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Tl=new rn("LocaleId"),Il=new rn("DefaultCurrencyCode");class xl{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const kl=function(e){return new $a(e)},Al=kl,Rl=function(e){return Promise.resolve(kl(e))},Pl=function(e){const t=kl(e),n=Er(ae(e).declarations).reduce((e,t)=>{const n=oe(t);return n&&e.push(new ja(n)),e},[]);return new xl(t,n)},Ol=Pl,Nl=function(e){return Promise.resolve(Pl(e))};let Dl=(()=>{class e{constructor(){this.compileModuleSync=Al,this.compileModuleAsync=Rl,this.compileModuleAndAllComponentsSync=Ol,this.compileModuleAndAllComponentsAsync=Nl}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Ll=(()=>Promise.resolve(0))();function Ml(e){"undefined"==typeof Zone?Ll.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Fl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=j.requestAnimationFrame,t=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(j,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,jl(e),e.isCheckStableRunning=!0,Ul(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),jl(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return zl(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Bl(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return zl(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Bl(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,jl(e),Ul(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Vl,qo,qo);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Vl={};function Ul(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function jl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function zl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Bl(e){e._nesting--,Ul(e)}class ql{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let $l=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fl.assertNotInAngularZone(),Ml(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ml(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(En(Fl))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})(),Gl=(()=>{class e{constructor(){this._applications=new Map,Zl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Zl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();class Hl{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Wl(e){Zl=e}let Kl,Zl=new Hl,Yl=!0,Ql=!1;function Xl(){return Ql=!0,Yl}function Jl(){if(Ql)throw new Error("Cannot enable prod mode after platform setup.");Yl=!1}const ec=new rn("AllowMultipleToken");class tc{constructor(e,t){this.name=e,this.token=t}}function nc(e,t,n=[]){const r=`Platform: ${t}`,i=new rn(r);return(t=[])=>{let s=rc();if(!s||s.injector.get(ec,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:ls,useValue:"platform"});!function(e){if(Kl&&!Kl.destroyed&&!Kl.injector.get(ec,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Kl=e.get(ic);const t=e.get(wl,null);t&&t.forEach(e=>e())}(ws.create({providers:e,name:r}))}return function(e){const t=rc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function rc(){return Kl&&!Kl.destroyed?Kl:null}let ic=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new ql:("zone.js"===e?void 0:e)||new Fl({enableLongStackTrace:Xl(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Fl,useValue:n}];return n.run(()=>{const t=ws.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(br,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{ac(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return Ws(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(yl);return e.runInitializers(),e.donePromise.then(()=>(Po(i.injector.get(Tl,Ao)||Ao),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=sc({},t);return function(e,t,n){const r=new $a(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(oc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(En(ws))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function sc(e,t){return Array.isArray(t)?t.reduce(sc,e):Object.assign(Object.assign({},e),t)}let oc=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Fl.assertNotInAngularZone(),Ml(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,c.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof jo?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(xa),i=n.create(ws.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get($l,null),a=o&&i.injector.get(Gl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),ac(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;ac(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Cl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(En(Fl),En(ws),En(br),En(Bo),En(yl))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function ac(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class lc{}class cc{}const uc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let hc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||uc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>dc(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>dc(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(En(Dl),En(cc,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function dc(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const pc=function(e){return null},fc=nc(null,"core",[{provide:El,useValue:"unknown"},{provide:ic,deps:[ws]},{provide:Gl,deps:[]},{provide:Sl,deps:[]}]),mc=[{provide:oc,useClass:oc,deps:[Fl,ws,br,Bo,yl]},{provide:Ua,deps:[Fl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:yl,useClass:yl,deps:[[new xn,gl]]},{provide:Dl,useClass:Dl,deps:[]},_l,{provide:ha,useFactory:function(){return ba},deps:[]},{provide:pa,useFactory:function(){return wa},deps:[]},{provide:Tl,useFactory:function(e){return Po(e=e||"undefined"!=typeof $localize&&$localize.locale||Ao),e},deps:[[new In(Tl),new xn,new kn]]},{provide:Il,useValue:"USD"}];let gc=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(En(oc))},e.\u0275mod=te({type:e}),e.\u0275inj=w({providers:mc}),e})()},5355:(e,t,n)=>{"use strict";n.d(t,{nm:()=>j});var r=n(4459);n(7716),n(2329);var i=n(6304),s=n(279),o=n(8604),a=n(3854),l=n(9306);const c=new Map,u={activated:!1,tokenObservers:[]},h={initialized:!1,enabled:!1};function d(e){return c.get(e)||u}function p(e,t){c.set(e,t)}function f(){return h}class m{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,i.Z)(function*(){t.stop();try{t.pending=new a.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new a.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const g=new a.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function y(e){if(!d(e).activated)throw g.create("use-before-activation",{appName:e.name})}function v(e,t){return _.apply(this,arguments)}function _(){return(_=(0,i.Z)(function*({url:e,body:t},n){var r,i;const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const e=yield o.getHeartbeatsHeader();e&&(s["X-Firebase-Client"]=e)}const a={method:"POST",body:JSON.stringify(t),headers:s};let l,c;try{l=yield fetch(e,a)}catch(p){throw g.create("fetch-network-error",{originalErrorMessage:null===(r=p)||void 0===r?void 0:r.message})}if(200!==l.status)throw g.create("fetch-status-error",{httpStatus:l.status});try{c=yield l.json()}catch(p){throw g.create("fetch-parse-error",{originalErrorMessage:null===(i=p)||void 0===i?void 0:i.message})}const u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw g.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const h=1e3*Number(u[1]),d=Date.now();return{token:c.token,expireTimeMillis:d+h,issuedAtTimeMillis:d}})).apply(this,arguments)}function b(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const w="firebase-app-check-store";let E=null;function C(){return E||(E=new Promise((e,t)=>{var n;try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(g.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(w,{keyPath:"compositeKey"})}}}catch(r){t(g.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),E)}function S(){return(S=(0,i.Z)(function*(e,t){const n=(yield C()).transaction(w,"readwrite"),r=n.objectStore(w).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(g.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const T=new l.Yd("@firebase/app-check");function I(e,t){return(0,a.hl)()?function(e,t){return function(e,t){return S.apply(this,arguments)}(function(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(e=>{T.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function x(){return f().enabled}function k(){return A.apply(this,arguments)}function A(){return(A=(0,i.Z)(function*(){const e=f();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const R={error:"UNKNOWN_ERROR"};function P(e){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)(function*(e,t=!1){const n=e.app;y(n);const r=d(n);let i,s=r.token;if(!s){const e=yield r.cachedTokenPromise;e&&M(e)&&(s=e)}if(!t&&s&&M(s))return{token:s.token};let o,a=!1;if(x()){r.exchangeTokenPromise||(r.exchangeTokenPromise=v(b(n,yield k()),e.heartbeatServiceProvider).then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0);const t=yield r.exchangeTokenPromise;return yield I(n,t),p(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0),s=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?T.warn(l.message):T.error(l),i=l}return s?(o={token:s.token},p(n,Object.assign(Object.assign({},r),{token:s})),yield I(n,s)):o=F(i),a&&L(n,o),o})).apply(this,arguments)}function N(e,t){const n=d(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),p(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function D(e){const{app:t}=e,n=d(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new m((0,i.Z)(function*(){let n;if(n=d(t).token?yield P(e,!0):yield P(e),n.error)throw n.error}),()=>!0,()=>{const e=d(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e),p(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function L(e,t){const n=d(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function M(e){return e.expireTimeMillis-Date.now()>0}function F(e){return{token:(t=R,a.US.encodeString(JSON.stringify(t),!1)),error:e};var t}class V{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=d(this.app);for(const t of e)N(this.app,t.next);return Promise.resolve()}}const U="app-check-internal";(0,s._registerComponent)(new o.wA("app-check",e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),new V(t,n);var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(U).initialize()})),(0,s._registerComponent)(new o.wA(U,e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>P(t,e),addTokenListener:e=>function(e,t,n,r){const{app:i}=e,s=d(i),o={next:n,error:void 0,type:"INTERNAL"};if(p(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&M(s.token)){const t=s.token;Promise.resolve().then(()=>{n({token:t.token}),D(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>D(e))}(t,0,e),removeTokenListener:e=>N(t.app,e)};var t},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)("@firebase/app-check","0.5.12");class j{constructor(){return(0,r.vb)("app-check")}}"undefined"!=typeof window&&window},3820:(e,t,n)=>{"use strict";n.d(t,{zQ:()=>A,ww:()=>R,rT:()=>T,f7:()=>x,L6:()=>C,_Q:()=>S,lh:()=>I,Qv:()=>E,nw:()=>k});var r=n(7716),i=n(9765),s=n(5917),o=n(7574),a=n(4402),l=n(6682),c=n(3190);function u(e,t){return t?(0,c.w)(()=>e,t):(0,c.w)(()=>e)}var h=n(9746),d=n(8002),p=n(2066),f=n(8049),m=n(9673),g=n(5435),y=n(4459),v=n(8747),_=n(8583),b=n(5355),w=n(7841);const E=new r.OlP("angularfire2.auth.use-emulator"),C=new r.OlP("angularfire2.auth.settings"),S=new r.OlP("angularfire2.auth.tenant-id"),T=new r.OlP("angularfire2.auth.langugage-code"),I=new r.OlP("angularfire2.auth.use-device-language"),x=new r.OlP("angularfire.auth.persistence"),k=(e,t,n,r,i,s,o,a)=>(0,v.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))l.settings[e]=t;return a&&l.setPersistence(a),l},[n,r,i,s,o,a]);let A=(()=>{class e{constructor(e,t,r,b,w,E,C,S,T,I,x,A){const R=new i.xQ,P=(0,s.of)(void 0).pipe((0,h.QV)(w.outsideAngular),(0,c.w)(()=>b.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,4828)))),(0,d.U)(()=>(0,v.on)(e,b,t)),(0,d.U)(e=>k(e,b,E,S,T,I,C,x)),(0,p.d)({bufferSize:1,refCount:!1}));if((0,_.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,s.of)(null);else{P.pipe((0,f.P)()).subscribe();const e=P.pipe((0,c.w)(e=>e.getRedirectResult().then(e=>e,()=>null)),y.iC,(0,p.d)({bufferSize:1,refCount:!1})),t=P.pipe((0,c.w)(e=>new o.y(t=>({unsubscribe:b.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=P.pipe((0,c.w)(e=>new o.y(t=>({unsubscribe:b.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(u(t),(0,m.R)(w.outsideAngular),(0,h.QV)(w.insideAngular)),this.user=e.pipe(u(n),(0,m.R)(w.outsideAngular),(0,h.QV)(w.insideAngular)),this.idToken=this.user.pipe((0,c.w)(e=>e?(0,a.D)(e.getIdToken()):(0,s.of)(null))),this.idTokenResult=this.user.pipe((0,c.w)(e=>e?(0,a.D)(e.getIdTokenResult()):(0,s.of)(null))),this.credential=(0,l.T)(e,R,this.authState.pipe((0,g.h)(e=>!e))).pipe((0,d.U)(e=>(null==e?void 0:e.user)?e:null),(0,m.R)(w.outsideAngular),(0,h.QV)(w.insideAngular))}return(0,v.pX)(this,P,b,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>R.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v.Dh),r.LFG(v.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(y.HU),r.LFG(E,8),r.LFG(C,8),r.LFG(S,8),r.LFG(T,8),r.LFG(I,8),r.LFG(x,8),r.LFG(b.nm,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),R=(()=>{class e{constructor(){w.Z.registerVersion("angularfire",y.q4.full,"auth-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[A]}),e})()},4384:(e,t,n)=>{"use strict";n.d(t,{ST:()=>ig,yb:()=>sg});var r,i=n(7716),s=n(3637),o=n(7574),a=n(4402),l=n(5917),c=n(4459),u=n(9761),h=n(9328),d=n(8002),p=n(2145),f=n(7519),m=n(5435),g=n(8747),y=n(8583),v=(n(4828),n(156)),_=n(6304),b=n(279),w=n(8604),E=n(9306),C=n(3854),S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},T={},I=I||{},x=S||self;function k(){}function A(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function R(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var P="closure_uid_"+(1e9*Math.random()>>>0),O=0;function N(e,t,n){return e.call.apply(e.bind,arguments)}function D(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function L(e,t,n){return(L=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?N:D).apply(null,arguments)}function M(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function F(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function V(){this.s=this.s,this.o=this.o}var U={};V.prototype.s=!1,V.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,P)&&e[P]||(e[P]=++O)}(this);delete U[e]}},V.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const j=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},z=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function B(e){return Array.prototype.concat.apply([],arguments)}function q(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function $(e){return/^[\s\xa0]*$/.test(e)}var G,H=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function W(e,t){return-1!=e.indexOf(t)}function K(e,t){return e<t?-1:e>t?1:0}e:{var Z=x.navigator;if(Z){var Y=Z.userAgent;if(Y){G=Y;break e}}G=""}function Q(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function X(e){const t={};for(const n in e)t[n]=e[n];return t}var J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<J.length;t++)n=J[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function te(e){return te[" "](e),e}te[" "]=k;var ne,re,ie=W(G,"Opera"),se=W(G,"Trident")||W(G,"MSIE"),oe=W(G,"Edge"),ae=oe||se,le=W(G,"Gecko")&&!(W(G.toLowerCase(),"webkit")&&!W(G,"Edge"))&&!(W(G,"Trident")||W(G,"MSIE"))&&!W(G,"Edge"),ce=W(G.toLowerCase(),"webkit")&&!W(G,"Edge");function ue(){var e=x.document;return e?e.documentMode:void 0}e:{var he="",de=(re=G,le?/rv:([^\);]+)(\)|;)/.exec(re):oe?/Edge\/([\d\.]+)/.exec(re):se?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(re):ce?/WebKit\/(\S+)/.exec(re):ie?/(?:Version)[ \/]?(\S+)/.exec(re):void 0);if(de&&(he=de?de[1]:""),se){var pe=ue();if(null!=pe&&pe>parseFloat(he)){ne=String(pe);break e}}ne=he}var fe={};var me=x.document&&se&&(ue()||parseInt(ne,10))||void 0,ge=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{x.addEventListener("test",k,t),x.removeEventListener("test",k,t)}catch(n){}return e}();function ye(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ve(e,t){if(ye.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(le){e:{try{te(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:_e[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ve.Z.h.call(this)}}ye.prototype.h=function(){this.defaultPrevented=!0},F(ve,ye);var _e={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ee(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++we,this.ca=this.fa=!1}function Ce(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Se(e){this.src=e,this.g={},this.h=0}function Te(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=j(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ce(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ie(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Se.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ie(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ee(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var xe="closure_lm_"+(1e6*Math.random()|0),ke={};function Ae(e,t,n,r,i){if(r&&r.once)return Pe(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ae(e,t[s],n,r,i);return null}return n=Ve(n),e&&e[be]?e.N(t,n,R(r)?!!r.capture:!!r,i):Re(e,t,n,!1,r,i)}function Re(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=R(i)?!!i.capture:!!i,a=Me(e);if(a||(e[xe]=a=new Se(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Le;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ge||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(De(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pe(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Pe(e,t[s],n,r,i);return null}return n=Ve(n),e&&e[be]?e.O(t,n,R(r)?!!r.capture:!!r,i):Re(e,t,n,!0,r,i)}function Oe(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Oe(e,t[s],n,r,i);else r=R(r)?!!r.capture:!!r,n=Ve(n),e&&e[be]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ie(s=e.g[t],n,r,i))&&(Ce(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Me(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ie(t,n,r,i)),(n=-1<e?t[e]:null)&&Ne(n))}function Ne(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[be])Te(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(De(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Me(t))?(Te(n,e),0==n.h&&(n.src=null,t[xe]=null)):Ce(e)}}}function De(e){return e in ke?ke[e]:ke[e]="on"+e}function Le(e,t){if(e.ca)e=!0;else{t=new ve(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ne(e),e=n.call(r,t)}return e}function Me(e){return(e=e[xe])instanceof Se?e:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(e){return"function"==typeof e?e:(e[Fe]||(e[Fe]=function(t){return e.handleEvent(t)}),e[Fe])}function Ue(){V.call(this),this.i=new Se(this),this.P=this,this.I=null}function je(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new ye(t,e);else if(t instanceof ye)t.target=t.target||e;else{var i=t;ee(t=new ye(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ze(o,r,!0,t)&&i}if(i=ze(o=t.g=e,r,!0,t)&&i,i=ze(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ze(o=t.g=n[s],r,!1,t)&&i}function ze(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Te(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}F(Ue,V),Ue.prototype[be]=!0,Ue.prototype.removeEventListener=function(e,t,n,r){Oe(this,e,t,n,r)},Ue.prototype.M=function(){if(Ue.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ce(n[r]);delete t.g[e],t.h--}}this.I=null},Ue.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ue.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Be=x.JSON.stringify;function qe(){var e=Ye;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var $e,Ge=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new He,e=>e.reset());class He{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function We(e){x.setTimeout(()=>{throw e},0)}function Ke(e,t){$e||function(){var e=x.Promise.resolve(void 0);$e=function(){e.then(Qe)}}(),Ze||($e(),Ze=!0),Ye.add(e,t)}var Ze=!1,Ye=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ge.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Qe(){for(var e;e=qe();){try{e.h.call(e.g)}catch(n){We(n)}var t=Ge;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ze=!1}function Xe(e,t){Ue.call(this),this.h=e||1,this.g=t||x,this.j=L(this.kb,this),this.l=Date.now()}function Je(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function et(e,t,n){if("function"==typeof e)n&&(e=L(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=L(e.handleEvent,e)}return 2147483647<Number(t)?-1:x.setTimeout(e,t||0)}function tt(e){e.g=et(()=>{e.g=null,e.i&&(e.i=!1,tt(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}F(Xe,Ue),(r=Xe.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),je(this,"tick"),this.da&&(Je(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Xe.Z.M.call(this),Je(this),delete this.g};class nt extends V{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tt(this)}M(){super.M(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(e){V.call(this),this.h=e,this.g={}}F(rt,V);var it=[];function st(e,t,n,r){Array.isArray(n)||(n&&(it[0]=n.toString()),n=it);for(var i=0;i<n.length;i++){var s=Ae(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ot(e){Q(e.g,function(e,t){this.g.hasOwnProperty(t)&&Ne(e)},e),e.g={}}function at(){this.g=!0}function lt(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Be(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}rt.prototype.M=function(){rt.Z.M.call(this),ot(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},at.prototype.Aa=function(){this.g=!1},at.prototype.info=function(){};var ct={},ut=null;function ht(){return ut=ut||new Ue}function dt(e){ye.call(this,ct.Ma,e)}function pt(e){const t=ht();je(t,new dt(t,e))}function ft(e,t){ye.call(this,ct.STAT_EVENT,e),this.stat=t}function mt(e){const t=ht();je(t,new ft(t,e))}function gt(e,t){ye.call(this,ct.Na,e),this.size=t}function yt(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){e()},t)}ct.Ma="serverreachability",F(dt,ye),ct.STAT_EVENT="statevent",F(ft,ye),ct.Na="timingevent",F(gt,ye);var vt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_t={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bt(){}function wt(){}bt.prototype.h=null;var Et,Ct={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function St(){ye.call(this,"d")}function Tt(){ye.call(this,"c")}function It(){}function xt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new rt(this),this.P=At,this.W=new Xe(e=ae?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}F(St,ye),F(Tt,ye),F(It,bt),It.prototype.g=function(){return new XMLHttpRequest},It.prototype.i=function(){return{}},Et=new It;var At=45e3,Rt={},Pt={};function Ot(e,t,n){e.K=1,e.v=tn(Zt(t)),e.s=n,e.U=!0,Nt(e,null)}function Nt(e,t){e.F=Date.now(),Ft(e),e.A=Zt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),mn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new kt,e.g=mr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new nt(L(e.Ia,e,e.g),e.O)),st(e.V,e.g,"readystatechange",e.gb),t=e.H?X(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),pt(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Dt(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Lt(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Mt(e,n),r==Pt){4==t&&(e.o=4,mt(14),i=!1),lt(e.j,e.m,null,"[Incomplete Response]");break}if(r==Rt){e.o=4,mt(15),lt(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}lt(e.j,e.m,r,null),Bt(e,r)}Dt(e)&&r!=Pt&&r!=Rt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,mt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ar(t),t.L=!0,mt(11))):(lt(e.j,e.m,n,"[Invalid Chunked Response]"),zt(e),jt(e))}function Mt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pt:(n=Number(t.substring(n,r)),isNaN(n)?Rt:(r+=1)+n>t.length?Pt:(t=t.substr(r,n),e.C=r+n,t))}function Ft(e){e.Y=Date.now()+e.P,Vt(e,e.P)}function Vt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=yt(L(e.eb,e),t)}function Ut(e){e.B&&(x.clearTimeout(e.B),e.B=null)}function jt(e){0==e.l.G||e.I||ur(e.l,e)}function zt(e){Ut(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Je(e.W),ot(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||wn(n.i,e)))if(n.I=e.N,!e.J&&wn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cr(n),Xn(n)}or(n),mt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=yt(L(n.ab,n),6e3));if(1>=bn(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else dr(n,11)}else if((e.J||n.g==e)&&cr(n),!$(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(W(e,"spdy")||W(e,"quic")||W(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(En(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,en(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=fr(r,r.H?r.la:null,r.W),o.J){Cn(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Ut(a),Ft(a)),r.g=o}else sr(r);0<n.l.length&&tr(n)}else"stop"!=c[0]&&"close"!=c[0]||dr(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?dr(n,7):Qn(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}pt(4)}catch(c){}}function qt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(A(e)||"string"==typeof e)z(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(A(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(A(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function $t(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof $t)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Gt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ht(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ht(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=xt.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;const t=this.L;t&&3==Hn(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{const u=Hn(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||ae||this.g&&(this.h.h||this.g.ga()||Wn(this.g)))){this.I||4!=u||7==t||pt(8==t||0>=h?3:2),Ut(this);var n=this.g.ba();this.N=n;t:if(Dt(this)){var r=Wn(this.g);e="";var i=r.length,s=4==Hn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){zt(this),jt(this);var o="";break t}this.h.i=new x.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,mt(12),zt(this),jt(this);break e}lt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bt(this,n)}this.U?(Lt(this,u,o),ae&&this.i&&3==u&&(st(this.V,this.W,"tick",this.fb),this.W.start())):(lt(this.j,this.m,o,null),Bt(this,o)),4==u&&zt(this),this.i&&!this.I&&(4==u?ur(this.l,this):(this.i=!1,Ft(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,mt(12)):(this.o=0,mt(13)),zt(this),jt(this)}}}catch(u){}},r.fb=function(){if(this.g){var e=Hn(this.g),t=this.g.ga();this.C<t.length&&(Ut(this),Lt(this,e,t),this.i&&4!=e&&Ft(this))}},r.cancel=function(){this.I=!0,zt(this)},r.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(pt(3),mt(17)),zt(this),this.o=2,jt(this)):Vt(this,this.Y-e)},(r=$t.prototype).R=function(){Gt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return Gt(this),this.g.concat()},r.get=function(e,t){return Ht(this.h,e)?this.h[e]:t},r.set=function(e,t){Ht(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Wt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Kt){this.g=void 0!==t?t:e.g,Yt(this,e.j),this.s=e.s,Qt(this,e.i),Xt(this,e.m),this.l=e.l,t=e.h;var n=new hn;n.i=t.i,t.g&&(n.g=new $t(t.g),n.h=t.h),Jt(this,n),this.o=e.o}else e&&(n=String(e).match(Wt))?(this.g=!!t,Yt(this,n[1]||"",!0),this.s=nn(n[2]||""),Qt(this,n[3]||"",!0),Xt(this,n[4]),this.l=nn(n[5]||"",!0),Jt(this,n[6]||"",!0),this.o=nn(n[7]||"")):(this.g=!!t,this.h=new hn(null,this.g))}function Zt(e){return new Kt(e)}function Yt(e,t,n){e.j=n?nn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qt(e,t,n){e.i=n?nn(t,!0):t}function Xt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Jt(e,t,n){t instanceof hn?(e.h=t,function(e,t){t&&!e.j&&(dn(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(pn(this,t),mn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=rn(t,cn)),e.h=new hn(t,e.g))}function en(e,t,n){e.h.set(t,n)}function tn(e){return en(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,sn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rn(t,on,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rn(t,on,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(rn(n,"/"==n.charAt(0)?ln:an,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",rn(n,un)),e.join("")};var on=/[#\/\?@]/g,an=/[#\?:]/g,ln=/[#\?]/g,cn=/[#\?@]/g,un=/#/g;function hn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function dn(e){e.g||(e.g=new $t,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function pn(e,t){dn(e),t=gn(e,t),Ht(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ht((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gt(e)))}function fn(e,t){return dn(e),t=gn(e,t),Ht(e.g.h,t)}function mn(e,t,n){pn(e,t),0<n.length&&(e.i=null,e.g.set(gn(e,t),q(n)),e.h+=n.length)}function gn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function yn(e){this.l=e||vn,e=x.PerformanceNavigationTiming?0<(e=x.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(x.g&&x.g.Ea&&x.g.Ea()&&x.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(r=hn.prototype).add=function(e,t){dn(this),this.i=null,e=gn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){dn(this),this.g.forEach(function(n,r){z(n,function(n){e.call(t,n,r,this)},this)},this)},r.T=function(){dn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},r.R=function(e){dn(this);var t=[];if("string"==typeof e)fn(this,e)&&(t=B(t,this.g.get(gn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=B(t,e[n])}return t},r.set=function(e,t){return dn(this),this.i=null,fn(this,e=gn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var vn=10;function _n(e){return!!e.h||!!e.g&&e.g.size>=e.j}function bn(e){return e.h?1:e.g?e.g.size:0}function wn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function En(e,t){e.g?e.g.add(t):e.h=t}function Cn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Sn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return q(e.i)}function Tn(){}function In(){this.g=new Tn}function xn(e,t,n){const r=n||"";try{qt(e,function(e,n){let i=e;R(e)&&(i=Be(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function kn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function An(e){this.l=e.$b||null,this.j=e.ib||!1}function Rn(e,t){Ue.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Pn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yn.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Tn.prototype.stringify=function(e){return x.JSON.stringify(e,void 0)},Tn.prototype.parse=function(e){return x.JSON.parse(e,void 0)},F(An,bt),An.prototype.g=function(){return new Rn(this.l,this.j)},An.prototype.i=function(e){return function(){return e}}({}),F(Rn,Ue);var Pn=0;function On(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Nn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Dn(e)}function Dn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=Rn.prototype).open=function(e,t){if(this.readyState!=Pn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Dn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||x).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nn(this)),this.readyState=Pn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==x.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;On(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nn(this):Dn(this),3==this.readyState&&On(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,Nn(this))},r.Ta=function(e){this.g&&(this.response=e,Nn(this))},r.ha=function(){this.g&&Nn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Rn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ln=x.JSON.parse;function Mn(e){Ue.call(this),this.headers=new $t,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fn,this.K=this.L=!1}F(Mn,Ue);var Fn="",Vn=/^https?$/i,Un=["POST","PUT"];function jn(e){return"content-type"==e.toLowerCase()}function zn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Bn(e),$n(e)}function Bn(e){e.D||(e.D=!0,je(e,"complete"),je(e,"error"))}function qn(e){if(e.h&&void 0!==I&&(!e.C[1]||4!=Hn(e)||2!=e.ba()))if(e.v&&4==Hn(e))et(e.Fa,0,e);else if(je(e,"readystatechange"),4==Hn(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(Wt)[1]||null;if(!i&&x.self&&x.self.location){var s=x.self.location.protocol;i=s.substr(0,s.length-1)}r=!Vn.test(i?i.toLowerCase():"")}n=r}if(n)je(e,"complete"),je(e,"success");else{e.m=6;try{var o=2<Hn(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Bn(e)}}finally{$n(e)}}}function $n(e,t){if(e.g){Gn(e);const r=e.g,i=e.C[0]?k:null;e.g=null,e.C=null,t||je(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Gn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(x.clearTimeout(e.A),e.A=null)}function Hn(e){return e.g?e.g.readyState:0}function Wn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Fn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Kn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Q(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):en(e,t,n))}function Zn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yn(e){this.za=0,this.l=[],this.h=new at,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zn("baseRetryDelayMs",5e3,e),this.$a=Zn("retryDelaySeedMs",1e4,e),this.Ya=Zn("forwardChannelMaxRetries",2,e),this.ra=Zn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new yn(e&&e.concurrentRequestLimit),this.Ca=new In,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Qn(e){if(Jn(e),3==e.G){var t=e.V++,n=Zt(e.F);en(n,"SID",e.J),en(n,"RID",t),en(n,"TYPE","terminate"),rr(e,n),(t=new xt(e,e.h,t,void 0)).K=2,t.v=tn(Zt(n)),n=!1,x.navigator&&x.navigator.sendBeacon&&(n=x.navigator.sendBeacon(t.v.toString(),"")),!n&&x.Image&&((new Image).src=t.v,n=!0),n||(t.g=mr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ft(t)}pr(e)}function Xn(e){e.g&&(ar(e),e.g.cancel(),e.g=null)}function Jn(e){Xn(e),e.u&&(x.clearTimeout(e.u),e.u=null),cr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&x.clearTimeout(e.m),e.m=null)}function er(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&tr(e)}function tr(e){_n(e.i)||e.m||(e.m=!0,Ke(e.Ha,e),e.C=0)}function nr(e,t){var n;n=t?t.m:e.V++;const r=Zt(e.F);en(r,"SID",e.J),en(r,"RID",n),en(r,"AID",e.U),rr(e,r),e.o&&e.s&&Kn(r,e.o,e.s),n=new xt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ir(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),En(e.i,n),Ot(n,r,t)}function rr(e,t){e.j&&qt({},function(e,n){en(t,n,e)})}function ir(e,t,n){n=Math.min(e.l.length,n);var r=e.j?L(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{xn(a,e,"req"+n+"_")}catch(qr){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function sr(e){e.g||e.u||(e.Y=1,Ke(e.Ga,e),e.A=0)}function or(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=yt(L(e.Ga,e),hr(e,e.A)),e.A++,0))}function ar(e){null!=e.B&&(x.clearTimeout(e.B),e.B=null)}function lr(e){e.g=new xt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Zt(e.oa);en(t,"RID","rpc"),en(t,"SID",e.J),en(t,"CI",e.N?"0":"1"),en(t,"AID",e.U),rr(e,t),en(t,"TYPE","xmlhttp"),e.o&&e.s&&Kn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tn(Zt(t)),n.s=null,n.U=!0,Nt(n,e)}function cr(e){null!=e.v&&(x.clearTimeout(e.v),e.v=null)}function ur(e,t){var n=null;if(e.g==t){cr(e),ar(e),e.g=null;var r=2}else{if(!wn(e.i,t))return;n=t.D,Cn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;je(r=ht(),new gt(r,n,t,i)),tr(e)}else sr(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(bn(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=yt(L(e.Ha,e,t),hr(e,e.C)),e.C++,0)))}(e,t)||2==r&&or(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:dr(e,5);break;case 4:dr(e,10);break;case 3:dr(e,6);break;default:dr(e,2)}}function hr(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function dr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=L(e.jb,e);n||(n=new Kt("//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Yt(n,"https"),tn(n)),function(e,t){const n=new at;if(x.Image){const r=new Image;r.onload=M(kn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=M(kn,n,r,"TestLoadImage: error",!1,t),r.onabort=M(kn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=M(kn,n,r,"TestLoadImage: timeout",!1,t),x.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else mt(2);e.G=0,e.j&&e.j.va(t),pr(e),Jn(e)}function pr(e){e.G=0,e.I=-1,e.j&&(0==Sn(e.i).length&&0==e.l.length||(e.i.i.length=0,q(e.l),e.l.length=0),e.j.ua())}function fr(e,t,n){let r=function(e){return e instanceof Kt?Zt(e):new Kt(e,void 0)}(n);if(""!=r.i)t&&Qt(r,t+"."+r.i),Xt(r,r.m);else{const e=x.location;r=function(e,t,n,r){var i=new Kt(null,void 0);return e&&Yt(i,e),t&&Qt(i,t),n&&Xt(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Q(e.aa,function(e,t){en(r,t,e)}),n=e.sa,(t=e.D)&&n&&en(r,t,n),en(r,"VER",e.ma),rr(e,r),r}function mr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Mn(n&&e.Ba&&!e.qa?new An({ib:!0}):e.qa)).L=e.H,t}function gr(){}function yr(){if(se&&!(10<=Number(me)))throw Error("Environmental error: no available transport.")}function vr(e,t){Ue.call(this),this.g=new Yn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!$(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new wr(this)}function _r(e){St.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function br(){Tt.call(this),this.status=1}function wr(e){this.g=e}(r=Mn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Et.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Et),this.g.onreadystatechange=L(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void zn(this,s)}e=n||"";const i=new $t(this.headers);r&&qt(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=jn;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=x.FormData&&e instanceof x.FormData,!(0<=j(Un,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gn(this),0<this.B&&((this.K=function(e){return se&&function(){return e=fe,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=H(String(ne)).split("."),n=H("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=K(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||K(0==i[2].length,0==s[2].length)||K(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=L(this.pa,this)):this.A=et(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){zn(this,s)}},r.pa=function(){void 0!==I&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,je(this,"complete"),je(this,"abort"),$n(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$n(this,!0)),Mn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?qn(this):this.cb())},r.cb=function(){qn(this)},r.ba=function(){try{return 2<Hn(this)?this.g.status:-1}catch(re){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(re){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ln(t)}},r.Da=function(){return this.m},r.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=Yn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new xt(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=X(s),ee(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ir(this,i,t),en(n=Zt(this.F),"RID",e),en(n,"CVER",22),this.D&&en(n,"X-HTTP-Session-Id",this.D),rr(this,n),this.o&&s&&Kn(n,this.o,s),En(this.i,i),this.Ra&&en(n,"TYPE","init"),this.ja?(en(n,"$req",t),en(n,"SID","null"),i.$=!0,Ot(i,n,null)):Ot(i,n,t),this.G=2}}else 3==this.G&&(e?nr(this,e):0==this.l.length||_n(this.i)||nr(this))},r.Ga=function(){if(this.u=null,lr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=yt(L(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mt(10),Xn(this),lr(this))},r.ab=function(){null!=this.v&&(this.v=null,Xn(this),or(this),mt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),mt(2)):(this.h.info("Failed to ping google.com"),mt(1))},(r=gr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},yr.prototype.g=function(e,t){return new vr(e,t)},F(vr,Ue),vr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ke(L(e.hb,e,t))),mt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=fr(e,null,e.W),tr(e)},vr.prototype.close=function(){Qn(this.g)},vr.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,er(this.g,t)}else this.v?((t={}).__data__=Be(e),er(this.g,t)):er(this.g,e)},vr.prototype.M=function(){this.g.j=null,delete this.j,Qn(this.g),delete this.g,vr.Z.M.call(this)},F(_r,St),F(br,Tt),F(wr,gr),wr.prototype.xa=function(){je(this.g,"a")},wr.prototype.wa=function(e){je(this.g,new _r(e))},wr.prototype.va=function(e){je(this.g,new br(e))},wr.prototype.ua=function(){je(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,vr.prototype.send=vr.prototype.u,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,vt.NO_ERROR=0,vt.TIMEOUT=8,vt.HTTP_ERROR=6,_t.COMPLETE="complete",wt.EventType=Ct,Ct.OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",Ue.prototype.listen=Ue.prototype.N,Mn.prototype.listenOnce=Mn.prototype.O,Mn.prototype.getLastError=Mn.prototype.La,Mn.prototype.getLastErrorCode=Mn.prototype.Da,Mn.prototype.getStatus=Mn.prototype.ba,Mn.prototype.getResponseJson=Mn.prototype.Qa,Mn.prototype.getResponseText=Mn.prototype.ga,Mn.prototype.send=Mn.prototype.ea;var Er=T.createWebChannelTransport=function(){return new yr},Cr=T.getStatEventTarget=function(){return ht()},Sr=T.ErrorCode=vt,Tr=T.EventType=_t,Ir=T.Event=ct,xr=T.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kr=T.FetchXmlHttpFactory=An,Ar=T.WebChannel=wt,Rr=T.XhrIo=Mn;const Pr="@firebase/firestore";class Or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let Nr="9.9.1";const Dr=new E.Yd("@firebase/firestore");function Lr(){return Dr.logLevel}function Mr(e,...t){if(Dr.logLevel<=E.in.DEBUG){const n=t.map(Ur);Dr.debug(`Firestore (${Nr}): ${e}`,...n)}}function Fr(e,...t){if(Dr.logLevel<=E.in.ERROR){const n=t.map(Ur);Dr.error(`Firestore (${Nr}): ${e}`,...n)}}function Vr(e,...t){if(Dr.logLevel<=E.in.WARN){const n=t.map(Ur);Dr.warn(`Firestore (${Nr}): ${e}`,...n)}}function Ur(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function jr(e="Unexpected state"){const t=`FIRESTORE (${Nr}) INTERNAL ASSERTION FAILED: `+e;throw Fr(t),new Error(t)}function zr(e,t){e||jr()}function Br(e,t){return e}const qr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $r extends C.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Hr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class Kr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Zr{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,_.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{Mr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Mr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Mr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(zr("string"==typeof t.accessToken),new Hr(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zr(null===e||"string"==typeof e),new Or(e)}}class Yr{constructor(e,t,n){this.type="FirstParty",this.user=Or.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Qr{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Yr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jr{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Mr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Mr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Mr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):Mr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(zr("string"==typeof e.token),this.p=e.token,new Xr(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ei(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ti{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=ei(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ni(e,t){return e<t?-1:e>t?1:0}function ri(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function ii(e){return e+"\0"}class si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $r(qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $r(qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $r(qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $r(qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new si(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ni(this.nanoseconds,e.nanoseconds):ni(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oi(e)}static min(){return new oi(new si(0,0))}static max(){return new oi(new si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ai{constructor(e,t,n){void 0===t?t=0:t>e.length&&jr(),void 0===n?n=e.length-t:n>e.length-t&&jr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ai.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class li extends ai{construct(e,t,n){return new li(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new $r(qr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new li(t)}static emptyPath(){return new li([])}}const ci=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends ai{construct(e,t,n){return new ui(e,t,n)}static isValidIdentifier(e){return ci.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ui(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new $r(qr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new $r(qr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new $r(qr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new $r(qr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ui(t)}static emptyPath(){return new ui([])}}class hi{constructor(e){this.path=e}static fromPath(e){return new hi(li.fromString(e))}static fromName(e){return new hi(li.fromString(e).popFirst(5))}static empty(){return new hi(li.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===li.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return li.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hi(new li(e.slice()))}}class di{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function pi(e){return e.fields.find(e=>2===e.kind)}function fi(e){return e.fields.filter(e=>2!==e.kind)}di.UNKNOWN_ID=-1;class mi{constructor(e,t){this.fieldPath=e,this.kind=t}}class gi{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gi(0,_i.min())}}function yi(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=oi.fromTimestamp(1e9===r?new si(n+1,0):new si(n,r));return new _i(i,hi.empty(),t)}function vi(e){return new _i(e.readTime,e.key,-1)}class _i{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _i(oi.min(),hi.empty(),-1)}static max(){return new _i(oi.max(),hi.empty(),-1)}}function bi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=hi.comparator(e.documentKey,t.documentKey),0!==n?n:ni(e.largestBatchId,t.largestBatchId))}const wi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ei{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ci(e){return Si.apply(this,arguments)}function Si(){return(Si=(0,_.Z)(function*(e){if(e.code!==qr.FAILED_PRECONDITION||e.message!==wi)throw e;Mr("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ti{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ti((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ti?t:Ti.resolve(t)}catch(e){return Ti.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ti.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ti.reject(t)}static resolve(e){return new Ti((t,n)=>{t(e)})}static reject(e){return new Ti((t,n)=>{n(e)})}static waitFor(e){return new Ti((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Ti.resolve(!1);for(const n of e)t=t.next(e=>e?Ti.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ti((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new Ti((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}class Ii{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Gr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Ai(e,t.error)):this.T.resolve()},this.transaction.onerror=t=>{const n=Di(t.target.error);this.T.reject(new Ai(e,n))}}static open(e,t,n,r){try{return new Ii(t,e.transaction(r,n))}catch(e){throw new Ai(t,e)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Mr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pi(t)}}class xi{constructor(e,t,n){this.name=e,this.version=t,this.P=n,12.2===xi.v((0,C.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mr("SimpleDb","Removing database:",e),Oi(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,C.hl)())return!1;if(xi.S())return!0;const e=(0,C.z$)(),t=xi.v(e),n=0<t&&t<10,r=xi.D(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static D(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}k(e){var t=this;return(0,_.Z)(function*(){return t.db||(Mr("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new Ai(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new $r(qr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new $r(qr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new Ai(e,n))},i.onupgradeneeded=e=>{Mr("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.P.O(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{Mr("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=e=>t.M(e)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,_.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.k(e);const t=Ii.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).next(e=>(t.R(),e)).catch(e=>(t.abort(e),Ti.reject(e))).toPromise();return o.catch(()=>{}),yield t.A,o}catch(e){const n=e,r="FirebaseError"!==n.name&&o<3;if(Mr("SimpleDb","Transaction failed with error:",n.message,"Retrying:",r),i.close(),!r)return Promise.reject(n)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ki{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Oi(this.$.delete())}}class Ai extends $r{constructor(e,t){super(qr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ri(e){return"IndexedDbTransactionError"===e.name}class Pi{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Mr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Mr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Oi(n)}add(e){return Mr("SimpleDb","ADD",this.store.name,e,e),Oi(this.store.add(e))}get(e){return Oi(this.store.get(e)).next(t=>(void 0===t&&(t=null),Mr("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Mr("SimpleDb","DELETE",this.store.name,e),Oi(this.store.delete(e))}count(){return Mr("SimpleDb","COUNT",this.store.name),Oi(this.store.count())}K(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new Ti((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Ti((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}W(e,t){Mr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.G(r,(e,t,n)=>n.delete())}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Y(e){const t=this.cursor({});return new Ti((n,r)=>{t.onerror=e=>{const t=Di(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}G(e,t){const n=[];return new Ti((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ki(i),o=t(i.primaryKey,i.value,s);if(o instanceof Ti){const e=o.catch(e=>(s.done(),Ti.reject(e)));n.push(e)}s.isDone?r():null===s.U?i.continue():i.continue(s.U)}}).next(()=>Ti.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Oi(e){return new Ti((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=Di(e.target.error);n(t)}})}let Ni=!1;function Di(e){const t=xi.v((0,C.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new $r("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ni||(Ni=!0,setTimeout(()=>{throw e},0)),e}}return e}class Li{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Mr("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_.Z)(function*(){t.task=null;try{Mr("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(e){Ri(e)?Mr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):yield Ci(e)}yield t.Z(1)}))}}class Mi{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,_.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>t.et(n,e))})()}et(e,t){const n=new Set;let r=t,i=!0;return Ti.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return Mr("IndexBackiller",`Processing collection: ${t}`),this.nt(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}nt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.st(r,n)).next(n=>(Mr("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}st(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=vi(t);bi(r,n)>0&&(n=r)}),new _i(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Fi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.it(e),this.rt=e=>t.writeSequenceNumber(e))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Vi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ui(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ji(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Fi.ot=-1;class zi{constructor(e,t){this.comparator=e,this.root=t||qi.EMPTY}insert(e,t){return new zi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qi.BLACK,null,null))}remove(e){return new zi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bi(this.root,e,this.comparator,!0)}}class Bi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qi{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:qi.RED,this.left=null!=r?r:qi.EMPTY,this.right=null!=i?i:qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new qi(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qi.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jr();if(this.right.isRed())throw jr();const e=this.left.check();if(e!==this.right.check())throw jr();return e+(this.isRed()?0:1)}}qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1,qi.EMPTY=new class{constructor(){this.size=0}get key(){throw jr()}get value(){throw jr()}get color(){throw jr()}get left(){throw jr()}get right(){throw jr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new qi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $i{constructor(e){this.comparator=e,this.data=new zi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gi(this.data.getIterator())}getIteratorFrom(e){return new Gi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof $i))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $i(this.comparator);return t.data=e,t}}class Gi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hi(e){return e.hasNext()?e.getNext():void 0}class Wi{constructor(e){this.fields=e,e.sort(ui.comparator)}static empty(){return new Wi([])}unionWith(e){let t=new $i(ui.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Wi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ri(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ki{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ki(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ki(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ni(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const Zi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(e){if(zr(!!e),"string"==typeof e){let t=0;const n=Zi.exec(e);if(zr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qi(e.seconds),nanos:Qi(e.nanos)}}function Qi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Xi(e){return"string"==typeof e?Ki.fromBase64String(e):Ki.fromUint8Array(e)}function Ji(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function es(e){const t=e.mapValue.fields.__previous_value__;return Ji(t)?es(t):t}function ts(e){const t=Yi(e.mapValue.fields.__local_write_time__.timestampValue);return new si(t.seconds,t.nanos)}class ns{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class rs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rs&&e.projectId===this.projectId&&e.database===this.database}}function is(e){return null==e}function ss(e){return 0===e&&1/e==-1/0}function os(e){return"number"==typeof e&&Number.isInteger(e)&&!ss(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const as={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ls={nullValue:"NULL_VALUE"};function cs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ji(e)?4:Cs(e)?9007199254740991:10:jr()}function us(e,t){if(e===t)return!0;const n=cs(e);if(n!==cs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ts(e).isEqual(ts(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Yi(e.timestampValue),r=Yi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Xi(e.bytesValue).isEqual(Xi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Qi(e.geoPointValue.latitude)===Qi(t.geoPointValue.latitude)&&Qi(e.geoPointValue.longitude)===Qi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Qi(e.integerValue)===Qi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Qi(e.doubleValue),r=Qi(t.doubleValue);return n===r?ss(n)===ss(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ri(e.arrayValue.values||[],t.arrayValue.values||[],us);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Vi(n)!==Vi(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!us(n[i],r[i])))return!1;return!0}(e,t);default:return jr()}}function hs(e,t){return void 0!==(e.values||[]).find(e=>us(e,t))}function ds(e,t){if(e===t)return 0;const n=cs(e),r=cs(t);if(n!==r)return ni(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ni(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Qi(e.integerValue||e.doubleValue),r=Qi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ps(e.timestampValue,t.timestampValue);case 4:return ps(ts(e),ts(t));case 5:return ni(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Xi(e),r=Xi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ni(n[i],r[i]);if(0!==e)return e}return ni(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ni(Qi(e.latitude),Qi(t.latitude));return 0!==n?n:ni(Qi(e.longitude),Qi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ds(n[i],r[i]);if(e)return e}return ni(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===as.mapValue&&t===as.mapValue)return 0;if(e===as.mapValue)return 1;if(t===as.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=ni(r[o],s[o]);if(0!==e)return e;const t=ds(n[r[o]],i[s[o]]);if(0!==t)return t}return ni(r.length,s.length)}(e.mapValue,t.mapValue);default:throw jr()}}function ps(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ni(e,t);const n=Yi(e),r=Yi(t),i=ni(n.seconds,r.seconds);return 0!==i?i:ni(n.nanos,r.nanos)}function fs(e){return ms(e)}function ms(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Yi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Xi(e.bytesValue).toBase64():"referenceValue"in e?hi.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ms(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ms(e.fields[i])}`;return n+"}"}(e.mapValue):jr();var t}function gs(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ys(e){return!!e&&"integerValue"in e}function vs(e){return!!e&&"arrayValue"in e}function _s(e){return!!e&&"nullValue"in e}function bs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ws(e){return!!e&&"mapValue"in e}function Es(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ui(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Es(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Es(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Cs(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ss(e){return"nullValue"in e?ls:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?gs(rs.empty(),hi.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:jr()}function Ts(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?gs(rs.empty(),hi.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?as:jr()}function Is(e,t){const n=ds(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function xs(e,t){const n=ds(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ks{constructor(e){this.value=e}static empty(){return new ks({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ws(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Es(t)}setAll(e){let t=ui.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Es(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ws(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ws(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ui(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ks(Es(this.value))}}function As(e){const t=[];return Ui(e.fields,(e,n)=>{const r=new ui([e]);if(ws(n)){const e=As(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Wi(t)}class Rs{constructor(e,t,n,r,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Rs(e,0,oi.min(),oi.min(),ks.empty(),0)}static newFoundDocument(e,t,n){return new Rs(e,1,t,oi.min(),n,0)}static newNoDocument(e,t){return new Rs(e,2,t,oi.min(),ks.empty(),0)}static newUnknownDocument(e,t){return new Rs(e,3,t,oi.min(),ks.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ks.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rs(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ps{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null}}function Os(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Ps(e,t,n,r,i,s,o)}function Ns(e){const t=Br(e);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>{return(t=e).field.canonicalString()+t.op.toString()+fs(t.value);var t}).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),is(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>fs(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>fs(e)).join(",")),t.ut=e}return t.ut}function Ds(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Ys(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!us(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xs(e.startAt,t.startAt)&&Xs(e.endAt,t.endAt)}function Ls(e){return hi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ms(e,t){return e.filters.filter(e=>e instanceof Us&&e.field.isEqual(t))}function Fs(e,t,n){let r=ls,i=!0;for(const s of Ms(e,t)){let e=ls,t=!0;switch(s.op){case"<":case"<=":e=Ss(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=ls}Is({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Is({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Vs(e,t,n){let r=as,i=!0;for(const s of Ms(e,t)){let e=as,t=!0;switch(s.op){case">=":case">":e=Ts(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=as}xs({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];xs({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Us extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,n):new js(e,t,n):"array-contains"===t?new $s(e,n):"in"===t?new Gs(e,n):"not-in"===t?new Hs(e,n):"array-contains-any"===t?new Ws(e,n):new Us(e,t,n)}static ct(e,t,n){return"in"===t?new zs(e,n):new Bs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(ds(t,this.value)):null!==t&&cs(this.value)===cs(t)&&this.at(ds(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jr()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class js extends Us{constructor(e,t,n){super(e,t,n),this.key=hi.fromName(n.referenceValue)}matches(e){const t=hi.comparator(e.key,this.key);return this.at(t)}}class zs extends Us{constructor(e,t){super(e,"in",t),this.keys=qs(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Bs extends Us{constructor(e,t){super(e,"not-in",t),this.keys=qs(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>hi.fromName(e.referenceValue))}class $s extends Us{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vs(t)&&hs(t.arrayValue,this.value)}}class Gs extends Us{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hs(this.value.arrayValue,t)}}class Hs extends Us{constructor(e,t){super(e,"not-in",t)}matches(e){if(hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hs(this.value.arrayValue,t)}}class Ws extends Us{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>hs(this.value.arrayValue,e))}}class Ks{constructor(e,t){this.position=e,this.inclusive=t}}class Zs{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ys(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Qs(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?hi.comparator(hi.fromName(o.referenceValue),n.key):ds(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Xs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!us(e.position[n],t.position[n]))return!1;return!0}class Js{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.lt=null,this.ft=null}}function eo(e,t,n,r,i,s,o,a){return new Js(e,t,n,r,i,s,o,a)}function to(e){return new Js(e)}function no(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ro(e){for(const t of e.filters)if(t.ht())return t.field;return null}function io(e){return null!==e.collectionGroup}function so(e){const t=Br(e);if(null===t.lt){t.lt=[];const e=ro(t),n=no(t);if(null!==e&&null===n)e.isKeyField()||t.lt.push(new Zs(e)),t.lt.push(new Zs(ui.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.lt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Zs(ui.keyField(),e))}}}return t.lt}function oo(e){const t=Br(e);if(!t.ft)if("F"===t.limitType)t.ft=Os(t.path,t.collectionGroup,so(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of so(t))e.push(new Zs(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Ks(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ks(t.startAt.position,t.startAt.inclusive):null;t.ft=Os(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.ft}function ao(e,t,n){return new Js(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lo(e,t){return Ds(oo(e),oo(t))&&e.limitType===t.limitType}function co(e){return`${Ns(oo(e))}|lt:${e.limitType}`}function uo(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${fs(t.value)}`;var t}).join(", ")}]`),is(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>fs(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>fs(e)).join(",")),`Target(${t})`}(oo(e))}; limitType=${e.limitType})`}function ho(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Qs(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,so(e),t)||e.endAt&&!function(e,t,n){const r=Qs(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,so(e),t))}(e,t)}function po(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fo(e){return(t,n)=>{let r=!1;for(const i of so(e)){const e=mo(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function mo(e,t,n){const r=e.field.isKeyField()?hi.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ds(r,i):jr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return jr()}}function go(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ss(t)?"-0":t}}function yo(e){return{integerValue:""+e}}function vo(e,t){return os(t)?yo(t):go(e,t)}class _o{constructor(){this._=void 0}}function bo(e,t,n){return e instanceof Co?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof So?To(e,t):e instanceof Io?xo(e,t):function(e,t){const n=Eo(e,t),r=Ao(n)+Ao(e._t);return ys(n)&&ys(e._t)?yo(r):go(e.wt,r)}(e,t)}function wo(e,t,n){return e instanceof So?To(e,t):e instanceof Io?xo(e,t):n}function Eo(e,t){return e instanceof ko?ys(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Co extends _o{}class So extends _o{constructor(e){super(),this.elements=e}}function To(e,t){const n=Ro(t);for(const r of e.elements)n.some(e=>us(e,r))||n.push(r);return{arrayValue:{values:n}}}class Io extends _o{constructor(e){super(),this.elements=e}}function xo(e,t){let n=Ro(t);for(const r of e.elements)n=n.filter(e=>!us(e,r));return{arrayValue:{values:n}}}class ko extends _o{constructor(e,t){super(),this.wt=e,this._t=t}}function Ao(e){return Qi(e.integerValue||e.doubleValue)}function Ro(e){return vs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Po{constructor(e,t){this.field=e,this.transform=t}}class Oo{constructor(e,t){this.version=e,this.transformResults=t}}class No{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new No}static exists(e){return new No(void 0,e)}static updateTime(e){return new No(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Do(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Lo{}function Mo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ho(e.key,No.none()):new zo(e.key,e.data,No.none());{const n=e.data,r=ks.empty();let i=new $i(ui.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Bo(e.key,r,new Wi(i.toArray()),No.none())}}function Fo(e,t,n){e instanceof zo?function(e,t,n){const r=e.value.clone(),i=$o(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bo?function(e,t,n){if(!Do(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=$o(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vo(e,t,n,r){return e instanceof zo?function(e,t,n,r){if(!Do(e.precondition,t))return n;const i=e.value.clone(),s=Go(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bo?function(e,t,n,r){if(!Do(e.precondition,t))return n;const i=Go(e.fieldTransforms,r,t),s=t.data;return s.setAll(qo(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Do(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Uo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Eo(r.transform,e||null);null!=i&&(null===n&&(n=ks.empty()),n.set(r.field,i))}return n||null}function jo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ri(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof So&&t instanceof So||e instanceof Io&&t instanceof Io?ri(e.elements,t.elements,us):e instanceof ko&&t instanceof ko?us(e._t,t._t):e instanceof Co&&t instanceof Co}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zo extends Lo{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bo extends Lo{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qo(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function $o(e,t,n){const r=new Map;zr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,wo(o,a,n[i]))}return r}function Go(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,bo(e,s,t))}return r}class Ho extends Lo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wo extends Lo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ko{constructor(e){this.count=e}}var Zo,Yo;function Qo(e){switch(e){default:return jr();case qr.CANCELLED:case qr.UNKNOWN:case qr.DEADLINE_EXCEEDED:case qr.RESOURCE_EXHAUSTED:case qr.INTERNAL:case qr.UNAVAILABLE:case qr.UNAUTHENTICATED:return!1;case qr.INVALID_ARGUMENT:case qr.NOT_FOUND:case qr.ALREADY_EXISTS:case qr.PERMISSION_DENIED:case qr.FAILED_PRECONDITION:case qr.ABORTED:case qr.OUT_OF_RANGE:case qr.UNIMPLEMENTED:case qr.DATA_LOSS:return!0}}function Xo(e){if(void 0===e)return Fr("GRPC error has no .code"),qr.UNKNOWN;switch(e){case Zo.OK:return qr.OK;case Zo.CANCELLED:return qr.CANCELLED;case Zo.UNKNOWN:return qr.UNKNOWN;case Zo.DEADLINE_EXCEEDED:return qr.DEADLINE_EXCEEDED;case Zo.RESOURCE_EXHAUSTED:return qr.RESOURCE_EXHAUSTED;case Zo.INTERNAL:return qr.INTERNAL;case Zo.UNAVAILABLE:return qr.UNAVAILABLE;case Zo.UNAUTHENTICATED:return qr.UNAUTHENTICATED;case Zo.INVALID_ARGUMENT:return qr.INVALID_ARGUMENT;case Zo.NOT_FOUND:return qr.NOT_FOUND;case Zo.ALREADY_EXISTS:return qr.ALREADY_EXISTS;case Zo.PERMISSION_DENIED:return qr.PERMISSION_DENIED;case Zo.FAILED_PRECONDITION:return qr.FAILED_PRECONDITION;case Zo.ABORTED:return qr.ABORTED;case Zo.OUT_OF_RANGE:return qr.OUT_OF_RANGE;case Zo.UNIMPLEMENTED:return qr.UNIMPLEMENTED;case Zo.DATA_LOSS:return qr.DATA_LOSS;default:return jr()}}(Yo=Zo||(Zo={}))[Yo.OK=0]="OK",Yo[Yo.CANCELLED=1]="CANCELLED",Yo[Yo.UNKNOWN=2]="UNKNOWN",Yo[Yo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yo[Yo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yo[Yo.NOT_FOUND=5]="NOT_FOUND",Yo[Yo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yo[Yo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yo[Yo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yo[Yo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yo[Yo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yo[Yo.ABORTED=10]="ABORTED",Yo[Yo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yo[Yo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yo[Yo.INTERNAL=13]="INTERNAL",Yo[Yo.UNAVAILABLE=14]="UNAVAILABLE",Yo[Yo.DATA_LOSS=15]="DATA_LOSS";class Jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ji(this.inner)}size(){return this.innerSize}}const ea=new zi(hi.comparator);function ta(){return ea}const na=new zi(hi.comparator);function ra(...e){let t=na;for(const n of e)t=t.insert(n.key,n);return t}function ia(e){let t=na;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function sa(){return aa()}function oa(){return aa()}function aa(){return new Jo(e=>e.toString(),(e,t)=>e.isEqual(t))}const la=new zi(hi.comparator),ca=new $i(hi.comparator);function ua(...e){let t=ca;for(const n of e)t=t.add(n);return t}const ha=new $i(ni);function da(){return ha}class pa{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,t)),new pa(oi.min(),n,da(),ta(),ua())}}class fa{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new fa(Ki.EMPTY_BYTE_STRING,t,ua(),ua(),ua())}}class ma{constructor(e,t,n,r){this.gt=e,this.removedTargetIds=t,this.key=n,this.yt=r}}class ga{constructor(e,t){this.targetId=e,this.It=t}}class ya{constructor(e,t,n=Ki.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class va{constructor(){this.Tt=0,this.Et=wa(),this.At=Ki.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ua(),t=ua(),n=ua();return this.Et.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:jr()}}),new fa(this.At,this.Rt,e,t,n)}Dt(){this.bt=!1,this.Et=wa()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class _a{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=ta(),this.Bt=ba(),this.Lt=new $i(ni)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const n=this.Qt(t);switch(e.state){case 0:this.jt(t)&&n.Vt(e.resumeToken);break;case 1:n.kt(),n.Pt||n.Dt(),n.Vt(e.resumeToken);break;case 2:n.kt(),n.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(n.Ot(),n.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),n.Vt(e.resumeToken));break;default:jr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((e,n)=>{this.jt(n)&&t(n)})}zt(e){const t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){const e=r.target;if(Ls(e))if(0===n){const n=new hi(e.path);this.Kt(t,n,Rs.newNoDocument(n,oi.min()))}else zr(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((n,r)=>{const i=this.Ht(r);if(i){if(n.current&&Ls(i.target)){const t=new hi(i.target.path);null!==this.$t.get(t)||this.Xt(r,t)||this.Kt(r,t,Rs.newNoDocument(t,e))}n.vt&&(t.set(r,n.St()),n.Dt())}});let n=ua();this.Bt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Ht(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.$t.forEach((t,n)=>n.setReadTime(e));const r=new pa(e,t,this.Lt,this.$t,n);return this.$t=ta(),this.Bt=ba(),this.Lt=new $i(ni),r}qt(e,t){if(!this.jt(e))return;const n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,n){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new va,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new $i(ni),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Mr("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new va),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function ba(){return new zi(hi.comparator)}function wa(){return new zi(hi.comparator)}const Ea={asc:"ASCENDING",desc:"DESCENDING"},Ca={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Sa{constructor(e,t){this.databaseId=e,this.dt=t}}function Ta(e,t){return e.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ia(e,t){return e.dt?t.toBase64():t.toUint8Array()}function xa(e,t){return Ta(e,t.toTimestamp())}function ka(e){return zr(!!e),oi.fromTimestamp(function(e){const t=Yi(e);return new si(t.seconds,t.nanos)}(e))}function Aa(e,t){return function(e){return new li(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ra(e){const t=li.fromString(e);return zr(Xa(t)),t}function Pa(e,t){return Aa(e.databaseId,t.path)}function Oa(e,t){const n=Ra(t);if(n.get(1)!==e.databaseId.projectId)throw new $r(qr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $r(qr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hi(Ma(n))}function Na(e,t){return Aa(e.databaseId,t)}function Da(e){const t=Ra(e);return 4===t.length?li.emptyPath():Ma(t)}function La(e){return new li(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ma(e){return zr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Fa(e,t,n){return{name:Pa(e,t),fields:n.value.mapValue.fields}}function Va(e,t,n){const r=Oa(e,t.name),i=ka(t.updateTime),s=new ks({mapValue:{fields:t.fields}}),o=Rs.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Ua(e,t){let n;if(t instanceof zo)n={update:Fa(e,t.key,t.value)};else if(t instanceof Ho)n={delete:Pa(e,t.key)};else if(t instanceof Bo)n={update:Fa(e,t.key,t.data),updateMask:Qa(t.fieldMask)};else{if(!(t instanceof Wo))return jr();n={verify:Pa(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Co)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof So)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Io)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ko)return{fieldPath:t.field.canonicalString(),increment:n._t};throw jr()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jr()}(e,t.precondition)),n}function ja(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?No.updateTime(ka(e.updateTime)):void 0!==e.exists?No.exists(e.exists):No.none()}(t.currentDocument):No.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(zr("REQUEST_TIME"===t.setToServerValue),n=new Co):"appendMissingElements"in t?n=new So(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Io(t.removeAllFromArray.values||[]):"increment"in t?n=new ko(e,t.increment):jr();const r=ui.fromServerFormat(t.fieldPath);return new Po(r,n)}(e,t)):[];if(t.update){const i=Oa(e,t.update.name),s=new ks({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new Wi((e.fieldPaths||[]).map(e=>ui.fromServerFormat(e)))}(t.updateMask);return new Bo(i,s,e,n,r)}return new zo(i,s,n,r)}if(t.delete){const r=Oa(e,t.delete);return new Ho(r,n)}if(t.verify){const r=Oa(e,t.verify);return new Wo(r,n)}return jr()}function za(e,t){return{documents:[Na(e,t.path)]}}function Ba(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Na(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Na(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(bs(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NAN"}};if(_s(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bs(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NOT_NAN"}};if(_s(e.value))return{unaryFilter:{field:Wa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(e.field),op:Ha(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Wa(e.field),direction:Ga(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.dt||is(t)?t:{value:t}}(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function qa(e){let t=Da(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=$a(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new Zs(Ka(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,is(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){return new Ks(e.values||[],!!e.before)}(n.startAt));let c=null;return n.endAt&&(c=function(e){return new Ks(e.values||[],!e.before)}(n.endAt)),eo(t,i,o,s,a,"F",l,c)}function $a(e){return e?void 0!==e.unaryFilter?[Ya(e)]:void 0!==e.fieldFilter?[Za(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>$a(e)).reduce((e,t)=>e.concat(t)):jr():[]}function Ga(e){return Ea[e]}function Ha(e){return Ca[e]}function Wa(e){return{fieldPath:e.canonicalString()}}function Ka(e){return ui.fromServerFormat(e.fieldPath)}function Za(e){return Us.create(Ka(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jr()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ya(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ka(e.unaryFilter.field);return Us.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ka(e.unaryFilter.field);return Us.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ka(e.unaryFilter.field);return Us.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ka(e.unaryFilter.field);return Us.create(i,"!=",{nullValue:"NULL_VALUE"});default:return jr()}}function Qa(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Xa(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ja(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=tl(t)),t=el(e.get(n),t);return tl(t)}function el(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function tl(e){return e+"\x01\x01"}function nl(e){const t=e.length;if(zr(t>=2),2===t)return zr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),li.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&jr(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:jr()}s=t+2}return new li(r)}const rl=["userId","batchId"];function il(e,t){return[e,Ja(t)]}function sl(e,t,n){return[e,Ja(t),n]}const ol={},al=["prefixPath","collectionGroup","readTime","documentId"],ll=["prefixPath","collectionGroup","documentId"],cl=["collectionGroup","readTime","prefixPath","documentId"],ul=["canonicalId","targetId"],hl=["targetId","path"],dl=["path","targetId"],pl=["collectionId","parent"],fl=["indexId","uid"],ml=["uid","sequenceNumber"],gl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yl=["indexId","uid","orderedDocumentKey"],vl=["userId","collectionPath","documentId"],_l=["userId","collectionPath","largestBatchId"],bl=["userId","collectionGroup","largestBatchId"],wl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],El=[...wl,"documentOverlays"],Cl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sl=Cl,Tl=[...Sl,"indexConfiguration","indexState","indexEntries"];class Il extends Ei{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function xl(e,t){const n=Br(e);return xi.N(n.ee,t)}class kl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Fo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Vo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Vo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=oa();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Mo(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(oi.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ua())}isEqual(e){return this.batchId===e.batchId&&ri(this.mutations,e.mutations,(e,t)=>jo(e,t))&&ri(this.baseMutations,e.baseMutations,(e,t)=>jo(e,t))}}class Al{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){zr(e.mutations.length===n.length);let r=la;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Al(e,t,n,r)}}class Rl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pl{constructor(e,t,n,r,i=oi.min(),s=oi.min(),o=Ki.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Pl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ol{constructor(e){this.ne=e}}function Nl(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Dl(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Pa(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ta(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ll(t.version)};else{if(!t.isUnknownDocument())return jr();r.unknownDocument={path:n.path.toArray(),version:Ll(t.version)}}return r}function Dl(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ll(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ml(e){const t=new si(e.seconds,e.nanoseconds);return oi.fromTimestamp(t)}function Fl(e,t){const n=(t.baseMutations||[]).map(t=>ja(e.ne,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>ja(e.ne,t)),i=si.fromMillis(t.localWriteTimeMs);return new kl(t.batchId,i,n,r)}function Vl(e){const t=Ml(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ml(e.lastLimboFreeSnapshotVersion):oi.min();let r;var i;return void 0!==e.query.documents?(zr(1===(i=e.query).documents.length),r=oo(to(Da(i.documents[0])))):r=function(e){return oo(qa(e))}(e.query),new Pl(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Ki.fromBase64String(e.resumeToken))}function Ul(e,t){const n=Ll(t.snapshotVersion),r=Ll(t.lastLimboFreeSnapshotVersion);let i;i=Ls(t.target)?za(e.ne,t.target):Ba(e.ne,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ns(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jl(e){const t=qa({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ao(t,t.limit,"L"):t}function zl(e,t){return new Rl(t.largestBatchId,ja(e.ne,t.overlayMutation))}function Bl(e,t){const n=t.path.lastSegment();return[e,Ja(t.path.popLast()),n]}function ql(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ll(r.readTime),documentKey:Ja(r.documentKey.path),largestBatchId:r.largestBatchId}}class $l{getBundleMetadata(e,t){return Gl(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Ml(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Gl(e).put({bundleId:(n=t).id,createTime:Ll(ka(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Hl(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:jl(t.bundledQuery),readTime:Ml(t.readTime)};var t})}saveNamedQuery(e,t){return Hl(e).put(function(e){return{name:e.name,readTime:Ll(ka(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Gl(e){return xl(e,"bundles")}function Hl(e){return xl(e,"namedQueries")}class Wl{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new Wl(e,t.uid||"")}getOverlay(e,t){return Kl(e).get(Bl(this.userId,t)).next(e=>e?zl(this.wt,e):null)}getOverlays(e,t){const n=sa();return Ti.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const s=new Rl(t,i);r.push(this.ie(e,s))}),Ti.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(Ja(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Kl(e).W("collectionPathOverlayIndex",r))}),Ti.waitFor(i)}getOverlaysForCollection(e,t,n){const r=sa(),i=Ja(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Kl(e).K("collectionPathOverlayIndex",s).next(e=>{for(const t of e){const e=zl(this.wt,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=sa();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Kl(e).J({index:"collectionGroupOverlayIndex",range:o},(e,t,n)=>{const o=zl(this.wt,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()}).next(()=>i)}ie(e,t){return Kl(e).put(function(e,t,n){const[r,i,s]=Bl(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ua(e.ne,n.mutation)}}(this.wt,this.userId,t))}}function Kl(e){return xl(e,"documentOverlays")}class Zl{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Qi(e.integerValue));else if("doubleValue"in e){const n=Qi(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),ss(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ce(t,20),"string"==typeof n?t.he(n):(t.he(`${n.seconds||""}`),t.ae(n.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Xi(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ce(t,45),t.ae(n.latitude||0),t.ae(n.longitude||0)}else"mapValue"in e?Cs(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):jr()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const n=e.fields||{};this.ce(t,55);for(const r of Object.keys(n))this.le(r,t),this.oe(n[r],t)}me(e,t){const n=e.values||[];this.ce(t,50);for(const r of n)this.oe(r,t)}_e(e,t){this.ce(t,37),hi.fromName(e).path.forEach(e=>{this.ce(t,60),this.ge(e,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function Yl(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ql(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Yl(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Zl.ye=new Zl;class Xl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ie(n.value),n=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ae(n.value),n=t.next();this.Re()}be(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ie(e);else if(e<2048)this.Ie(960|e>>>6),this.Ie(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|e>>>12),this.Ie(128|63&e>>>6),this.Ie(128|63&e);else{const e=t.codePointAt(0);this.Ie(240|e>>>18),this.Ie(128|63&e>>>12),this.Ie(128|63&e>>>6),this.Ie(128|63&e)}}this.Te()}Pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ae(e);else if(e<2048)this.Ae(960|e>>>6),this.Ae(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e);else{const e=t.codePointAt(0);this.Ae(240|e>>>18),this.Ae(128|63&e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e)}}this.Re()}ve(e){const t=this.Ve(e),n=Ql(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),n=Ql(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Jl{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class ec{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class tc{constructor(){this.Me=new Xl,this.Fe=new Jl(this.Me),this.$e=new ec(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class nc{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new nc(this.indexId,this.documentKey,this.arrayValue,n)}}function rc(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=ic(e.arrayValue,t.arrayValue),0!==n?n:(n=ic(e.directionalValue,t.directionalValue),0!==n?n:hi.comparator(e.documentKey,t.documentKey)))}function ic(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class sc{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const e=t;e.ht()?this.Ke=e:this.qe.push(e)}}Ge(e){const t=pi(e);if(void 0!==t&&!this.Qe(t))return!1;const n=fi(e);let r=0,i=0;for(;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){const e=n[r];if(!this.je(this.Ke,e)||!this.We(this.Ue[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],e))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class oc{constructor(){this.ze=new ac}addToCollectionParentIndex(e,t){return this.ze.add(t),Ti.resolve()}getCollectionParents(e,t){return Ti.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Ti.resolve()}deleteFieldIndex(e,t){return Ti.resolve()}getDocumentsMatchingTarget(e,t){return Ti.resolve(null)}getIndexType(e,t){return Ti.resolve(0)}getFieldIndexes(e,t){return Ti.resolve([])}getNextCollectionGroupToUpdate(e){return Ti.resolve(null)}getMinOffset(e,t){return Ti.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,t){return Ti.resolve(_i.min())}updateCollectionGroup(e,t,n){return Ti.resolve()}updateIndexEntries(e,t){return Ti.resolve()}}class ac{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $i(li.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new $i(li.comparator)).toArray()}}const lc=new Uint8Array(0);class cc{constructor(e,t){this.user=e,this.databaseId=t,this.He=new ac,this.Je=new Jo(e=>Ns(e),(e,t)=>Ds(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const i={collectionId:n,parent:Ja(r)};return uc(e).put(i)}return Ti.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ii(t),""],!1,!0);return uc(e).K(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(nl(r.parent))}return n})}addFieldIndex(e,t){const n=dc(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=pc(e);return i.next(e=>{n.put(ql(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=dc(e),r=pc(e),i=hc(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=hc(e);let r=!0;const i=new Map;return Ti.forEach(this.Ye(t),t=>this.Xe(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=ua();const r=[];return Ti.forEach(i,(i,s)=>{var o;Mr("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`} to execute ${Ns(t)}`);const a=function(e,t){const n=pi(t);if(void 0===n)return null;for(const r of Ms(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),l=function(e,t){const n=new Map;for(const r of fi(t))for(const t of Ms(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of fi(t)){const t=0===i.kind?Fs(e,i.fieldPath,e.startAt):Vs(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ks(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of fi(t)){const t=0===i.kind?Vs(e,i.fieldPath,e.endAt):Fs(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ks(n,r)}(s,i),h=this.Ze(i,s,c),d=this.Ze(i,s,u),p=this.tn(i,s,l),f=this.en(i.indexId,a,h,c.inclusive,d,u.inclusive,p);return Ti.forEach(f,i=>n.j(i,t.limit).next(t=>{t.forEach(t=>{const n=hi.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return Ti.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.nn(t[u/l]):lc,h=this.sn(e,a,n[u%l],r),d=this.rn(e,a,i[u%l],s),p=o.map(t=>this.sn(e,a,t,!0));c.push(...this.createRange(h,d,p))}return c}sn(e,t,n,r){const i=new nc(e,hi.empty(),t,n);return r?i:i.Le()}rn(e,t,n,r){const i=new nc(e,hi.empty(),t,n);return r?i.Le():i}Xe(e,t){const n=new sc(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.Ge(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;return Ti.forEach(this.Ye(t),t=>this.Xe(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new $i(ui.comparator),n=!1;for(const r of e.filters){const e=r;e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field))}for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>n)}on(e,t){const n=new tc;for(const r of fi(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Be(r.kind);Zl.ye.re(e,i)}return n.Oe()}nn(e){const t=new tc;return Zl.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const n=new tc;return Zl.ye.re(gs(this.databaseId,t),n.Be(function(e){const t=fi(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}tn(e,t,n){if(null===n)return[];let r=[];r.push(new tc);let i=0;for(const s of fi(e)){const e=n[i++];for(const n of r)if(this.cn(t,s.fieldPath)&&vs(e))r=this.an(r,s,e);else{const t=n.Be(s.kind);Zl.ye.re(e,t)}}return this.hn(r)}Ze(e,t,n){return this.tn(e,t,n.position)}hn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Oe();return t}an(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new tc;n.seed(e.Oe()),Zl.ye.re(s,n.Be(t.kind)),i.push(n)}return i}cn(e,t){return!!e.filters.find(e=>e instanceof Us&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=dc(e),r=pc(e);return(t?n.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.K()).next(e=>{const t=[];return Ti.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new gi(t.sequenceNumber,new _i(Ml(t.readTime),new hi(nl(t.documentKey)),t.largestBatchId)):gi.empty(),r=e.fields.map(([e,t])=>new mi(ui.fromServerFormat(e),t));return new di(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ni(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=dc(e),i=pc(e);return this.ln(e).next(e=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>Ti.forEach(t,t=>i.put(ql(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return Ti.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?Ti.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),Ti.forEach(i,n=>this.fn(e,t,n).next(t=>{const i=this.dn(r,n);return t.isEqual(i)?Ti.resolve():this._n(e,r,n,t,i)}))))})}wn(e,t,n,r){return hc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}mn(e,t,n,r){return hc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}fn(e,t,n){const r=hc(e);let i=new $i(rc);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(e,r)=>{i=i.add(new nc(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>i)}dn(e,t){let n=new $i(rc);const r=this.on(t,e);if(null==r)return n;const i=pi(t);if(null!=i){const s=e.data.field(i.fieldPath);if(vs(s))for(const i of s.arrayValue.values||[])n=n.add(new nc(t.indexId,e.key,this.nn(i),r))}else n=n.add(new nc(t.indexId,e.key,lc,r));return n}_n(e,t,n,r,i){Mr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Hi(s),l=Hi(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Hi(o)):t?(i(a),a=Hi(s)):(a=Hi(s),l=Hi(o))}}(r,i,rc,r=>{s.push(this.wn(e,t,n,r))},r=>{s.push(this.mn(e,t,n,r))}),Ti.waitFor(s)}ln(e){let t=1;return pc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>rc(e,t)).filter((e,t,n)=>!t||0!==rc(e,n[t-1]));const r=[];r.push(e);for(const s of n){const n=rc(s,e),i=rc(s,t);if(0===n)r[0]=e.Le();else if(n>0&&i<0)r.push(s),r.push(s.Le());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2)i.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,lc,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,lc,[]]));return i}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(fc)}getMinOffset(e,t){return Ti.mapArray(this.Ye(t),t=>this.Xe(e,t).next(e=>e||jr())).next(fc)}}function uc(e){return xl(e,"collectionParents")}function hc(e){return xl(e,"indexEntries")}function dc(e){return xl(e,"indexConfiguration")}function pc(e){return xl(e,"indexState")}function fc(e){zr(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;bi(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new _i(t.readTime,t.documentKey,n)}const mc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new gc(e,gc.DEFAULT_COLLECTION_PERCENTILE,gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yc(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{zr(1===a)}));const c=[];for(const u of n.mutations){const e=sl(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return Ti.waitFor(s).next(()=>c)}function vc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw jr();t=e.noDocument}return JSON.stringify(t).length}gc.DEFAULT_COLLECTION_PERCENTILE=10,gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gc.DEFAULT=new gc(41943040,gc.DEFAULT_COLLECTION_PERCENTILE,gc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gc.DISABLED=new gc(-1,0,0);class _c{constructor(e,t,n,r){this.userId=e,this.wt=t,this.indexManager=n,this.referenceDelegate=r,this.gn={}}static se(e,t,n,r){zr(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new _c(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wc(e).J({index:"userMutationsIndex",range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Ec(e),s=wc(e);return s.add({}).next(o=>{zr("number"==typeof o);const a=new kl(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>Ua(e.ne,t)),i=n.mutations.map(t=>Ua(e.ne,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.wt,this.userId,a),c=[];let u=new $i((e,t)=>ni(e.canonicalString(),t.canonicalString()));for(const e of r){const t=sl(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,ol))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.gn[o]=a.keys()}),Ti.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return wc(e).get(t).next(e=>e?(zr(e.userId===this.userId),Fl(this.wt,e)):null)}yn(e,t){return this.gn[t]?Ti.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.gn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return wc(e).J({index:"userMutationsIndex",range:r},(e,t,r)=>{t.userId===this.userId&&(zr(t.batchId>=n),i=Fl(this.wt,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return wc(e).J({index:"userMutationsIndex",range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wc(e).K("userMutationsIndex",t).next(e=>e.map(e=>Fl(this.wt,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=il(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Ec(e).J({range:r},(n,r,s)=>{const[o,a,l]=n,c=nl(a);if(o===this.userId&&t.path.isEqual(c))return wc(e).get(l).next(e=>{if(!e)throw jr();zr(e.userId===this.userId),i.push(Fl(this.wt,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $i(ni);const r=[];return t.forEach(t=>{const i=il(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Ec(e).J({range:s},(e,r,i)=>{const[s,o,a]=e,l=nl(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),Ti.waitFor(r).next(()=>this.pn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=il(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new $i(ni);return Ec(e).J({range:s},(e,t,i)=>{const[s,a,l]=e,c=nl(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()}).next(()=>this.pn(e,o))}pn(e,t){const n=[],r=[];return t.forEach(t=>{r.push(wc(e).get(t).next(e=>{if(null===e)throw jr();zr(e.userId===this.userId),n.push(Fl(this.wt,e))}))}),Ti.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return yc(e.ee,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Ti.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ti.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Ec(e).J({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=nl(e[1]);r.push(t)}else n.done()}).next(()=>{zr(0===r.length)})})}containsKey(e,t){return bc(e,this.userId,t)}Tn(e){return Cc(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function bc(e,t,n){const r=il(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ec(e).J({range:s,H:!0},(e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function wc(e){return xl(e,"mutations")}function Ec(e){return xl(e,"documentMutations")}function Cc(e){return xl(e,"mutationQueues")}class Sc{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Sc(0)}static Rn(){return new Sc(-1)}}class Tc{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const n=new Sc(t.highestTargetId);return t.highestTargetId=n.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(e=>oi.fromTimestamp(new si(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(n=>(n.targetCount+=1,this.Vn(t,n),this.Pn(e,n))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ic(e).delete(t.targetId)).next(()=>this.bn(e)).next(t=>(zr(t.targetCount>0),t.targetCount-=1,this.Pn(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Ic(e).J((s,o)=>{const a=Vl(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>Ti.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Ic(e).J((e,n)=>{const r=Vl(n);t(r)})}bn(e){return xc(e).get("targetGlobalKey").next(e=>(zr(null!==e),e))}Pn(e,t){return xc(e).put("targetGlobalKey",t)}vn(e,t){return Ic(e).put(Ul(this.wt,t))}Vn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.bn(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Ns(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Ic(e).J({range:r,index:"queryTargetsIndex"},(e,n,r)=>{const s=Vl(n);Ds(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=kc(e);return t.forEach(t=>{const s=Ja(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))}),Ti.waitFor(r)}removeMatchingKeys(e,t,n){const r=kc(e);return Ti.forEach(t,t=>{const i=Ja(t.path);return Ti.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=kc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=kc(e);let i=ua();return r.J({range:n,H:!0},(e,t,n)=>{const r=nl(e[1]),s=new hi(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Ja(t.path),r=IDBKeyRange.bound([n],[ii(n)],!1,!0);let i=0;return kc(e).J({index:"documentTargetsIndex",H:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}te(e,t){return Ic(e).get(t).next(e=>e?Vl(e):null)}}function Ic(e){return xl(e,"targets")}function xc(e){return xl(e,"targetGlobal")}function kc(e){return xl(e,"targetDocuments")}function Ac([e,t],[n,r]){const i=ni(e,n);return 0===i?ni(t,r):i}class Rc{constructor(e){this.Sn=e,this.buffer=new $i(Ac),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ac(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Mr("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(e){Ri(e)?Mr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield Ci(e)}yield t.kn(3e5)}))}}class Oc{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ti.resolve(Fi.ot);const n=new Rc(t);return this.On.forEachTarget(e,e=>n.xn(e.sequenceNumber)).next(()=>this.On.Fn(e,e=>n.xn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.On.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mr("LruGarbageCollector","Garbage collection skipped; disabled"),Ti.resolve(mc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Mr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mc):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Mr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Lr()<=E.in.DEBUG&&Mr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Ti.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class Nc{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Oc(e,t)}(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Bn(e){let t=0;return this.Fn(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(e,n)=>t(n))}addReference(e,t,n){return Dc(e,n)}removeReference(e,t,n){return Dc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Dc(e,t)}Un(e,t){return function(e,t){let n=!1;return Cc(e).Y(r=>bc(e,r,t).next(e=>(e&&(n=!0),Ti.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ln(e,(s,o)=>{if(o<=t){const t=this.Un(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s,oi.min()),kc(e).delete([0,Ja(s.path)])))});r.push(t)}}).next(()=>Ti.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Dc(e,t)}Ln(e,t){const n=kc(e);let r,i=Fi.ot;return n.J({index:"documentTargetsIndex"},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Fi.ot&&t(new hi(nl(r)),i),i=o,r=s):i=Fi.ot}).next(()=>{i!==Fi.ot&&t(new hi(nl(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Dc(e,t){return kc(e).put(function(e,t){return{targetId:0,path:Ja(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Lc{constructor(){this.changes=new Jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ti.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mc{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return jc(e).put(n)}removeEntry(e,t,n){return jc(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Dl(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.qn(e,n)))}getEntry(e,t){let n=Rs.newInvalidDocument(t);return jc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zc(t))},(e,r)=>{n=this.Kn(t,r)}).next(()=>n)}Gn(e,t){let n={size:0,document:Rs.newInvalidDocument(t)};return jc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zc(t))},(e,r)=>{n={document:this.Kn(t,r),size:vc(r)}}).next(()=>n)}getEntries(e,t){let n=ta();return this.Qn(e,t,(e,t)=>{const r=this.Kn(e,t);n=n.insert(e,r)}).next(()=>n)}jn(e,t){let n=ta(),r=new zi(hi.comparator);return this.Qn(e,t,(e,t)=>{const i=this.Kn(e,t);n=n.insert(e,i),r=r.insert(e,vc(t))}).next(()=>({documents:n,Wn:r}))}Qn(e,t,n){if(t.isEmpty())return Ti.resolve();let r=new $i(qc);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(zc(r.first()),zc(r.last())),s=r.getIterator();let o=s.getNext();return jc(e).J({index:"documentKeyIndex",range:i},(e,t,r)=>{const i=hi.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&qc(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.q(zc(o)):r.done()}).next(()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null})}getAllFromCollection(e,t,n){const r=[t.popLast().toArray(),t.lastSegment(),Dl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jc(e).K(IDBKeyRange.bound(r,i,!0)).next(e=>{let t=ta();for(const n of e){const e=this.Kn(hi.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t})}getAllFromCollectionGroup(e,t,n,r){let i=ta();const s=Bc(t,n),o=Bc(t,_i.max());return jc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},(e,t,n)=>{const s=this.Kn(hi.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new Vc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Uc(e).get("remoteDocumentGlobalKey").next(e=>(zr(!!e),e))}qn(e,t){return Uc(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Va(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=hi.fromSegments(t.noDocument.path),r=Ml(t.noDocument.readTime);n=Rs.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return jr();{const e=hi.fromSegments(t.unknownDocument.path),r=Ml(t.unknownDocument.version);n=Rs.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new si(e[0],e[1]);return oi.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!e.isNoDocument()||!e.version.isEqual(oi.min()))return e}return Rs.newInvalidDocument(e)}}function Fc(e){return new Mc(e)}class Vc extends Lc{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Jo(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new $i((e,t)=>ni(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.Hn.get(i);if(t.push(this.zn.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Nl(this.zn.wt,s);r=r.add(i.path.popLast());const l=vc(a);n+=l-o.size,t.push(this.zn.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Nl(this.zn.wt,s.convertToNoDocument(oi.min()));t.push(this.zn.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.zn.updateMetadata(e,n)),Ti.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(e=>(this.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:e,Wn:t})=>(t.forEach((t,n)=>{this.Hn.set(t,{size:n,readTime:e.get(t).readTime})}),e))}}function Uc(e){return xl(e,"remoteDocumentGlobal")}function jc(e){return xl(e,"remoteDocumentsV14")}function zc(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Bc(e,t){const n=t.documentKey.path.toArray();return[e,Dl(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qc(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ni(n[s],r[s]),i)return i;return i=ni(n.length,r.length),i||(i=ni(n[n.length-2],r[r.length-2]),i||ni(n[n.length-1],r[r.length-1]))}class $c{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Gc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.getBaseDocument(e,t,n))).next(e=>(null!==n&&Vo(n.mutation,e,Wi.empty(),si.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ua()).next(()=>t))}getLocalViewOfDocuments(e,t,n=ua()){const r=sa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ra();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=sa();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ua()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=ta();const s=aa(),o=aa();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Bo)?i=i.insert(t.key,t):void 0!==o&&(s.set(t.key,o.mutation.getFieldMask()),Vo(o.mutation,t,o.mutation.getFieldMask(),si.now()))}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new $c(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=aa();let r=new zi((e,t)=>e-t),i=ua();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Wi.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||ua()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=oa();l.forEach(e=>{if(!i.has(e)){const r=Mo(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Ti.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return hi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):io(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ti.resolve(sa());let o=-1,a=i;return s.next(t=>Ti.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Ti.resolve():this.getBaseDocument(e,t,n).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,ua())).next(e=>({batchId:o,changes:ia(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new hi(t)).next(e=>{let t=ra();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=ra();return this.indexManager.getCollectionParents(e,r).next(s=>Ti.forEach(s,s=>{const o=function(e,t){return new Js(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next(i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId))).next(e=>{e.forEach((e,t)=>{const n=t.getKey();null===r.get(n)&&(r=r.insert(n,Rs.newInvalidDocument(n)))});let n=ra();return r.forEach((r,i)=>{const s=e.get(r);void 0!==s&&Vo(s.mutation,i,Wi.empty(),si.now()),ho(t,i)&&(n=n.insert(r,i))}),n})}getBaseDocument(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Ti.resolve(Rs.newInvalidDocument(t))}}class Hc{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Ti.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:ka(n.createTime)}),Ti.resolve()}getNamedQuery(e,t){return Ti.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:jl(e.bundledQuery),readTime:ka(e.readTime)}}(t)),Ti.resolve()}}class Wc{constructor(){this.overlays=new zi(hi.comparator),this.Xn=new Map}getOverlay(e,t){return Ti.resolve(this.overlays.get(t))}getOverlays(e,t){const n=sa();return Ti.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ie(e,t,r)}),Ti.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Xn.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Xn.delete(n)),Ti.resolve()}getOverlaysForCollection(e,t,n){const r=sa(),i=t.length+1,s=new hi(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ti.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new zi((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=sa(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=sa(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return Ti.resolve(o)}ie(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Rl(t,n));let i=this.Xn.get(t);void 0===i&&(i=ua(),this.Xn.set(t,i)),this.Xn.set(t,i.add(n.key))}}class Kc{constructor(){this.Zn=new $i(Zc.ts),this.es=new $i(Zc.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new Zc(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new Zc(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}us(e){const t=new hi(new li([])),n=new Zc(t,e),r=new Zc(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new hi(new li([])),n=new Zc(t,e),r=new Zc(t,e+1);let i=ua();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Zc(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Zc{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return hi.comparator(e.key,t.key)||ni(e.ls,t.ls)}static ns(e,t){return ni(e.ls,t.ls)||hi.comparator(e.key,t.key)}}class Yc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new $i(Zc.ts)}checkEmpty(e){return Ti.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new kl(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.ds=this.ds.add(new Zc(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ti.resolve(s)}lookupMutationBatch(e,t){return Ti.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=this.ws(t+1),r=n<0?0:n;return Ti.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Ti.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Ti.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Zc(t,0),r=new Zc(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this._s(e.ls);i.push(t)}),Ti.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $i(ni);return t.forEach(e=>{const t=new Zc(e,0),r=new Zc(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),Ti.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;hi.isDocumentKey(i)||(i=i.child(""));const s=new Zc(new hi(i),0);let o=new $i(ni);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),Ti.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this._s(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){zr(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let n=this.ds;return Ti.forEach(t.mutations,r=>{const i=new Zc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}In(e){}containsKey(e,t){const n=new Zc(t,0),r=this.ds.firstAfterOrEqual(n);return Ti.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ti.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Qc{constructor(e){this.ps=e,this.docs=new zi(hi.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ti.resolve(n?n.document.mutableCopy():Rs.newInvalidDocument(t))}getEntries(e,t){let n=ta();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Rs.newInvalidDocument(e))}),Ti.resolve(n)}getAllFromCollection(e,t,n){let r=ta();const i=new hi(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||bi(vi(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return Ti.resolve(r)}getAllFromCollectionGroup(e,t,n,r){jr()}Is(e,t){return Ti.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Xc(this)}getSize(e){return Ti.resolve(this.size)}}class Xc extends Lc{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(n)}),Ti.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class Jc{constructor(e){this.persistence=e,this.Ts=new Jo(e=>Ns(e),Ds),this.lastRemoteSnapshotVersion=oi.min(),this.highestTargetId=0,this.Es=0,this.As=new Kc,this.targetCount=0,this.Rs=Sc.An()}forEachTarget(e,t){return this.Ts.forEach((e,n)=>t(n)),Ti.resolve()}getLastRemoteSnapshotVersion(e){return Ti.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ti.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ti.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Ti.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Sc(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Ti.resolve()}updateTargetData(e,t){return this.vn(t),Ti.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Ti.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Ti.waitFor(i).next(()=>r)}getTargetCount(e){return Ti.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return Ti.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Ti.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ti.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Ti.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Ti.resolve(n)}containsKey(e,t){return Ti.resolve(this.As.containsKey(t))}}class eu{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Fi(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Jc(this),this.indexManager=new oc,this.remoteDocumentCache=function(e){return new Qc(e)}(e=>this.referenceDelegate.Ss(e)),this.wt=new Ol(t),this.Ds=new Hc(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.bs[e.toKey()];return n||(n=new Yc(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,n){Mr("MemoryPersistence","Starting transaction:",e);const r=new tu(this.Ps.next());return this.referenceDelegate.Cs(),n(r).next(e=>this.referenceDelegate.xs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ns(e,t){return Ti.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class tu extends Ei{constructor(e){super(),this.currentSequenceNumber=e}}class nu{constructor(e){this.persistence=e,this.ks=new Kc,this.Os=null}static Ms(e){return new nu(e)}get Fs(){if(this.Os)return this.Os;throw jr()}addReference(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Ti.resolve()}removeReference(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Ti.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Ti.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(e=>this.Fs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Fs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ti.forEach(this.Fs,n=>{const r=hi.fromPath(n);return this.$s(e,r).next(e=>{e||t.removeEntry(r,oi.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(e=>{e?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Ti.or([()=>Ti.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class ru{constructor(e){this.wt=e}O(e,t,n,r){const i=new Ii("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rl,{unique:!0}),e.createObjectStore("documentMutations")}(e),iu(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Ti.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),iu(e)),s=s.next(()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:oi.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store("mutations").K().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rl,{unique:!0});const r=t.store("mutations"),i=n.map(e=>r.put(e));return Ti.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Bs(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(i)))),n<7&&r>=7&&(s=s.next(()=>this.Us(i))),n<8&&r>=8&&(s=s.next(()=>this.qs(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(s=s.next(()=>this.Ks(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(s=s.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:vl});t.createIndex("collectionPathOverlayIndex",_l,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",bl,{unique:!1})}(e)})),n<13&&r>=13&&(s=s.next(()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:al});t.createIndex("documentKeyIndex",ll),t.createIndex("collectionGroupIndex",cl)}(e)).next(()=>this.Gs(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(s=s.next(()=>this.Qs(e,i))),n<15&&r>=15&&(s=s.next(()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:fl}).createIndex("sequenceNumberIndex",ml,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:gl}).createIndex("documentKeyIndex",yl,{unique:!1})}(e))),s}Ls(e){let t=0;return e.store("remoteDocuments").J((e,n)=>{t+=vc(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Bs(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.K().next(t=>Ti.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.K("userMutationsIndex",r).next(n=>Ti.forEach(n,n=>{zr(n.userId===t.userId);const r=Fl(this.wt,n);return yc(e,t.userId,r).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const r=[];return n.J((n,i)=>{const s=new li(n),o=function(e){return[0,Ja(e)]}(s);r.push(t.get(o).next(n=>n?Ti.resolve():(n=>t.put({targetId:0,path:Ja(n),sequenceNumber:e.highestListenSequenceNumber}))(s)))}).next(()=>Ti.waitFor(r))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:pl});const n=t.store("collectionParents"),r=new ac,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Ja(r)})}};return t.store("remoteDocuments").J({H:!0},(e,t)=>{const n=new li(e);return i(n.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([e,t,n],r)=>{const s=nl(t);return i(s.popLast())}))}Ks(e){const t=e.store("targets");return t.J((e,n)=>{const r=Vl(n),i=Ul(this.wt,r);return t.put(i)})}Gs(e,t){const n=t.store("remoteDocuments"),r=[];return n.J((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(o=n,o.document?new hi(li.fromString(o.document.name).popFirst(5)):o.noDocument?hi.fromSegments(o.noDocument.path):o.unknownDocument?hi.fromSegments(o.unknownDocument.path):jr()).path.toArray();var o;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))}).next(()=>Ti.waitFor(r))}Qs(e,t){const n=t.store("mutations"),r=Fc(this.wt),i=new eu(nu.Ms,this.wt.ne);return n.K().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ua();Fl(this.wt,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),Ti.forEach(n,(e,n)=>{const s=new Or(n),o=Wl.se(this.wt,s),a=i.getIndexManager(s),l=_c.se(s,this.wt,a,i.referenceDelegate);return new Gc(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Il(t,Fi.ot),e).next()})})}}function iu(e){e.createObjectStore("targetDocuments",{keyPath:hl}).createIndex("documentTargetsIndex",dl,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ul,{unique:!0}),e.createObjectStore("targetGlobal")}const su="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ou{constructor(e,t,n,r,i,s,o,a,l,c,u=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.js=i,this.window=s,this.document=o,this.Ws=l,this.zs=c,this.Hs=u,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=e=>Promise.resolve(),!ou.V())throw new $r(qr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nc(this,r),this.ei=t+"main",this.wt=new Ol(a),this.ni=new xi(this.ei,this.Hs,new ru(this.wt)),this.Vs=new Tc(this.referenceDelegate,this.wt),this.remoteDocumentCache=Fc(this.wt),this.Ds=new $l,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===c&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $r(qr.FAILED_PRECONDITION,su);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Fi(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var n=(0,_.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,_.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,_.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Ri(e))return Mr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return au(e).get("owner").next(e=>Ti.resolve(this.di(e)))}_i(e){return lu(e).delete(this.clientId)}wi(){var e=this;return(0,_.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=xl(t,"clientMetadata");return n.K().next(t=>{const r=e.gi(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return Ti.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.si)for(const n of t)e.si.removeItem(e.yi(n.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Ti.resolve(!0):au(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new $r(qr.FAILED_PRECONDITION,su);return!1}}return!(!this.networkEnabled||!this.inForeground)||lu(e).K().next(e=>void 0===this.gi(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Mr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,_.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new Il(t,Fi.ot);return e.li(n).next(()=>e._i(n))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(e=>this.mi(e.updateTimeMs,t)&&!this.pi(e.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>lu(e).K().next(e=>this.gi(e,18e5).map(e=>e.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return _c.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cc(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Wl.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,n){Mr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(s=this.Hs)?Tl:14===s?Sl:13===s?Cl:12===s?El:11===s?wl:void jr();var s;let o;return this.ni.runTransaction(e,r,i,r=>(o=new Il(r,this.Ps?this.Ps.next():Fi.ot),"readwrite-primary"===t?this.ai(o).next(e=>!!e||this.hi(o)).next(t=>{if(!t)throw Fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new $r(qr.FAILED_PRECONDITION,wi);return n(o)}).next(e=>this.fi(o).next(()=>e)):this.bi(o).next(()=>n(o)))).then(e=>(o.raiseOnCommittedEvent(),e))}bi(e){return au(e).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new $r(qr.FAILED_PRECONDITION,su)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return au(e).put("owner",t)}static V(){return xi.V()}li(e){const t=au(e);return t.get("owner").next(e=>this.di(e)?(Mr("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ti.resolve())}mi(e,t){const n=Date.now();return!(e<n-t||e>n&&(Fr(`Detected an update time that is in the future: ${e} > ${n}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,C.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Mr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Fr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(F){Fr("Failed to set zombie client id.",F)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(F){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function au(e){return xl(e,"owner")}function lu(e){return xl(e,"clientMetadata")}function cu(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class uu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Pi=n,this.vi=r}static Vi(e,t){let n=ua(),r=ua();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new uu(e,t.fromCache,n,r)}}class hu{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ci(e,t).next(i=>i||this.xi(e,t,r,n)).next(n=>n||this.Ni(e,t))}Ci(e,t){return Ti.resolve(null)}xi(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(oi.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next(i=>{const s=this.ki(t,i);return this.Oi(t,s,n,r)?this.Ni(e,t):(Lr()<=E.in.DEBUG&&Mr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uo(t)),this.Mi(e,s,t,yi(r,-1)))})}ki(e,t){let n=new $i(fo(e));return t.forEach((t,r)=>{ho(e,r)&&(n=n.add(r))}),n}Oi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ni(e,t){return Lr()<=E.in.DEBUG&&Mr("QueryEngine","Using full collection scan to execute query:",uo(t)),this.Di.getDocumentsMatchingQuery(e,t,_i.min())}Mi(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class du{constructor(e,t,n,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new zi(ni),this.Bi=new Jo(e=>Ns(e),Ds),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(n)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gc(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function pu(e,t,n,r){return new du(e,t,n,r)}function fu(e,t){return mu.apply(this,arguments)}function mu(){return(mu=(0,_.Z)(function*(e,t){const n=Br(e);return yield n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.qi(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=ua();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ki:e,removedBatchIds:i,addedBatchIds:s}))})})})).apply(this,arguments)}function gu(e,t){const n=Br(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Ti.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);zr(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ua();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}function yu(e){const t=Br(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function vu(e,t){const n=Br(e),r=t.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Vs.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Vs.addMatchingKeys(e,s.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?c=c.withResumeToken(Ki.EMPTY_BYTE_STRING,oi.min()).withLastLimboFreeSnapshotVersion(oi.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Vs.updateTargetData(e,c))});let a=ta(),l=ua();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(_u(e,s,t.documentUpdates).next(e=>{a=e.Gi,l=e.Qi})),!r.isEqual(oi.min())){const t=n.Vs.getLastRemoteSnapshotVersion(e).next(t=>n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Ti.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.$i=i,e))}function _u(e,t,n){let r=ua(),i=ua();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ta();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(oi.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Mr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{Gi:r,Qi:i}})}function bu(e,t){const n=Br(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function wu(e,t){const n=Br(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Vs.getTargetData(e,t).next(i=>i?(r=i,Ti.resolve(r)):n.Vs.allocateTargetId(e).next(i=>(r=new Pl(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e})}function Eu(e,t,n){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,_.Z)(function*(e,t,n){const r=Br(e),i=r.$i.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ri(e))throw e;Mr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.$i=r.$i.remove(t),r.Bi.delete(i.target)})).apply(this,arguments)}function Su(e,t,n){const r=Br(e);let i=oi.min(),s=ua();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Br(e),i=r.Bi.get(n);return void 0!==i?Ti.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,oo(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fi.getDocumentsMatchingQuery(e,t,n?i:oi.min(),n?s:ua())).next(e=>(xu(r,po(t),e),{documents:e,ji:s})))}function Tu(e,t){const n=Br(e),r=Br(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.te(e,t).next(e=>e?e.target:null))}function Iu(e,t){const n=Br(e),r=n.Li.get(t)||oi.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.Ui.getAllFromCollectionGroup(e,t,yi(r,-1),Number.MAX_SAFE_INTEGER)).then(e=>(xu(n,t,e),e))}function xu(e,t,n){let r=oi.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Li.set(t,r)}function ku(){return(ku=(0,_.Z)(function*(e,t,n,r){const i=Br(e);let s=ua(),o=ta();for(const c of n){const e=t.Wi(c.metadata.name);c.document&&(s=s.add(e));const n=t.zi(c);n.setReadTime(t.Hi(c.metadata.readTime)),o=o.insert(e,n)}const a=i.Ui.newChangeBuffer({trackRemovals:!0}),l=yield wu(i,function(e){return oo(to(li.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>_u(e,a,o).next(t=>(a.apply(e),t)).next(t=>i.Vs.removeMatchingKeysForTargetId(e,l.targetId).next(()=>i.Vs.addMatchingKeys(e,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)).next(()=>t.Gi)))})).apply(this,arguments)}function Au(e,t){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,_.Z)(function*(e,t,n=ua()){const r=yield wu(e,oo(jl(t.bundledQuery))),i=Br(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=ka(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ds.saveNamedQuery(e,t);const o=r.withResumeToken(Ki.EMPTY_BYTE_STRING,s);return i.$i=i.$i.insert(o.targetId,o),i.Vs.updateTargetData(e,o).next(()=>i.Vs.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.Vs.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ds.saveNamedQuery(e,t))})})).apply(this,arguments)}function Pu(e,t){return`firestore_clients_${e}_${t}`}function Ou(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Nu(e,t){return`firestore_targets_${e}_${t}`}class Du{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ji(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new $r(r.error.code,r.error.message))),s?new Du(e,t,r.state,i):(Fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lu{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ji(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new $r(n.error.code,n.error.message))),i?new Lu(e,n.state,r):(Fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mu{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=da();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=os(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Mu(e,i):(Fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fu{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fu(t.clientId,t.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Vu{constructor(){this.activeTargetIds=da()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uu{constructor(e,t,n,r,i){this.window=e,this.js=t,this.persistenceKey=n,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new zi(ni),this.started=!1,this.ir=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.rr=Pu(this.persistenceKey,this.tr),this.ur=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Vu),this.cr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.lr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.dr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const t=e.getItem(Pu(e.persistenceKey,r));if(t){const n=Mu.Ji(r,t);n&&(e.sr=e.sr.insert(n.clientId,n))}}e._r();const n=e.storage.getItem(e.lr);if(n){const t=e.wr(n);t&&e.mr(t)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,n){this.yr(e,t,n),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Nu(this.persistenceKey,e));if(n){const r=Lu.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nu(this.persistenceKey,e))}updateQueryState(e,t,n){this.Tr(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.pr(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mr("SharedClientState","READ",e,t),t}setItem(e,t){Mr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const n=e;if(n.storageArea===this.storage){if(Mr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,_.Z)(function*(){if(t.started){if(null!==n.key)if(t.cr.test(n.key)){if(null==n.newValue){const e=t.Rr(n.key);return t.br(e,null)}{const e=t.Pr(n.key,n.newValue);if(e)return t.br(e.clientId,e)}}else if(t.ar.test(n.key)){if(null!==n.newValue){const e=t.vr(n.key,n.newValue);if(e)return t.Vr(e)}}else if(t.hr.test(n.key)){if(null!==n.newValue){const e=t.Sr(n.key,n.newValue);if(e)return t.Dr(e)}}else if(n.key===t.lr){if(null!==n.newValue){const e=t.wr(n.newValue);if(e)return t.mr(e)}}else if(n.key===t.ur){const e=function(e){let t=Fi.ot;if(null!=e)try{const n=JSON.parse(e);zr("number"==typeof n),t=n}catch(e){Fr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==Fi.ot&&t.sequenceNumberHandler(e)}else if(n.key===t.dr){const e=t.Cr(n.newValue);yield Promise.all(e.map(e=>t.syncEngine.Nr(e)))}}else t.ir.push(n)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,n){const r=new Du(this.currentUser,e,t,n),i=Ou(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}pr(e){const t=Ou(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,n){const r=Nu(this.persistenceKey,e),i=new Lu(e,t,n);this.setItem(r,i.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const n=this.Rr(e);return Mu.Ji(n,t)}vr(e,t){const n=this.ar.exec(e),r=Number(n[1]);return Du.Ji(new Or(void 0!==n[2]?n[2]:null),r,t)}Sr(e,t){const n=this.hr.exec(e),r=Number(n[1]);return Lu.Ji(r,t)}wr(e){return Fu.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,_.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Mr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const n=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),i=this.gr(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.Mr(s,o).then(()=>{this.sr=n})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=da();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class ju{constructor(){this.Fr=new Vu,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,n){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Vu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zu{Br(e){}shutdown(){}}class Bu{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Mr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Mr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $u{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Gu extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,n,r,i){const s=this.oo(e,t);Mr("RestConnection","Sending: ",s,n);const o={};return this.uo(o,r,i),this.co(e,s,o,n).then(e=>(Mr("RestConnection","Received: ",e),e),t=>{throw Vr("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t})}ao(e,t,n,r,i,s){return this.ro(e,t,n,r,i)}uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}oo(e,t){return`${this.so}/v1/${t}:${qu[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,n,r){return new Promise((i,s)=>{const o=new Rr;o.listenOnce(Tr.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Sr.NO_ERROR:const t=o.getResponseJson();Mr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Sr.TIMEOUT:Mr("Connection",'RPC "'+e+'" timed out'),s(new $r(qr.DEADLINE_EXCEEDED,"Request time out"));break;case Sr.HTTP_ERROR:const n=o.getStatus();if(Mr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(qr).indexOf(t)>=0?t:qr.UNKNOWN}(e.status);s(new $r(t,e.message))}else s(new $r(qr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new $r(qr.UNAVAILABLE,"Connection failed."));break;default:jr()}}finally{Mr("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ho(e,t,n){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Er(),s=Cr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new kr({})),this.uo(o.initMessageHeaders,t,n),(0,C.uI)()||(0,C.b$)()||(0,C.d)()||(0,C.w1)()||(0,C.Mn)()||(0,C.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");Mr("Connection","Creating WebChannel: "+a,o);const l=i.createWebChannel(a,o);let c=!1,u=!1;const h=new $u({jr:e=>{u?Mr("Connection","Not sending because WebChannel is closed:",e):(c||(Mr("Connection","Opening WebChannel transport."),l.open(),c=!0),Mr("Connection","WebChannel sending:",e),l.send(e))},Wr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(l,Ar.EventType.OPEN,()=>{u||Mr("Connection","WebChannel transport opened.")}),d(l,Ar.EventType.CLOSE,()=>{u||(u=!0,Mr("Connection","WebChannel transport closed"),h.eo())}),d(l,Ar.EventType.ERROR,e=>{u||(u=!0,Vr("Connection","WebChannel transport errored:",e),h.eo(new $r(qr.UNAVAILABLE,"The operation could not be completed")))}),d(l,Ar.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];zr(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Mr("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Zo[e];if(void 0!==t)return Xo(t)}(e),n=i.message;void 0===t&&(t=qr.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,h.eo(new $r(t,n)),l.close()}else Mr("Connection","WebChannel received:",n),h.no(n)}}),d(s,Ir.STAT_EVENT,e=>{e.stat===xr.PROXY?Mr("Connection","Detected buffering proxy"):e.stat===xr.NOPROXY&&Mr("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function Hu(){return"undefined"!=typeof window?window:null}function Wu(){return"undefined"!=typeof document?document:null}function Ku(e){return new Sa(e,!0)}class Zu{constructor(e,t,n=1e3,r=1.5,i=6e4){this.js=e,this.timerId=t,this.lo=n,this.fo=r,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-n);r>0&&Mr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Yu{constructor(e,t,n,r,i,s,o,a){this.js=e,this.Ao=n,this.Ro=r,this.bo=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Zu(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,_.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,_.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var n=this;return(0,_.Z)(function*(){n.Fo(),n.$o(),n.So.cancel(),n.Po++,4!==e?n.So.reset():t&&t.code===qr.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),n.So.po()):t&&t.code===qr.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Bo(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Po===t&&this.Uo(e,n)},t=>{e(()=>{const e=new $r(qr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.qo(e)})})}Uo(e,t){const n=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{n(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(e=>{n(()=>this.qo(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}xo(){var e=this;this.state=5,this.So.Io((0,_.Z)(function*(){e.state=0,e.start()}))}qo(e){return Mr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Mr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qu extends Yu{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.wt=i}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.dt?(zr(void 0===t||"string"==typeof t),Ki.fromBase64String(t||"")):(zr(void 0===t||t instanceof Uint8Array),Ki.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?qr.UNKNOWN:Xo(e.code);return new $r(t,e.message||"")}(o);n=new ya(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=Oa(e,r.document.name),s=ka(r.document.updateTime),o=new ks({mapValue:{fields:r.document.fields}}),a=Rs.newFoundDocument(i,s,o);n=new ma(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=Oa(e,r.document),s=r.readTime?ka(r.readTime):oi.min(),o=Rs.newNoDocument(i,s);n=new ma([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=Oa(e,r.document);n=new ma([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return jr();{const e=t.filter,r=new Ko(e.count||0);n=new ga(e.targetId,r)}}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return oi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?oi.min():t.readTime?ka(t.readTime):oi.min()}(e);return this.listener.Go(t,n)}Qo(e){const t={};t.database=La(this.wt),t.addTarget=function(e,t){let n;const r=t.target;return n=Ls(r)?{documents:za(e,r)}:{query:Ba(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ia(e,t.resumeToken):t.snapshotVersion.compareTo(oi.min())>0&&(n.readTime=Ta(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.Mo(t)}jo(e){const t={};t.database=La(this.wt),t.removeTarget=e,this.Mo(t)}}class Xu extends Yu{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(zr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function(e,t){return e&&e.length>0?(zr(void 0!==t),e.map(e=>function(e,t){let n=ka(e.updateTime?e.updateTime:t);return n.isEqual(oi.min())&&(n=ka(t)),new Oo(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ka(e.commitTime);return this.listener.Jo(n,t)}return zr(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=La(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ua(this.wt,e))};this.Mo(t)}}class Ju extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=n,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new $r(qr.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.bo.ro(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===qr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $r(qr.UNKNOWN,e.toString())})}ao(e,t,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ao(e,t,n,i,s,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===qr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $r(qr.UNKNOWN,e.toString())})}terminate(){this.Zo=!0}}class eh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Fr(t),this.su=!1):Mr("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class th{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br(e=>{n.enqueueAndForget((0,_.Z)(function*(){var e;dh(s)&&(Mr("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,_.Z)(function*(e){const t=Br(e);t.lu.add(4),yield ih(t),t._u.set("Unknown"),t.lu.delete(4),yield nh(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this._u=new eh(n,r)}}function nh(e){return rh.apply(this,arguments)}function rh(){return(rh=(0,_.Z)(function*(e){if(dh(e))for(const t of e.fu)yield t(!0)})).apply(this,arguments)}function ih(e){return sh.apply(this,arguments)}function sh(){return(sh=(0,_.Z)(function*(e){for(const t of e.fu)yield t(!1)})).apply(this,arguments)}function oh(e,t){const n=Br(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),hh(n)?uh(n):zh(n).Co()&&lh(n,t))}function ah(e,t){const n=Br(e),r=zh(n);n.hu.delete(t),r.Co()&&ch(n,t),0===n.hu.size&&(r.Co()?r.ko():dh(n)&&n._u.set("Unknown"))}function lh(e,t){e.wu.Nt(t.targetId),zh(e).Qo(t)}function ch(e,t){e.wu.Nt(t),zh(e).jo(t)}function uh(e){e.wu=new _a({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),te:t=>e.hu.get(t)||null}),zh(e).start(),e._u.iu()}function hh(e){return dh(e)&&!zh(e).Do()&&e.hu.size>0}function dh(e){return 0===Br(e).lu.size}function ph(e){e.wu=void 0}function fh(e){return mh.apply(this,arguments)}function mh(){return(mh=(0,_.Z)(function*(e){e.hu.forEach((t,n)=>{lh(e,t)})})).apply(this,arguments)}function gh(e,t){return yh.apply(this,arguments)}function yh(){return(yh=(0,_.Z)(function*(e,t){ph(e),hh(e)?(e._u.uu(t),uh(e)):e._u.set("Unknown")})).apply(this,arguments)}function vh(e,t,n){return _h.apply(this,arguments)}function _h(){return(_h=(0,_.Z)(function*(e,t,n){if(e._u.set("Online"),t instanceof ya&&2===t.state&&t.cause)try{yield(r=(0,_.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.hu.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.hu.delete(r),e.wu.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){Mr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield bh(e,n)}else if(t instanceof ma?e.wu.Ut(t):t instanceof ga?e.wu.zt(t):e.wu.Gt(t),!n.isEqual(oi.min()))try{const t=yield yu(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.wu.Yt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.hu.get(t);if(!n)return;e.hu.set(t,n.withResumeToken(Ki.EMPTY_BYTE_STRING,n.snapshotVersion)),ch(e,t);const r=new Pl(n.target,t,1,n.sequenceNumber);lh(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){Mr("RemoteStore","Failed to raise snapshot:",t),yield bh(e,t)}var r})).apply(this,arguments)}function bh(e,t,n){return wh.apply(this,arguments)}function wh(){return(wh=(0,_.Z)(function*(e,t,n){if(!Ri(t))throw t;e.lu.add(1),yield ih(e),e._u.set("Offline"),n||(n=()=>yu(e.localStore)),e.asyncQueue.enqueueRetryable((0,_.Z)(function*(){Mr("RemoteStore","Retrying IndexedDB access"),yield n(),e.lu.delete(1),yield nh(e)}))})).apply(this,arguments)}function Eh(e,t){return t().catch(n=>bh(e,n,t))}function Ch(e){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,_.Z)(function*(e){const t=Br(e),n=Bh(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;Th(t);)try{const e=yield bu(t.localStore,r);if(null===e){0===t.au.length&&n.ko();break}r=e.batchId,Ih(t,e)}catch(e){yield bh(t,e)}xh(t)&&kh(t)})).apply(this,arguments)}function Th(e){return dh(e)&&e.au.length<10}function Ih(e,t){e.au.push(t);const n=Bh(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function xh(e){return dh(e)&&!Bh(e).Do()&&e.au.length>0}function kh(e){Bh(e).start()}function Ah(e){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,_.Z)(function*(e){Bh(e).Xo()})).apply(this,arguments)}function Ph(e){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,_.Z)(function*(e){const t=Bh(e);for(const n of e.au)t.Ho(n.mutations)})).apply(this,arguments)}function Nh(e,t,n){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,_.Z)(function*(e,t,n){const r=e.au.shift(),i=Al.from(r,t,n);yield Eh(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield Ch(e)})).apply(this,arguments)}function Lh(e,t){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,_.Z)(function*(e,t){var n;t&&Bh(e).zo&&(yield(n=(0,_.Z)(function*(e,t){if(Qo(n=t.code)&&n!==qr.ABORTED){const n=e.au.shift();Bh(e).No(),yield Eh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield Ch(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),xh(e)&&kh(e)})).apply(this,arguments)}function Fh(e,t){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,_.Z)(function*(e,t){const n=Br(e);n.asyncQueue.verifyOperationInProgress(),Mr("RemoteStore","RemoteStore received new credentials");const r=dh(n);n.lu.add(3),yield ih(n),r&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.lu.delete(3),yield nh(n)})).apply(this,arguments)}function Uh(e,t){return jh.apply(this,arguments)}function jh(){return(jh=(0,_.Z)(function*(e,t){const n=Br(e);t?(n.lu.delete(2),yield nh(n)):t||(n.lu.add(2),yield ih(n),n._u.set("Unknown"))})).apply(this,arguments)}function zh(e){return e.mu||(e.mu=function(e,t,n){const r=Br(e);return r.tu(),new Qu(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:fh.bind(null,e),Jr:gh.bind(null,e),Go:vh.bind(null,e)}),e.fu.push(function(){var t=(0,_.Z)(function*(t){t?(e.mu.No(),hh(e)?uh(e):e._u.set("Unknown")):(yield e.mu.stop(),ph(e))});return function(e){return t.apply(this,arguments)}}())),e.mu}function Bh(e){return e.gu||(e.gu=function(e,t,n){const r=Br(e);return r.tu(),new Xu(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Ah.bind(null,e),Jr:Lh.bind(null,e),Yo:Ph.bind(null,e),Jo:Nh.bind(null,e)}),e.fu.push(function(){var t=(0,_.Z)(function*(t){t?(e.gu.No(),yield Ch(e)):(yield e.gu.stop(),e.au.length>0&&(Mr("RemoteStore",`Stopping write stream with ${e.au.length} pending writes`),e.au=[]))});return function(e){return t.apply(this,arguments)}}())),e.gu}class qh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new qh(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $r(qr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $h(e,t){if(Fr("AsyncQueue",`${t}: ${e}`),Ri(e))return new $r(qr.UNAVAILABLE,`${t}: ${e}`);throw e}class Gh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||hi.comparator(t.key,n.key):(e,t)=>hi.comparator(e.key,t.key),this.keyedMap=ra(),this.sortedSet=new zi(this.comparator)}static emptySet(e){return new Gh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Gh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Hh{constructor(){this.yu=new zi(hi.comparator)}track(e){const t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):jr():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Wh{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Wh(e,t,Gh.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Kh{constructor(){this.Iu=void 0,this.listeners=[]}}class Zh{constructor(){this.queries=new Jo(e=>co(e),lo),this.onlineState="Unknown",this.Tu=new Set}}function Yh(e,t){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,_.Z)(function*(e,t){const n=Br(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Kh),i)try{s.Iu=yield n.onListen(r)}catch(e){const n=$h(e,`Initialization of query '${uo(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Eu(n.onlineState),s.Iu&&t.Au(s.Iu)&&nd(n)})).apply(this,arguments)}function Xh(e,t){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,_.Z)(function*(e,t){const n=Br(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function ed(e,t){const n=Br(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.Au(i)&&(r=!0);e.Iu=i}}r&&nd(n)}function td(e,t,n){const r=Br(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function nd(e){e.Tu.forEach(e=>{e.next()})}class rd{constructor(e,t,n){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=n||{}}Au(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Wh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Wh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class id{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class sd{constructor(e){this.wt=e}Wi(e){return Oa(this.wt,e)}zi(e){return e.metadata.exists?Va(this.wt,e.document,!1):Rs.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return ka(e)}}class od{constructor(e,t,n){this.xu=e,this.localStore=t,this.wt=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ad(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=li.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,n=new sd(this.wt);for(const r of e)if(r.metadata.queries){const e=n.Wi(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ua()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,_.Z)(function*(){const t=yield function(e,t,n,r){return ku.apply(this,arguments)}(e.localStore,new sd(e.wt),e.documents,e.xu.id),n=e.ku(e.documents);for(const r of e.queries)yield Au(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function ad(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ld{constructor(e){this.key=e}}class cd{constructor(e){this.key=e}}class ud{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=ua(),this.mutatedKeys=ua(),this.Lu=fo(e),this.Uu=new Gh(this.Lu)}get qu(){return this.Fu}Ku(e,t){const n=t?t.Gu:new Hh,r=t?t.Uu:this.Uu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=ho(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Qu(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Lu(u,a)>0||l&&this.Lu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Uu:s,Gu:n,Oi:o,mutatedKeys:i}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const i=e.Gu.pu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jr()}};return n(e)-n(t)}(e.type,t.type)||this.Lu(e.doc,t.doc)),this.ju(n);const s=t?this.Wu():[],o=0===this.Bu.size&&this.current?1:0,a=o!==this.$u;return this.$u=o,0!==i.length||a?{snapshot:new Wh(this.query,e.Uu,r,i,e.mutatedKeys,0===o,a,!1),zu:s}:{zu:s}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Hh,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ua(),this.Uu.forEach(e=>{this.Hu(e.key)&&(this.Bu=this.Bu.add(e.key))});const t=[];return e.forEach(e=>{this.Bu.has(e)||t.push(new cd(e))}),this.Bu.forEach(n=>{e.has(n)||t.push(new ld(n))}),t}Ju(e){this.Fu=e.ji,this.Bu=ua();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Wh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class hd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class dd{constructor(e){this.key=e,this.Xu=!1}}class pd{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Zu={},this.tc=new Jo(e=>co(e),lo),this.ec=new Map,this.nc=new Set,this.sc=new zi(hi.comparator),this.ic=new Map,this.rc=new Kc,this.oc={},this.uc=new Map,this.cc=Sc.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function fd(e,t){return md.apply(this,arguments)}function md(){return(md=(0,_.Z)(function*(e,t){const n=ip(e);let r,i;const s=n.tc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const e=yield wu(n.localStore,oo(t));n.isPrimaryClient&&oh(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield gd(n,t,r,"current"===s)}return i})).apply(this,arguments)}function gd(e,t,n,r){return yd.apply(this,arguments)}function yd(){return(yd=(0,_.Z)(function*(e,t,n,r){e.hc=(t,n,r)=>{return(i=(0,_.Z)(function*(e,t,n,r){let i=t.view.Ku(n);i.Oi&&(i=yield Su(e.localStore,t.query,!1).then(({documents:e})=>t.view.Ku(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Ld(e,t.targetId,o.zu),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield Su(e.localStore,t,!0),s=new ud(t,i.ji),o=s.Ku(i.documents),a=fa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);Ld(e,n,l.zu);const c=new hd(t,n,s);return e.tc.set(t,c),e.ec.has(n)?e.ec.get(n).push(t):e.ec.set(n,[t]),l.snapshot})).apply(this,arguments)}function vd(e,t){return _d.apply(this,arguments)}function _d(){return(_d=(0,_.Z)(function*(e,t){const n=Br(e),r=n.tc.get(t),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(e=>!lo(e,t))),void n.tc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Eu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ah(n.remoteStore,r.targetId),Nd(n,r.targetId)}).catch(Ci))):(Nd(n,r.targetId),yield Eu(n.localStore,r.targetId,!0))})).apply(this,arguments)}function bd(){return(bd=(0,_.Z)(function*(e,t,n){const r=sp(e);try{const e=yield function(e,t){const n=Br(e),r=si.now(),i=t.reduce((e,t)=>e.add(t.key),ua());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=ta(),l=ua();return n.Ui.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=Uo(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Bo(e.key,t,As(t.value.mapValue),No.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:ia(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.oc[e.currentUser.toKey()];r||(r=new zi(ni)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(r,e.batchId,n),yield Vd(r,e.changes),yield Ch(r.remoteStore)}catch(e){const t=$h(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function wd(e,t){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,_.Z)(function*(e,t){const n=Br(e);try{const e=yield vu(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.ic.get(t);r&&(zr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Xu=!0:e.modifiedDocuments.size>0?zr(r.Xu):e.removedDocuments.size>0&&(zr(r.Xu),r.Xu=!1))}),yield Vd(n,e,t)}catch(e){yield Ci(e)}})).apply(this,arguments)}function Cd(e,t,n){const r=Br(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.tc.forEach((n,r)=>{const i=r.view.Eu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Br(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Eu(t)&&(r=!0)}),r&&nd(n)}(r.eventManager,t),e.length&&r.Zu.Go(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Sd(e,t,n){return Td.apply(this,arguments)}function Td(){return(Td=(0,_.Z)(function*(e,t,n){const r=Br(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ic.get(t),s=i&&i.key;if(s){let e=new zi(hi.comparator);e=e.insert(s,Rs.newNoDocument(s,oi.min()));const n=ua().add(s),i=new pa(oi.min(),new Map,new $i(ni),e,n);yield wd(r,i),r.sc=r.sc.remove(s),r.ic.delete(t),Fd(r)}else yield Eu(r.localStore,t,!1).then(()=>Nd(r,t,n)).catch(Ci)})).apply(this,arguments)}function Id(e,t){return xd.apply(this,arguments)}function xd(){return(xd=(0,_.Z)(function*(e,t){const n=Br(e),r=t.batch.batchId;try{const e=yield gu(n.localStore,t);Od(n,r,null),Pd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Vd(n,e)}catch(e){yield Ci(e)}})).apply(this,arguments)}function kd(e,t,n){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,_.Z)(function*(e,t,n){const r=Br(e);try{const e=yield function(e,t){const n=Br(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(zr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Od(r,t,n),Pd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield Vd(r,e)}catch(n){yield Ci(n)}})).apply(this,arguments)}function Rd(){return(Rd=(0,_.Z)(function*(e,t){const n=Br(e);dh(n.remoteStore)||Mr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=Br(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.uc.get(e)||[];r.push(t),n.uc.set(e,r)}catch(e){const n=$h(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function Pd(e,t){(e.uc.get(t)||[]).forEach(e=>{e.resolve()}),e.uc.delete(t)}function Od(e,t,n){const r=Br(e);let i=r.oc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Nd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ec.get(t))e.tc.delete(r),n&&e.Zu.lc(r,n);e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach(t=>{e.rc.containsKey(t)||Dd(e,t)})}function Dd(e,t){e.nc.delete(t.path.canonicalString());const n=e.sc.get(t);null!==n&&(ah(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Fd(e))}function Ld(e,t,n){for(const r of n)r instanceof ld?(e.rc.addReference(r.key,t),Md(e,r)):r instanceof cd?(Mr("SyncEngine","Document no longer in limbo: "+r.key),e.rc.removeReference(r.key,t),e.rc.containsKey(r.key)||Dd(e,r.key)):jr()}function Md(e,t){const n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Mr("SyncEngine","New document in limbo: "+n),e.nc.add(r),Fd(e))}function Fd(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){const t=e.nc.values().next().value;e.nc.delete(t);const n=new hi(li.fromString(t)),r=e.cc.next();e.ic.set(r,new dd(n)),e.sc=e.sc.insert(n,r),oh(e.remoteStore,new Pl(oo(to(n.path)),r,2,Fi.ot))}}function Vd(e,t,n){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,_.Z)(function*(e,t,n){const r=Br(e),i=[],s=[],o=[];var a;r.tc.isEmpty()||(r.tc.forEach((e,a)=>{o.push(r.hc(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=uu.Vi(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.Zu.Go(i),yield(a=(0,_.Z)(function*(e,t){const n=Br(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ti.forEach(t,t=>Ti.forEach(t.Pi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ti.forEach(t.vi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ri(e))throw e;Mr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.$i.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.$i=n.$i.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function jd(e,t){return zd.apply(this,arguments)}function zd(){return(zd=(0,_.Z)(function*(e,t){const n=Br(e);if(!n.currentUser.isEqual(t)){Mr("SyncEngine","User change. New user:",t.toKey());const e=yield fu(n.localStore,t);n.currentUser=t,function(e,t){e.uc.forEach(e=>{e.forEach(e=>{e.reject(new $r(qr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.uc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield Vd(n,e.Ki)}})).apply(this,arguments)}function Bd(e,t){const n=Br(e),r=n.ic.get(t);if(r&&r.Xu)return ua().add(r.key);{let e=ua();const r=n.ec.get(t);if(!r)return e;for(const t of r){const r=n.tc.get(t);e=e.unionWith(r.view.qu)}return e}}function qd(e,t){return $d.apply(this,arguments)}function $d(){return($d=(0,_.Z)(function*(e,t){const n=Br(e),r=yield Su(n.localStore,t.query,!0),i=t.view.Ju(r);return n.isPrimaryClient&&Ld(n,t.targetId,i.zu),i})).apply(this,arguments)}function Gd(e,t){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,_.Z)(function*(e,t){const n=Br(e);return Iu(n.localStore,t).then(e=>Vd(n,e))})).apply(this,arguments)}function Wd(e,t,n,r){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,_.Z)(function*(e,t,n,r){const i=Br(e),s=yield function(e,t){const n=Br(e),r=Br(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.yn(e,t).next(t=>t?n.localDocuments.getDocuments(e,t):Ti.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield Ch(i.remoteStore):"acknowledged"===n||"rejected"===n?(Od(i,t,r||null),Pd(i,t),function(e,t){Br(Br(e).mutationQueue).In(t)}(i.localStore,t)):jr(),yield Vd(i,s)):Mr("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Zd(){return(Zd=(0,_.Z)(function*(e,t){const n=Br(e);if(ip(n),sp(n),!0===t&&!0!==n.ac){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield Yd(n,e.toArray());n.ac=!0,yield Uh(n.remoteStore,!0);for(const r of t)oh(n.remoteStore,r)}else if(!1===t&&!1!==n.ac){const e=[];let t=Promise.resolve();n.ec.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(Nd(n,i),Eu(n.localStore,i,!0))),ah(n.remoteStore,i)}),yield t,yield Yd(n,e),function(e){const t=Br(e);t.ic.forEach((e,n)=>{ah(t.remoteStore,n)}),t.rc.cs(),t.ic=new Map,t.sc=new zi(hi.comparator)}(n),n.ac=!1,yield Uh(n.remoteStore,!1)}})).apply(this,arguments)}function Yd(e,t,n){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,_.Z)(function*(e,t,n){const r=Br(e),i=[],s=[];for(const o of t){let e;const t=r.ec.get(o);if(t&&0!==t.length){e=yield wu(r.localStore,oo(t[0]));for(const e of t){const t=r.tc.get(e),n=yield qd(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield Tu(r.localStore,o);e=yield wu(r.localStore,t),yield gd(r,Xd(t),o,!1)}i.push(e)}return r.Zu.Go(s),i})).apply(this,arguments)}function Xd(e){return eo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Jd(e){const t=Br(e);return Br(Br(t.localStore).persistence).Ri()}function ep(e,t,n,r){return tp.apply(this,arguments)}function tp(){return(tp=(0,_.Z)(function*(e,t,n,r){const i=Br(e);if(i.ac)return void Mr("SyncEngine","Ignoring unexpected query state notification.");const s=i.ec.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=yield Iu(i.localStore,po(s[0])),r=pa.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield Vd(i,e,r);break}case"rejected":yield Eu(i.localStore,t,!0),Nd(i,t,r);break;default:jr()}})).apply(this,arguments)}function np(e,t,n){return rp.apply(this,arguments)}function rp(){return(rp=(0,_.Z)(function*(e,t,n){const r=ip(e);if(r.ac){for(const e of t){if(r.ec.has(e)){Mr("SyncEngine","Adding an already active target "+e);continue}const t=yield Tu(r.localStore,e),n=yield wu(r.localStore,t);yield gd(r,Xd(t),n.targetId,!1),oh(r.remoteStore,n)}for(const e of n)r.ec.has(e)&&(yield Eu(r.localStore,e,!1).then(()=>{ah(r.remoteStore,e),Nd(r,e)}).catch(Ci))}})).apply(this,arguments)}function ip(e){const t=Br(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sd.bind(null,t),t.Zu.Go=ed.bind(null,t.eventManager),t.Zu.lc=td.bind(null,t.eventManager),t}function sp(e){const t=Br(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Id.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kd.bind(null,t),t}class op{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_.Z)(function*(){t.wt=Ku(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return pu(this.persistence,new hu,e.initialUser,this.wt)}_c(e){return new eu(nu.Ms,this.wt)}dc(e){return new ju}terminate(){var e=this;return(0,_.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ap extends op{constructor(e,t,n){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,_.Z)(function*(){yield t().call(n,e),yield n.yc.initialize(n,e),yield sp(n.yc.syncEngine),yield Ch(n.yc.remoteStore),yield n.persistence.ci(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return pu(this.persistence,new hu,e.initialUser,this.wt)}mc(e,t){return new Pc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const n=new Mi(t,this.persistence);return new Li(e.asyncQueue,n)}_c(e){const t=cu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gc.withCacheSize(this.cacheSizeBytes):gc.DEFAULT;return new ou(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Hu(),Wu(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new ju}}class lp extends ap{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,_.Z)(function*(){yield t().call(n,e);const r=n.yc.syncEngine;n.sharedClientState instanceof Uu&&(n.sharedClientState.syncEngine={kr:Wd.bind(null,r),Or:ep.bind(null,r),Mr:np.bind(null,r),Ri:Jd.bind(null,r),Nr:Gd.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.ci(function(){var e=(0,_.Z)(function*(e){yield function(e,t){return Zd.apply(this,arguments)}(n.yc.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start():e||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(e&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():e||n.indexBackfillerScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}dc(e){const t=Hu();if(!Uu.V(t))throw new $r(qr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=cu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Uu(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class cp{initialize(e,t){var n=this;return(0,_.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>Cd(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=jd.bind(null,n.syncEngine),yield Uh(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zh}createDatastore(e){const t=Ku(e.databaseInfo.databaseId),n=new Gu(e.databaseInfo);return function(e,t,n,r){return new Ju(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Cd(this.syncEngine,e,0),s=Bu.V()?new Bu:new zu,new th(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new pd(e,t,n,r,i,s);return o&&(a.ac=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_.Z)(function*(e){const t=Br(e);Mr("RemoteStore","RemoteStore shutting down."),t.lu.add(5),yield ih(t),t.du.shutdown(),t._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function up(e,t=10240){let n=0;return{read:()=>(0,_.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,_.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class dp{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Gr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(e=>{e&&e.Cu()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,_.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,_.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,_.Z)(function*(){const t=yield e.bc();if(null===t)return null;const n=e.Ac.decode(t),r=Number(n);isNaN(r)&&e.Pc(`length string (${n}) is not valid number`);const i=yield e.vc(r);return new id(JSON.parse(i),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,_.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}vc(e){var t=this;return(0,_.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const n=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,_.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class pp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new $r(qr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,_.Z)(function*(e,t){const n=Br(e),r=La(n.wt)+"/documents",i={documents:t.map(e=>Pa(n.wt,e))},s=yield n.ao("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){zr(!!t.found);const n=Oa(e,t.found.name),r=ka(t.found.updateTime),i=new ks({mapValue:{fields:t.found.fields}});return Rs.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){zr(!!t.missing),zr(!!t.readTime);const n=Oa(e,t.missing),r=ka(t.readTime);return Rs.newNoDocument(n,r)}(e,t):jr()}(n.wt,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());zr(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ho(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=hi.fromPath(n);e.mutations.push(new Wo(r,e.precondition(r)))}),yield(n=(0,_.Z)(function*(e,t){const n=Br(e),r=La(n.wt)+"/documents",i={writes:t.map(e=>Ua(n.wt,e))};yield n.ro("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw jr();t=oi.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new $r(qr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?No.updateTime(t):No.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(oi.min()))throw new $r(qr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return No.updateTime(t)}return No.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class fp{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Dc=n.maxAttempts,this.So=new Zu(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,_.Z)(function*(){const t=new pp(e.datastore),n=e.xc(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.Nc(t)}))}).catch(t=>{e.Nc(t)})}))}xc(e){try{const t=this.updateFunction(e);return!is(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Qo(t)}return!1}}class mp{constructor(e,t,n,r){var i=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Or.UNAUTHENTICATED,this.clientId=ti.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var e=(0,_.Z)(function*(e){Mr("FirestoreClient","Received user=",e.uid),yield i.authCredentialListener(e),i.user=e});return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(n,e=>(Mr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}getConfiguration(){var e=this;return(0,_.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $r(qr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const e=$h(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function gp(e,t){return yp.apply(this,arguments)}function yp(){return(yp=(0,_.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),Mr("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,_.Z)(function*(e){r.isEqual(e)||(yield fu(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function vp(e,t){return _p.apply(this,arguments)}function _p(){return(_p=(0,_.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield bp(e);Mr("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>Fh(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Fh(t.remoteStore,n)),e.onlineComponents=t})).apply(this,arguments)}function bp(e){return wp.apply(this,arguments)}function wp(){return(wp=(0,_.Z)(function*(e){return e.offlineComponents||(Mr("FirestoreClient","Using default OfflineComponentProvider"),yield gp(e,new op)),e.offlineComponents})).apply(this,arguments)}function Ep(e){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,_.Z)(function*(e){return e.onlineComponents||(Mr("FirestoreClient","Using default OnlineComponentProvider"),yield vp(e,new cp)),e.onlineComponents})).apply(this,arguments)}function Sp(e){return bp(e).then(e=>e.persistence)}function Tp(e){return bp(e).then(e=>e.localStore)}function Ip(e){return Ep(e).then(e=>e.remoteStore)}function xp(e){return Ep(e).then(e=>e.syncEngine)}function kp(e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,_.Z)(function*(e){const t=yield Ep(e),n=t.eventManager;return n.onListen=fd.bind(null,t.syncEngine),n.onUnlisten=vd.bind(null,t.syncEngine),n})).apply(this,arguments)}function Rp(e,t,n={}){const r=new Gr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t,n,r,i){const s=new hp({next:s=>{t.enqueueAndForget(()=>Xh(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new $r(qr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new $r(qr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new rd(to(n.path),s,{includeMetadataChanges:!0,Du:!0});return Yh(e,o)}(yield kp(e),e.asyncQueue,t,n,r)})),r.promise}function Pp(e,t,n={}){const r=new Gr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t,n,r,i){const s=new hp({next:n=>{t.enqueueAndForget(()=>Xh(e,o)),n.fromCache&&"server"===r.source?i.reject(new $r(qr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new rd(n,s,{includeMetadataChanges:!0,Du:!0});return Yh(e,o)}(yield kp(e),e.asyncQueue,t,n,r)})),r.promise}const Op=new Map;function Np(e,t,n){if(!n)throw new $r(qr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Dp(e,t,n,r){if(!0===t&&!0===r)throw new $r(qr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Lp(e){if(!hi.isDocumentKey(e))throw new $r(qr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Mp(e){if(hi.isDocumentKey(e))throw new $r(qr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Fp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":jr()}function Vp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $r(qr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fp(e);throw new $r(qr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Up(e,t){if(t<=0)throw new $r(qr.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class jp{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new $r(qr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $r(qr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Dp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zp{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jp({}),this._settingsFrozen=!1,e instanceof rs?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new $r(qr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rs(e.options.projectId)}(e))}get app(){if(!this._app)throw new $r(qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $r(qr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Wr;switch(e.type){case"gapi":const t=e.client;return zr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Qr(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new $r(qr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Op.get(e);t&&(Mr("ComponentProvider","Removing Datastore"),Op.delete(e),t.terminate())}(this),Promise.resolve()}}class Bp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $p(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bp(this.firestore,e,this._key)}}class qp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qp(this.firestore,e,this._query)}}class $p extends qp{constructor(e,t,n){super(e,t,to(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bp(this.firestore,null,new hi(e))}withConverter(e){return new $p(this.firestore,e,this._path)}}function Gp(e,t,...n){if(e=(0,C.m9)(e),Np("collection","path",t),e instanceof zp){const r=li.fromString(t,...n);return Mp(r),new $p(e,null,r)}{if(!(e instanceof Bp||e instanceof $p))throw new $r(qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(li.fromString(t,...n));return Mp(r),new $p(e.firestore,null,r)}}function Hp(e,t,...n){if(e=(0,C.m9)(e),1===arguments.length&&(t=ti.I()),Np("doc","path",t),e instanceof zp){const r=li.fromString(t,...n);return Lp(r),new Bp(e,null,new hi(r))}{if(!(e instanceof Bp||e instanceof $p))throw new $r(qr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(li.fromString(t,...n));return Lp(r),new Bp(e.firestore,e instanceof $p?e.converter:null,new hi(r))}}function Wp(e,t){return e=(0,C.m9)(e),t=(0,C.m9)(t),(e instanceof Bp||e instanceof $p)&&(t instanceof Bp||t instanceof $p)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Kp(e,t){return e=(0,C.m9)(e),t=(0,C.m9)(t),e instanceof qp&&t instanceof qp&&e.firestore===t.firestore&&lo(e._query,t._query)&&e.converter===t.converter}class Zp{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Zu(this,"async_queue_retry"),this.Kc=()=>{const e=Wu();e&&Mr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const e=Wu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Wu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Gr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,_.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(F){if(!Ri(F))throw F;Mr("AsyncQueue","Operation failed with retryable error: "+F)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(e=>{throw this.Bc=e,this.Lc=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Lc=!1,e))));return this.Oc=t,t}enqueueAfterDelay(e,t,n){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=qh.createAndSchedule(this,e,t,n,e=>this.Wc(e));return this.$c.push(r),r}Gc(){this.Bc&&jr()}verifyOperationInProgress(){}zc(){var e=this;return(0,_.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Yp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Qp{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xp extends zp{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Zp,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ef(this),this._firestoreClient.terminate()}}function Jp(e){return e._firestoreClient||ef(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ef(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new ns(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mp(e._authCredentials,e._appCheckCredentials,e._queue,r)}function tf(e,t,n){const r=new Gr;return e.asyncQueue.enqueue((0,_.Z)(function*(){try{yield gp(e,n),yield vp(e,t),r.resolve()}catch(e){const n=e;if(!function(e){return"FirebaseError"===e.name?e.code===qr.FAILED_PRECONDITION||e.code===qr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+n),r.reject(n)}})).then(()=>r.promise)}function nf(e){if(e._initialized||e._terminated)throw new $r(qr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $r(qr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sf(Ki.fromBase64String(e))}catch(e){throw new $r(qr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new sf(Ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class of{constructor(e){this._methodName=e}}class af{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $r(qr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $r(qr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ni(this._lat,e._lat)||ni(this._long,e._long)}}const lf=/^__.*__$/;class cf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new zo(e,this.data,t,this.fieldTransforms)}}class uf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jr()}}class df{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.wt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}ia(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Of(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(hf(this.Zc)&&lf.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class pf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=n||Ku(e)}aa(e,t,n,r=!1){return new df({Zc:e,methodName:t,ca:n,path:ui.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function ff(e){const t=e._freezeSettings(),n=Ku(e._databaseId);return new pf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mf(e,t,n,r,i,s={}){const o=e.aa(s.merge||s.mergeFields?2:0,t,n,i);kf("Data must be an object, but it was:",o,r);const a=If(r,o);let l,c;if(s.merge)l=new Wi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Af(t,r,n);if(!o.contains(i))throw new $r(qr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Nf(e,i)||e.push(i)}l=new Wi(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new cf(new ks(a),l,c)}class gf extends of{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}function yf(e,t,n){return new df({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class vf extends of{_toFieldTransform(e){return new Po(e.path,new Co)}isEqual(e){return e instanceof vf}}class _f extends of{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=yf(this,e,!0),n=this.ha.map(e=>Tf(e,t)),r=new So(n);return new Po(e.path,r)}isEqual(e){return this===e}}class bf extends of{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=yf(this,e,!0),n=this.ha.map(e=>Tf(e,t)),r=new Io(n);return new Po(e.path,r)}isEqual(e){return this===e}}class wf extends of{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new ko(e.wt,vo(e.wt,this.la));return new Po(e.path,t)}isEqual(e){return this===e}}function Ef(e,t,n,r){const i=e.aa(1,t,n);kf("Data must be an object, but it was:",i,r);const s=[],o=ks.empty();Ui(r,(e,r)=>{const a=Pf(t,e,n);r=(0,C.m9)(r);const l=i.ia(a);if(r instanceof gf)s.push(a);else{const e=Tf(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new Wi(s);return new uf(o,a,i.fieldTransforms)}function Cf(e,t,n,r,i,s){const o=e.aa(1,t,n),a=[Af(t,r,n)],l=[i];if(s.length%2!=0)throw new $r(qr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Af(t,s[d])),l.push(s[d+1]);const c=[],u=ks.empty();for(let d=a.length-1;d>=0;--d)if(!Nf(c,a[d])){const e=a[d];let t=l[d];t=(0,C.m9)(t);const n=o.ia(e);if(t instanceof gf)c.push(e);else{const r=Tf(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Wi(c);return new uf(u,h,o.fieldTransforms)}function Sf(e,t,n,r=!1){return Tf(n,e.aa(r?4:3,t))}function Tf(e,t){if(xf(e=(0,C.m9)(e)))return kf("Unsupported field value:",t,e),If(e,t);if(e instanceof of)return function(e,t){if(!hf(t.Zc))throw t.oa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.oa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Tf(i,t.ra(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,C.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return vo(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=si.fromDate(e);return{timestampValue:Ta(t.wt,n)}}if(e instanceof si){const n=new si(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ta(t.wt,n)}}if(e instanceof af)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sf)return{bytesValue:Ia(t.wt,e._byteString)};if(e instanceof Bp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.oa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Aa(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa(`Unsupported field value: ${Fp(e)}`)}(e,t)}function If(e,t){const n={};return ji(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ui(e,(e,r)=>{const i=Tf(r,t.ea(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function xf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof si||e instanceof af||e instanceof sf||e instanceof Bp||e instanceof of)}function kf(e,t,n){if(!xf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Fp(n);throw t.oa("an object"===r?e+" a custom object":e+" "+r)}}function Af(e,t,n){if((t=(0,C.m9)(t))instanceof rf)return t._internalPath;if("string"==typeof t)return Pf(e,t);throw Of("Field path arguments must be of type string or ",e,!1,void 0,n)}const Rf=new RegExp("[~\\*/\\[\\]]");function Pf(e,t,n){if(t.search(Rf)>=0)throw Of(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new rf(...t.split("."))._internalPath}catch(r){throw Of(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Of(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $r(qr.INVALID_ARGUMENT,a+e+l)}function Nf(e,t){return e.some(e=>e.isEqual(t))}class Df{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Bp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lf extends Df{data(){return super.data()}}function Mf(e,t){return"string"==typeof t?Pf(e,t):t instanceof rf?t._internalPath:t._delegate._internalPath}class Ff{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vf extends Df{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Mf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Uf extends Vf{data(e={}){return super.data(e)}}class jf{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ff(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Uf(this._firestore,this._userDataWriter,n.key,n,new Ff(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $r(qr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Uf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ff(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Uf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ff(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:zf(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jr()}}function Bf(e,t){return e instanceof Vf&&t instanceof Vf?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jf&&t instanceof jf&&e._firestore===t._firestore&&Kp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function qf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new $r(qr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $f{}function Gf(e,...t){for(const n of t)e=n._apply(e);return e}class Hf extends $f{constructor(e,t,n){super(),this.fa=e,this.da=t,this._a=n,this.type="where"}_apply(e){const t=ff(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new $r(qr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Jf(o,s);const t=[];for(const n of o)t.push(Xf(r,e,n));a={arrayValue:{values:t}}}else a=Xf(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Jf(o,s),a=Sf(n,"where",o,"in"===s||"not-in"===s);const l=Us.create(i,s,a);return function(e,t){if(t.ht()){const n=ro(e);if(null!==n&&!n.isEqual(t.field))throw new $r(qr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=no(e);null!==r&&em(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new $r(qr.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new qp(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Js(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Wf extends $f{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new $r(qr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new $r(qr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Zs(t,n);return function(e,t){if(null===no(e)){const n=ro(e);null!==n&&em(0,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new qp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Js(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Kf extends $f{constructor(e,t,n){super(),this.type=e,this.ma=t,this.ga=n}_apply(e){return new qp(e.firestore,e.converter,ao(e._query,this.ma,this.ga))}}class Zf extends $f{constructor(e,t,n){super(),this.type=e,this.ya=t,this.pa=n}_apply(e){const t=Qf(e,this.type,this.ya,this.pa);return new qp(e.firestore,e.converter,function(e,t){return new Js(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Yf extends $f{constructor(e,t,n){super(),this.type=e,this.ya=t,this.pa=n}_apply(e){const t=Qf(e,this.type,this.ya,this.pa);return new qp(e.firestore,e.converter,function(e,t){return new Js(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Qf(e,t,n,r){if(n[0]=(0,C.m9)(n[0]),n[0]instanceof Df)return function(e,t,n,r,i){if(!r)throw new $r(qr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of so(e))if(o.field.isKeyField())s.push(gs(t,r.key));else{const e=r.data.field(o.field);if(Ji(e))throw new $r(qr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new $r(qr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Ks(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=ff(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new $r(qr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new $r(qr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!io(e)&&-1!==s.indexOf("/"))throw new $r(qr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(li.fromString(s));if(!hi.isDocumentKey(n))throw new $r(qr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new hi(n);a.push(gs(t,i))}else{const e=Sf(n,r,s);a.push(e)}}return new Ks(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Xf(e,t,n){if("string"==typeof(n=(0,C.m9)(n))){if(""===n)throw new $r(qr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!io(t)&&-1!==n.indexOf("/"))throw new $r(qr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(li.fromString(n));if(!hi.isDocumentKey(r))throw new $r(qr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gs(e,new hi(r))}if(n instanceof Bp)return gs(e,n._key);throw new $r(qr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fp(n)}.`)}function Jf(e,t){if(!Array.isArray(e)||0===e.length)throw new $r(qr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new $r(qr.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function em(e,t,n){if(!n.isEqual(t))throw new $r(qr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const tm={maxAttempts:5};class nm{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jr()}}convertObject(e,t){const n={};return Ui(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new af(Qi(e.latitude),Qi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=es(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ts(e));default:return null}}convertTimestamp(e){const t=Yi(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=li.fromString(e);zr(Xa(n));const r=new rs(n.get(1),n.get(3)),i=new hi(n.popFirst(5));return r.isEqual(t)||Fr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function rm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class im extends nm{constructor(e){super(),this.firestore=e}convertBytes(e){return new sf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bp(this.firestore,null,t)}}class sm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ff(e)}set(e,t,n){this._verifyNotCommitted();const r=om(e,this._firestore),i=rm(r.converter,t,n),s=mf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,No.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=om(e,this._firestore);let s;return s="string"==typeof(t=(0,C.m9)(t))||t instanceof rf?Cf(this._dataReader,"WriteBatch.update",i._key,t,n,r):Ef(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,No.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=om(e,this._firestore);return this._mutations=this._mutations.concat(new Ho(t._key,No.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $r(qr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function om(e,t){if((e=(0,C.m9)(e)).firestore!==t)throw new $r(qr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class am extends nm{constructor(e){super(),this.firestore=e}convertBytes(e){return new sf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bp(this.firestore,null,t)}}function lm(e,t,n){e=Vp(e,Bp);const r=Vp(e.firestore,Xp),i=rm(e.converter,t,n);return hm(r,[mf(ff(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,No.none())])}function cm(e,t,n,...r){e=Vp(e,Bp);const i=Vp(e.firestore,Xp),s=ff(i);let o;return o="string"==typeof(t=(0,C.m9)(t))||t instanceof rf?Cf(s,"updateDoc",e._key,t,n,r):Ef(s,"updateDoc",e._key,t),hm(i,[o.toMutation(e._key,No.exists(!0))])}function um(e,...t){var n,r,i;e=(0,C.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||Yp(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Yp(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,c,u;if(e instanceof Bp)c=Vp(e.firestore,Xp),u=to(e._key.path),l={next:n=>{t[o]&&t[o](dm(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Vp(e,qp);c=Vp(n.firestore,Xp),u=n._query;const r=new am(c);l={next:e=>{t[o]&&t[o](new jf(c,r,n,e))},error:t[o+1],complete:t[o+2]},qf(e._query)}return function(e,t,n,r){const i=new hp(r),s=new rd(t,i,n);return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Yh(yield kp(e),s)})),()=>{i.Tc(),e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Xh(yield kp(e),s)}))}}(Jp(c),u,a,l)}function hm(e,t){return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t,n){return bd.apply(this,arguments)}(yield xp(e),t,n)})),n.promise}(Jp(e),t)}function dm(e,t,n){const r=n.docs.get(t._key),i=new am(e);return new Vf(e,i,t._key,r,new Ff(n.hasPendingWrites,n.fromCache),t.converter)}class pm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ff(e)}get(e){const t=om(e,this._firestore),n=new im(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return jr();const r=e[0];if(r.isFoundDocument())return new Df(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Df(this._firestore,n,t._key,null,t.converter);throw jr()})}set(e,t,n){const r=om(e,this._firestore),i=rm(r.converter,t,n),s=mf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=om(e,this._firestore);let s;return s="string"==typeof(t=(0,C.m9)(t))||t instanceof rf?Cf(this._dataReader,"Transaction.update",i._key,t,n,r):Ef(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=om(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=om(e,this._firestore),n=new am(this._firestore);return super.get(e).then(e=>new Vf(this._firestore,n,t._key,e._document,new Ff(!1,!1),t.converter))}}function fm(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new $r("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function mm(){if("undefined"==typeof Uint8Array)throw new $r("unimplemented","Uint8Arrays are not available in this environment.")}function gm(){if("undefined"==typeof atob)throw new $r("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Nr=e}(b.SDK_VERSION),(0,b._registerComponent)(new w.wA("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new Xp(r,new Zr(e.getProvider("auth-internal")),new Jr(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i},"PUBLIC")),(0,b.registerVersion)(Pr,"3.4.13",e),(0,b.registerVersion)(Pr,"3.4.13","esm2017")}();class ym{constructor(e){this._delegate=e}static fromBase64String(e){return gm(),new ym(sf.fromBase64String(e))}static fromUint8Array(e){return mm(),new ym(sf.fromUint8Array(e))}toBase64(){return gm(),this._delegate.toBase64()}toUint8Array(){return mm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function vm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class _m{enableIndexedDbPersistence(e,t){return function(e,t){nf(e=Vp(e,Xp));const n=Jp(e),r=e._freezeSettings(),i=new cp;return tf(n,i,new ap(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){nf(e=Vp(e,Xp));const t=Jp(e),n=e._freezeSettings(),r=new cp;return tf(t,r,new lp(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new $r(qr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gr;return e._queue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{yield(n=(0,_.Z)(function*(e){if(!xi.V())return Promise.resolve();const t=e+"main";yield xi.delete(t)}),function(e){return n.apply(this,arguments)})(cu(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class bm{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof rs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Vr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=Vp(e,zp))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Vr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Or.MOCK_USER;else{t=(0,C.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new $r(qr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Or(s)}e._authCredentials=new Kr(new Hr(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,_.Z)(function*(){const t=yield Sp(e),n=yield Ip(e);return t.setNetworkEnabled(!0),function(e){const t=Br(e);return t.lu.delete(0),nh(t)}(n)}))}(Jp(e=Vp(e,Xp)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,_.Z)(function*(){const t=yield Sp(e),n=yield Ip(e);return t.setNetworkEnabled(!1),(r=(0,_.Z)(function*(e){const t=Br(e);t.lu.add(0),yield ih(t),t._u.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(Jp(e=Vp(e,Xp)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Dp("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Gr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t){return Rd.apply(this,arguments)}(yield xp(e),t)})),t.promise}(Jp(e=Vp(e,Xp)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new hp(t);return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t){Br(e).Tu.add(t),t.next()}(yield kp(e),n)})),()=>{n.Tc(),e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(e,t){Br(e).Tu.delete(t)}(yield kp(e),n)}))}}(Jp(e=Vp(e,Xp)),Yp(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $r("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dm(this,Gp(this._delegate,e))}catch(t){throw Im(t,"collection()","Firestore.collection()")}}doc(e){try{return new Tm(this,Hp(this._delegate,e))}catch(t){throw Im(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Pm(this,function(e,t){if(e=Vp(e,zp),Np("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new $r(qr.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qp(e,null,function(e){return new Js(li.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Im(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Vp(e,Xp);const r=Object.assign(Object.assign({},tm),void 0);return function(e){if(e.maxAttempts<1)throw new $r(qr.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Gr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){const i=yield function(e){return Ep(e).then(e=>e.datastore)}(e);new fp(e.asyncQueue,i,n,t,r).run()})),r.promise}(Jp(e),n=>t(new pm(e,n)),r)}(this._delegate,t=>e(new Em(this,t)))}batch(){return Jp(this._delegate),new Cm(new sm(this._delegate,e=>hm(this._delegate,e)))}loadBundle(e){return function(e,t){const n=Jp(e=Vp(e,Xp)),r=new Qp;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new dp(e,t)}(function(e,t){if(e instanceof Uint8Array)return up(e,t);if(e instanceof ArrayBuffer)return up(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Ku(t));e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){!function(e,t,n){const r=Br(e);var i;(i=(0,_.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=Br(e),r=ka(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ds.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(ad(r));const i=new od(r,e.localStore,t.wt);let s=yield t.fc();for(;s;){const e=yield i.Nu(s);e&&n._updateProgress(e),s=yield t.fc()}const o=yield i.complete();return yield Vd(e,o.Mu,void 0),yield function(e,t){const n=Br(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ds.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.Ou)}catch(e){return Vr("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}(yield xp(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,_.Z)(function*(){return function(e,t){const n=Br(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ds.getNamedQuery(e,t))}(yield Tp(e),t)}))}(Jp(e=Vp(e,Xp)),t).then(t=>t?new qp(e,null,t.query):null)}(this._delegate,e).then(e=>e?new Pm(this,e):null)}}class wm extends nm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ym(new sf(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Tm.forKey(t,this.firestore,null)}}class Em{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wm(e)}get(e){const t=Lm(e);return this._delegate.get(t).then(e=>new Am(this._firestore,new Vf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=Lm(e);return n?(fm("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Lm(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Lm(e);return this._delegate.delete(t),this}}class Cm{constructor(e){this._delegate=e}set(e,t,n){const r=Lm(e);return n?(fm("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Lm(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Lm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sm{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Uf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rm(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Sm.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Sm(e,new wm(e),t),r.set(t,i)),i}}Sm.INSTANCES=new WeakMap;class Tm{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wm(e)}static forPath(e,t,n){if(e.length%2!=0)throw new $r("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Tm(t,new Bp(t._delegate,n,new hi(e)))}static forKey(e,t,n){return new Tm(t,new Bp(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Dm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dm(this.firestore,Gp(this._delegate,e))}catch(t){throw Im(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,C.m9)(e))instanceof Bp&&Wp(this._delegate,e)}set(e,t){t=fm("DocumentReference.set",t);try{return t?lm(this._delegate,e,t):lm(this._delegate,e)}catch(n){throw Im(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?cm(this._delegate,e):cm(this._delegate,e,t,...n)}catch(r){throw Im(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return hm(Vp(e.firestore,Xp),[new Ho(e._key,No.none())])}(this._delegate)}onSnapshot(...e){const t=xm(e),n=km(e,e=>new Am(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return um(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Vp(e,Bp);const t=Vp(e.firestore,Xp),n=Jp(t),r=new am(t);return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(r=(0,_.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=Br(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new $r(qr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=$h(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield Tp(e),t,n);var r})),n.promise}(n,e._key).then(n=>new Vf(t,r,e._key,n,new Ff(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Vp(e,Bp);const t=Vp(e.firestore,Xp);return Rp(Jp(t),e._key,{source:"server"}).then(n=>dm(t,e,n))}(this._delegate):function(e){e=Vp(e,Bp);const t=Vp(e.firestore,Xp);return Rp(Jp(t),e._key).then(n=>dm(t,e,n))}(this._delegate),t.then(e=>new Am(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Tm(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}function Im(e,t,n){return e.message=e.message.replace(t,n),e}function xm(e){for(const t of e)if("object"==typeof t&&!vm(t))return t;return{}}function km(e,t){var n,r;let i;return i=vm(e[0])?e[0]:vm(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Am{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Tm(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Bf(this._delegate,e._delegate)}}class Rm extends Am{data(e){const t=this._delegate.data(e);return function(e,t){e||jr()}(void 0!==t),t}}class Pm{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wm(e)}where(e,t,n){try{return new Pm(this.firestore,Gf(this._delegate,function(e,t,n){const r=t,i=Mf("where",e);return new Hf(i,r,n)}(e,t,n)))}catch(r){throw Im(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Pm(this.firestore,Gf(this._delegate,function(e,t="asc"){const n=t,r=Mf("orderBy",e);return new Wf(r,n)}(e,t)))}catch(n){throw Im(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Pm(this.firestore,Gf(this._delegate,function(e){return Up("limit",e),new Kf("limit",e,"F")}(e)))}catch(t){throw Im(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Pm(this.firestore,Gf(this._delegate,function(e){return Up("limitToLast",e),new Kf("limitToLast",e,"L")}(e)))}catch(t){throw Im(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Pm(this.firestore,Gf(this._delegate,function(...e){return new Zf("startAt",e,!0)}(...e)))}catch(t){throw Im(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Pm(this.firestore,Gf(this._delegate,function(...e){return new Zf("startAfter",e,!1)}(...e)))}catch(t){throw Im(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Pm(this.firestore,Gf(this._delegate,function(...e){return new Yf("endBefore",e,!1)}(...e)))}catch(t){throw Im(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Pm(this.firestore,Gf(this._delegate,function(...e){return new Yf("endAt",e,!0)}(...e)))}catch(t){throw Im(t,"endAt()","Query.endAt()")}}isEqual(e){return Kp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Vp(e,qp);const t=Vp(e.firestore,Xp),n=Jp(t),r=new am(t);return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(r=(0,_.Z)(function*(e,t,n){try{const r=yield Su(e,t,!0),i=new ud(t,r.ji),s=i.Ku(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=$h(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield Tp(e),t,n);var r})),n.promise}(n,e._query).then(n=>new jf(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Vp(e,qp);const t=Vp(e.firestore,Xp),n=Jp(t),r=new am(t);return Pp(n,e._query,{source:"server"}).then(n=>new jf(t,r,e,n))}(this._delegate):function(e){e=Vp(e,qp);const t=Vp(e.firestore,Xp),n=Jp(t),r=new am(t);return qf(e._query),Pp(n,e._query).then(n=>new jf(t,r,e,n))}(this._delegate),t.then(e=>new Nm(this.firestore,new jf(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=xm(e),n=km(e,e=>new Nm(this.firestore,new jf(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return um(this._delegate,t,n)}withConverter(e){return new Pm(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}class Om{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Nm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Pm(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new Om(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Rm(this._firestore,n))})}isEqual(e){return Bf(this._delegate,e._delegate)}}class Dm extends Pm{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Tm(this.firestore,e):null}doc(e){try{return new Tm(this.firestore,void 0===e?Hp(this._delegate):Hp(this._delegate,e))}catch(t){throw Im(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Vp(e.firestore,Xp),r=Hp(e),i=rm(e.converter,t);return hm(n,[mf(ff(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,No.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Tm(this.firestore,e))}isEqual(e){return Wp(this._delegate,e._delegate)}withConverter(e){return new Dm(this.firestore,this._delegate.withConverter(e?Sm.getInstance(this.firestore,e):null))}}function Lm(e){return Vp(e,Bp)}class Mm{constructor(...e){this._delegate=new rf(...e)}static documentId(){return new Mm(ui.keyField().canonicalString())}isEqual(e){return(e=(0,C.m9)(e))instanceof rf&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fm{constructor(e){this._delegate=e}static serverTimestamp(){const e=new vf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Fm(e)}static delete(){const e=new gf("deleteField");return e._methodName="FieldValue.delete",new Fm(e)}static arrayUnion(...e){const t=function(...e){return new _f("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Fm(t)}static arrayRemove(...e){const t=function(...e){return new bf("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Fm(t)}static increment(e){const t=function(e){return new wf("increment",e)}(e);return t._methodName="FieldValue.increment",new Fm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Vm={Firestore:bm,GeoPoint:af,Timestamp:si,Blob:ym,Transaction:Em,WriteBatch:Cm,DocumentReference:Tm,DocumentSnapshot:Am,Query:Pm,QueryDocumentSnapshot:Rm,QuerySnapshot:Nm,CollectionReference:Dm,FieldPath:Mm,FieldValue:Fm,setLogLevel:function(e){!function(e){Dr.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var Um,jm;jm=(e,t)=>new bm(e,t,new _m),(Um=v.Z).INTERNAL.registerComponent(new w.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return jm(t,n)},"PUBLIC").setServiceProps(Object.assign({},Vm))),Um.registerVersion("@firebase/firestore-compat","0.1.22");var zm=n(3820),Bm=n(5355),qm=n(7841);function $m(e,t){return function(e,t=s.z){return new o.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Gm(e,t){return $m(e,t).pipe((0,d.U)(e=>({payload:e,type:"query"})))}function Hm(e,t){return Gm(e,t).pipe((0,u.O)(void 0),(0,h.G)(),(0,d.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function Wm(e,t,n){return Hm(e,n).pipe((0,p.R)((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return Km(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return Km(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Km(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),(0,f.x)(),(0,d.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function Km(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function Zm(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}class Ym{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Hm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,d.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe((0,u.O)(void 0),(0,h.G)(),(0,m.h)(([e,t])=>t.length>0||!e),(0,d.U)(([e,t])=>t),c.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,p.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Zm(e);return Wm(this.query,t,this.afs.schedulers.outsideAngular).pipe(c.iC)}valueChanges(e={}){return Gm(this.query,this.afs.schedulers.outsideAngular).pipe((0,d.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),c.iC)}get(e){return(0,a.D)(this.query.get(e)).pipe(c.iC)}add(e){return this.ref.add(e)}doc(e){return new Qm(this.ref.doc(e),this.afs)}}class Qm{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=rg(n,t);return new Ym(r,i,this.afs)}snapshotChanges(){return $m(this.ref,this.afs.schedulers.outsideAngular).pipe((0,u.O)(void 0),(0,h.G)(),(0,d.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(c.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,d.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,a.D)(this.ref.get(e)).pipe(c.iC)}}class Xm{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Hm(this.query,this.afs.schedulers.outsideAngular).pipe((0,d.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),(0,m.h)(e=>e.length>0),c.iC):Hm(this.query,this.afs.schedulers.outsideAngular).pipe(c.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,p.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=Zm(e);return Wm(this.query,t,this.afs.schedulers.outsideAngular).pipe(c.iC)}valueChanges(e={}){return Gm(this.query,this.afs.schedulers.outsideAngular).pipe((0,d.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),c.iC)}get(e){return(0,a.D)(this.query.get(e)).pipe(c.iC)}}const Jm=new i.OlP("angularfire2.enableFirestorePersistence"),eg=new i.OlP("angularfire2.firestore.persistenceSettings"),tg=new i.OlP("angularfire2.firestore.settings"),ng=new i.OlP("angularfire2.firestore.use-emulator");function rg(e,t=(e=>e)){return{query:t(e),ref:e}}let ig=(()=>{class e{constructor(e,t,n,r,i,s,o,c,u,h,d,p,f,m,v,_,b){this.schedulers=o;const w=(0,g.on)(e,s,t),E=u;h&&(0,zm.nw)(w,s,d,f,m,v,p,_),[this.firestore,this.persistenceEnabled$]=(0,g.cc)(`${w.name}.firestore`,"AngularFirestore",w.name,()=>{const e=s.runOutsideAngular(()=>w.firestore());if(r&&e.settings(r),E&&e.useEmulator(...E),n&&!(0,y.PM)(i)){const t=()=>{try{return(0,a.D)(e.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,l.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,l.of)(!1)]},[r,E,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=rg(n,t),s=this.schedulers.ngZone.run(()=>r);return new Ym(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new Xm(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new Qm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(g.Dh),i.LFG(g.xv,8),i.LFG(Jm,8),i.LFG(tg,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(c.HU),i.LFG(eg,8),i.LFG(ng,8),i.LFG(zm.zQ,8),i.LFG(zm.Qv,8),i.LFG(zm.L6,8),i.LFG(zm._Q,8),i.LFG(zm.rT,8),i.LFG(zm.lh,8),i.LFG(zm.f7,8),i.LFG(Bm.nm,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),sg=(()=>{class e{constructor(){qm.Z.registerVersion("angularfire",c.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:Jm,useValue:!0},{provide:eg,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[ig]}),e})()},8747:(e,t,n)=>{"use strict";n.d(t,{hO:()=>m,xv:()=>h,Dh:()=>u,GT:()=>l,cc:()=>g,on:()=>d,pX:()=>a});var r=n(7716),i=n(7841),s=n(4459);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),l=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&p("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const p=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},f={provide:c,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let m=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[f]}),e})();function g(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(v("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const y=!!e.hot,v=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4459:(e,t,n)=>{"use strict";n.d(t,{q4:()=>Fn,iC:()=>Xn,fc:()=>Qn,HU:()=>Zn,vb:()=>Gn,JM:()=>$n});var r=n(7716),i=n(2329),s=n(6304),o=n(279),a=n(3854),l=n(8604),c=n(9306),u=n(6508);const h="@firebase/installations",d="0.5.12",p="w:0.5.12",f="FIS_v2",m=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function g(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function y({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function v(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function _(e,t){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return m.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function w({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function E(e,{refreshToken:t}){const n=w(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}function C(e){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function T(e,t){return I.apply(this,arguments)}function I(){return(I=(0,s.Z)(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=y(e),i=w(e),s=t.getImmediate({optional:!0});if(s){const e=yield s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:f,appId:e.appId,sdkVersion:p})},a=yield C(()=>fetch(r,o));if(a.ok){const e=yield a.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:v(e.authToken)}}throw yield _("Create Installation",a)})).apply(this,arguments)}function x(e){return new Promise(t=>{setTimeout(t,e)})}const k=/^[cdef][\w-]{21}$/;function A(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return k.test(t)?t:""}catch(e){return""}}function R(e){return`${e.appName}!${e.appId}`}const P=new Map;function O(e,t){const n=R(e);N(n,t),function(e,t){const n=(!D&&"BroadcastChannel"in self&&(D=new BroadcastChannel("[Firebase] FID Change"),D.onmessage=e=>{N(e.data.key,e.data.fid)}),D);n&&n.postMessage({key:e,fid:t}),0===P.size&&D&&(D.close(),D=null)}(n,t)}function N(e,t){const n=P.get(e);if(n)for(const r of n)r(t)}let D=null;const L="firebase-installations-store";let M=null;function F(){return M||(M=(0,u.X3)("firebase-installations-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(L)}}})),M}function V(e,t){return U.apply(this,arguments)}function U(){return(U=(0,s.Z)(function*(e,t){const n=R(e),r=(yield F()).transaction(L,"readwrite"),i=r.objectStore(L),s=yield i.get(n);return yield i.put(t,n),yield r.done,s&&s.fid===t.fid||O(e,t.fid),t})).apply(this,arguments)}function j(e){return z.apply(this,arguments)}function z(){return(z=(0,s.Z)(function*(e){const t=R(e),n=(yield F()).transaction(L,"readwrite");yield n.objectStore(L).delete(t),yield n.done})).apply(this,arguments)}function B(e,t){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(e,t){const n=R(e),r=(yield F()).transaction(L,"readwrite"),i=r.objectStore(L),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.done,!o||s&&s.fid===o.fid||O(e,o.fid),o})).apply(this,arguments)}function $(e){return G.apply(this,arguments)}function G(){return(G=(0,s.Z)(function*(e){let t;const n=yield B(e.appConfig,n=>{const r=H(n),i=W(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function H(e){return X(e||{fid:A(),registrationStatus:0})}function W(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(m.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return K.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Z(e)}:{installationEntry:t}}function K(){return(K=(0,s.Z)(function*(e,t){try{const n=yield T(e,t);return V(e.appConfig,n)}catch(n){throw g(n)&&409===n.customData.serverCode?yield j(e.appConfig):yield V(e.appConfig,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function Z(e){return Y.apply(this,arguments)}function Y(){return(Y=(0,s.Z)(function*(e){let t=yield Q(e.appConfig);for(;1===t.registrationStatus;)yield x(100),t=yield Q(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield $(e);return n||t}return t})).apply(this,arguments)}function Q(e){return B(e,e=>{if(!e)throw m.create("installation-not-found");return X(e)})}function X(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function J(e,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.Z)(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=te(e,n),i=E(e,n),s=t.getImmediate({optional:!0});if(s){const e=yield s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:p,appId:e.appId}})},a=yield C(()=>fetch(r,o));if(a.ok)return v(yield a.json());throw yield _("Generate Auth Token",a)})).apply(this,arguments)}function te(e,{fid:t}){return`${y(e)}/${t}/authTokens:generate`}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,s.Z)(function*(e,t=!1){let n;const r=yield B(e.appConfig,r=>{if(!ce(r))throw m.create("not-registered");const i=r.authToken;if(!t&&ue(i))return r;if(1===i.requestStatus)return n=ie(e,t),r;{if(!navigator.onLine)throw m.create("app-offline");const t=he(r);return n=ae(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function ie(e,t){return se.apply(this,arguments)}function se(){return(se=(0,s.Z)(function*(e,t){let n=yield oe(e.appConfig);for(;1===n.authToken.requestStatus;)yield x(100),n=yield oe(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ne(e,t):r})).apply(this,arguments)}function oe(e){return B(e,e=>{if(!ce(e))throw m.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function ae(e,t){return le.apply(this,arguments)}function le(){return(le=(0,s.Z)(function*(e,t){try{const n=yield J(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield V(e.appConfig,r),n}catch(n){if(!g(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield V(e.appConfig,n)}else yield j(e.appConfig);throw n}})).apply(this,arguments)}function ce(e){return void 0!==e&&2===e.registrationStatus}function ue(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function he(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function de(){return(de=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield $(t);return r?r.catch(console.error):ne(t).catch(console.error),n.fid})).apply(this,arguments)}function pe(){return(pe=(0,s.Z)(function*(e,t=!1){const n=e;return yield fe(n),(yield ne(n,t)).token})).apply(this,arguments)}function fe(e){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(e){const{registrationPromise:t}=yield $(e);t&&(yield t)})).apply(this,arguments)}function ge(e){return m.create("missing-app-config-values",{valueName:e})}const ye="installations";(0,o._registerComponent)(new l.wA(ye,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw ge("App Configuration");if(!e.name)throw ge("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ge(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:(0,o._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new l.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,ye).getImmediate();return{getId:()=>function(e){return de.apply(this,arguments)}(n),getToken:e=>function(e){return pe.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const ve="@firebase/remote-config",_e="0.3.11",be=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class we{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Ee(e=navigator){return e.languages&&e.languages[0]||e.language}class Ce{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){var n,r,i;const[s,o]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),a=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:s,app_instance_id_token:o,app_id:t.appId,language_code:Ee()},u={method:"POST",headers:l,body:JSON.stringify(c)},h=fetch(a,u),d=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let p;try{yield Promise.race([h,d]),p=yield h}catch(v){let e="fetch-client-network";throw"AbortError"===(null===(n=v)||void 0===n?void 0:n.name)&&(e="fetch-timeout"),be.create(e,{originalErrorMessage:null===(r=v)||void 0===r?void 0:r.message})}let f=p.status;const m=p.headers.get("ETag")||void 0;let g,y;if(200===p.status){let e;try{e=yield p.json()}catch(v){throw be.create("fetch-client-parse",{originalErrorMessage:null===(i=v)||void 0===i?void 0:i.message})}g=e.entries,y=e.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(g={}),304!==f&&200!==f)throw be.create("fetch-status",{httpStatus:f});return{status:f,eTag:m,config:g}})()}}class Se{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(be.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class Te{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ie(e,t){var n;const r=e.target.error||void 0;return be.create(t,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const xe="app_namespace_store";class ke{constructor(e,t,n,r=function(){return new Promise((e,t)=>{var n;try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Ie(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(xe,{keyPath:"compositeKey"})}}}catch(r){t(be.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{var s;const o=n.transaction([xe],"readonly").objectStore(xe),a=t.createCompositeKey(e);try{const e=o.get(a);e.onerror=e=>{i(Ie(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(l){i(be.create("storage-get",{originalErrorMessage:null===(s=l)||void 0===s?void 0:s.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const a=r.transaction([xe],"readwrite").objectStore(xe),l=n.createCompositeKey(e);try{const e=a.put({compositeKey:l,value:t});e.onerror=e=>{s(Ie(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(c){s(be.create("storage-set",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{var s;const o=n.transaction([xe],"readwrite").objectStore(xe),a=t.createCompositeKey(e);try{const e=o.delete(a);e.onerror=e=>{i(Ie(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(l){i(be.create("storage-delete",{originalErrorMessage:null===(s=l)||void 0===s?void 0:s.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Ae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Re(){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw be.create("registration-window");if(!(0,a.hl)())throw be.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:l}=n.options;if(!i)throw be.create("registration-project-id");if(!s)throw be.create("registration-api-key");if(!l)throw be.create("registration-app-id");const u=new ke(l,n.name,t=t||"firebase"),h=new Ae(u),d=new c.Yd(ve);d.logLevel=c.in.ERROR;const p=new Ce(r,o.SDK_VERSION,t,i,s,l),f=new Se(p,u),m=new we(f,u,h,d),g=new Te(n,m,h,u,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(ve,_e),(0,o.registerVersion)(ve,_e,"esm2017");const Oe="/firebase-messaging-sw.js",Ne="/firebase-cloud-messaging-push-scope",De="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Le=(()=>(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Le||(Le={})),Le))();function Me(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fe(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const Ve="fcm_token_details_db",Ue="fcm_token_object_Store";function je(e){return ze.apply(this,arguments)}function ze(){return(ze=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(Ve))return null;let t=null;var n;return(yield(0,u.X3)(Ve,5,{upgrade:(n=(0,s.Z)(function*(n,r,i,s){var o;if(r<2)return;if(!n.objectStoreNames.contains(Ue))return;const a=s.objectStore(Ue),l=yield a.index("fcmSenderId").get(e);if(yield a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(o=e.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Me(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Me(e.auth),p256dh:Me(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Me(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Me(e.auth),p256dh:Me(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Me(e.vapidKey)}}}}),function(e,t,r,i){return n.apply(this,arguments)})})).close(),yield(0,u.Lj)(Ve),yield(0,u.Lj)("fcm_vapid_details_db"),yield(0,u.Lj)("undefined"),Be(t)?t:null})).apply(this,arguments)}function Be(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const qe="firebase-messaging-store";let $e=null;function Ge(){return $e||($e=(0,u.X3)("firebase-messaging-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(qe)}}})),$e}function He(e){return We.apply(this,arguments)}function We(){return(We=(0,s.Z)(function*(e){const t=Xe(e),n=yield Ge(),r=yield n.transaction(qe).objectStore(qe).get(t);if(r)return r;{const t=yield je(e.appConfig.senderId);if(t)return yield Ke(e,t),t}})).apply(this,arguments)}function Ke(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,s.Z)(function*(e,t){const n=Xe(e),r=(yield Ge()).transaction(qe,"readwrite");return yield r.objectStore(qe).put(t,n),yield r.done,t})).apply(this,arguments)}function Ye(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*(e){const t=Xe(e),n=(yield Ge()).transaction(qe,"readwrite");yield n.objectStore(qe).delete(t),yield n.done})).apply(this,arguments)}function Xe({appConfig:e}){return e.appId}const Je=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(e,t){var n;const r=yield at(e),i=ct(t),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{const t=yield fetch(ot(e.appConfig),s);o=yield t.json()}catch(a){throw Je.create("token-subscribe-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw Je.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Je.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(e,t){var n;const r=yield at(e),i=ct(t.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{const n=yield fetch(`${ot(e.appConfig)}/${t.token}`,s);o=yield n.json()}catch(a){throw Je.create("token-update-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw Je.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Je.create("token-update-no-token");return o.token})).apply(this,arguments)}function it(e,t){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(e,t){var n;const r={method:"DELETE",headers:yield at(e)};try{const n=yield fetch(`${ot(e.appConfig)}/${t}`,r),i=yield n.json();if(i.error)throw Je.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(i){throw Je.create("token-unsubscribe-failed",{errorInfo:null===(n=i)||void 0===n?void 0:n.toString()})}})).apply(this,arguments)}function ot({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function at(e){return lt.apply(this,arguments)}function lt(){return(lt=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ct({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==De&&(i.web.applicationPubKey=r),i}const ut=6048e5;function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=(0,s.Z)(function*(e){const t=yield _t(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Me(t.getKey("auth")),p256dh:Me(t.getKey("p256dh"))},r=yield He(e.firebaseDependencies);if(r){if(wt(r.subscriptionOptions,n))return Date.now()>=r.createTime+ut?mt(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield it(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return yt(e.firebaseDependencies,n)}return yt(e.firebaseDependencies,n)})).apply(this,arguments)}function pt(e){return ft.apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(e){const t=yield He(e.firebaseDependencies);t&&(yield it(e.firebaseDependencies,t.token),yield Ye(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function mt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(e,t){try{const n=yield nt(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Ke(e.firebaseDependencies,r),n}catch(n){throw yield pt(e),n}})).apply(this,arguments)}function yt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(e,t){const n={token:yield et(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Ke(e,n),n.token})).apply(this,arguments)}function _t(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fe(t)})})).apply(this,arguments)}function wt(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function Et(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=t.notification)||void 0===s?void 0:s.click_action;a&&(e.fcmOptions.link=a);const l=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function Ct(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function St(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Tt(e){return Je.create("missing-app-config-values",{valueName:e})}St("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),St("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class It{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Tt("App Configuration Object");if(!e.name)throw Tt("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Tt(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function xt(e){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(e){var t;try{e.swRegistration=yield navigator.serviceWorker.register(Oe,{scope:Ne}),e.swRegistration.update().catch(()=>{})}catch(n){throw Je.create("failed-service-worker-registration",{browserErrorMessage:null===(t=n)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function At(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(e,t){if(t||e.swRegistration||(yield xt(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Je.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Pt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=De)})).apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(e,t){if(!navigator)throw Je.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Je.create("permission-blocked");return yield Pt(e,null==t?void 0:t.vapidKey),yield At(e,null==t?void 0:t.serviceWorkerRegistration),ht(e)})).apply(this,arguments)}function Dt(e,t,n){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(function*(e,t,n){const r=Mt(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mt(e){switch(e){case Le.NOTIFICATION_CLICKED:return"notification_open";case Le.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ft(){return(Ft=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Le.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Et(n)):e.onMessageHandler.next(Et(n)));const r=n.data;Ct(r)&&"1"===r["google.c.a.e"]&&(yield Dt(e,n.messageType,r))})).apply(this,arguments)}const Vt="@firebase/messaging",Ut="0.9.16";function jt(){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(){try{yield(0,a.eu)()}catch(e){return!1}return"undefined"!=typeof window&&(0,a.hl)()&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("messaging",e=>{const t=new It(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return Ft.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new l.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Nt.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)(Vt,Ut),(0,o.registerVersion)(Vt,Ut,"esm2017");const Bt="analytics",qt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$t="https://www.googletagmanager.com/gtag/js",Gt=new c.Yd("@firebase/analytics");function Ht(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Wt(e,t){const n=document.createElement("script");n.src=`${$t}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function Kt(e,t,n,r,i,s){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,s.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield Ht(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){Gt.error(a)}e("config",i,s)})).apply(this,arguments)}function Yt(e,t,n,r,i){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,s.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield Ht(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){Gt.error(s)}})).apply(this,arguments)}function Xt(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes($t))return t;return null}const Jt=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),en=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function tn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function nn(e){return rn.apply(this,arguments)}function rn(){return(rn=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:tn(r)},s=qt.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Jt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function sn(e){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(e,t=en,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Jt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Jt.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new hn;return setTimeout((0,s.Z)(function*(){l.abort()}),void 0!==n?n:6e4),an({appId:r,apiKey:i,measurementId:o},a,l,t)})).apply(this,arguments)}function an(e,t,n){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=en){var s,o;const{appId:l,measurementId:c}=e;try{yield cn(r,t)}catch(u){if(c)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null===(s=u)||void 0===s?void 0:s.message}]`),{appId:l,measurementId:c};throw u}try{const t=yield nn(e);return i.deleteThrottleMetadata(l),t}catch(u){const t=u;if(!un(t)){if(i.deleteThrottleMetadata(l),c)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:l,measurementId:c};throw u}const s=503===Number(null===(o=null==t?void 0:t.customData)||void 0===o?void 0:o.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+s,backoffCount:n+1};return i.setThrottleMetadata(l,h),Gt.debug(`Calling attemptFetch again in ${s} millis`),an(e,h,r,i)}})).apply(this,arguments)}function cn(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Jt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function un(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class hn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let dn,pn;function fn(){return(fn=(0,s.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function mn(e){pn=e}function gn(e){dn=e}function yn(){return vn.apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(){var e;if(!(0,a.hl)())return Gt.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(t){return Gt.warn(Jt.create("indexeddb-unavailable",{errorInfo:null===(e=t)||void 0===e?void 0:e.toString()}).message),!1}return!0})).apply(this,arguments)}function _n(){return(_n=(0,s.Z)(function*(e,t,n,r,i,s,o){var a;const l=sn(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Gt.error(e)),t.push(l);const c=yn().then(e=>e?r.getId():void 0),[u,h]=yield Promise.all([l,c]);Xt()||Wt(s,u.measurementId),pn&&(i("consent","default",pn),mn(void 0)),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),dn&&(i("set",dn),gn(void 0)),u.measurementId})).apply(this,arguments)}class bn{constructor(e){this.app=e}_delete(){return delete wn[this.app.options.appId],Promise.resolve()}}let wn={},En=[];const Cn={};let Sn,Tn,In="dataLayer",xn=!1;function kn(){return An.apply(this,arguments)}function An(){return(An=(0,s.Z)(function*(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const Rn="@firebase/analytics",Pn="0.8.0";(0,o._registerComponent)(new l.wA(Bt,(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Jt.create("invalid-analytics-context",{errorInfo:t});Gt.warn(n.message)}}();const r=e.options.appId;if(!r)throw Jt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Jt.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wn[r])throw Jt.create("already-exists",{id:r});if(!xn){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(e,t,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield Yt(e,t,n,s,o):"config"===i?yield Kt(e,t,n,r,s,o):"consent"===i?e("consent","update",o):e("set",s)}catch(a){Gt.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window.gtag}}(wn,En,Cn);Tn=e,Sn=t,xn=!0}return wn[r]=function(e,t,n,r,i,s,o){return _n.apply(this,arguments)}(e,En,Cn,t,Sn,In,n),new bn(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new l.wA("analytics-internal",function(e){try{const t=e.getProvider(Bt).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return fn.apply(this,arguments)}(Tn,wn[e.app.options.appId],t,n,r).catch(e=>Gt.error(e))}(t,e,n,r)}}catch(t){throw Jt.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(Rn,Pn),(0,o.registerVersion)(Rn,Pn,"esm2017");var On=n(7771),Nn=n(3637),Dn=n(8307),Ln=n(9746),Mn=n(9673);const Fn=new r.GfV("7.4.1"),Vn="__angularfire_symbol__analyticsIsSupportedValue",Un="__angularfire_symbol__analyticsIsSupported",jn="__angularfire_symbol__remoteConfigIsSupportedValue",zn="__angularfire_symbol__remoteConfigIsSupported",Bn="__angularfire_symbol__messagingIsSupportedValue",qn="__angularfire_symbol__messagingIsSupported";function $n(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Un]||(globalThis[Un]=kn().then(e=>globalThis[Vn]=e).catch(()=>globalThis[Vn]=!1)),globalThis[qn]||(globalThis[qn]=jt().then(e=>globalThis[Bn]=e).catch(()=>globalThis[Bn]=!1)),globalThis[zn]||(globalThis[zn]=Re().then(e=>globalThis[jn]=e).catch(()=>globalThis[jn]=!1));const Gn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function Hn(){}class Wn{constructor(e,t=On.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class Kn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hn,{},Hn,Hn)),t.pipe((0,Dn.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Wn(Zone.current)),this.insideAngular=e.run(()=>new Wn(Zone.current,Nn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Yn(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Qn(e){return e.pipe((0,Ln.QV)(Yn().outsideAngular))}function Xn(e){return Yn(),(t=Yn(),function(e){return(e=e.lift(new Kn(t.ngZone))).pipe((0,Mn.R)(t.outsideAngular),(0,Ln.QV)(t.insideAngular))})(e);var t}},3679:(e,t,n)=>{"use strict";n.d(t,{sg:()=>Q,u5:()=>J,JU:()=>a,a5:()=>E,F:()=>W,UX:()=>ee});var r=n(7716),i=(n(8583),n(4402)),s=n(5758),o=n(8002);const a=new r.OlP("NgValueAccessor"),l=new r.OlP("NgValidators"),c=new r.OlP("NgAsyncValidators");function u(e){return null!=e}function h(e){const t=(0,r.QGY)(e)?(0,i.D)(e):e;return(0,r.CqO)(t),t}function d(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function p(e,t){return t.map(t=>t(e))}function f(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function m(e){return null!=e?function(e){if(!e)return null;const t=e.filter(u);return 0==t.length?null:function(e){return d(p(e,t))}}(f(e)):null}function g(e){return null!=e?function(e){if(!e)return null;const t=e.filter(u);return 0==t.length?null:function(e){const n=p(e,t).map(h);return(0,s.D)(n).pipe((0,o.U)(d))}}(f(e)):null}function y(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function v(e){return e._rawValidators}function _(e){return e._rawAsyncValidators}let b=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=m(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=g(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),w=(()=>{class e extends b{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class E extends b{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}function C(e,t){I(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&k(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&k(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function S(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),x(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function T(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function I(e,t){const n=v(e);null!==t.validator?e.setValidators(y(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=_(e);null!==t.asyncValidator?e.setAsyncValidators(y(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();T(t._rawValidators,i),T(t._rawAsyncValidators,i)}function x(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=v(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.validator);i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const r=_(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.asyncValidator);i.length!==r.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return T(t._rawValidators,r),T(t._rawAsyncValidators,r),n}function k(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function A(e,t){I(e,t)}function R(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function P(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const O="VALID",N="INVALID",D="PENDING",L="DISABLED";function M(e){return(j(e)?e.validators:e)||null}function F(e){return Array.isArray(e)?m(e):e||null}function V(e,t){return(j(t)?t.asyncValidators:e)||null}function U(e){return Array.isArray(e)?g(e):e||null}function j(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class z{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=F(this._rawValidators),this._composedAsyncValidatorFn=U(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===O}get invalid(){return this.status===N}get pending(){return this.status==D}get disabled(){return this.status===L}get enabled(){return this.status!==L}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=F(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=U(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=D,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=L,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=O,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==O&&this.status!==D||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?L:O}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=D,this._hasOwnPendingAsyncValidator=!0;const t=h(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof q?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof $&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?L:this.errors?N:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(D)?D:this._anyControlsHaveStatus(N)?N:O}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){j(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class B extends z{constructor(e=null,t,n){super(M(t),V(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){P(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){P(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class q extends z{constructor(e,t,n){super(M(t),V(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof B?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class $ extends z{constructor(e,t,n){super(M(t),V(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof B?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const G={provide:w,useExisting:(0,r.Gpc)(()=>W)},H=(()=>Promise.resolve(null))();let W=(()=>{class e extends w{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new q({},m(e),g(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){H.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),C(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){H.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),P(this._directives,e)})}addFormGroup(e){H.then(()=>{const t=this._findContainer(e.path),n=new q({});A(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){H.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){H.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,R(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(l,10),r.Y36(c,10))},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([G]),r.qOj]}),e})(),K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const Z=new r.OlP("NgModelWithFormControlWarning"),Y={provide:w,useExisting:(0,r.Gpc)(()=>Q)};let Q=(()=>{class e extends w{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(x(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return C(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){S(e.control||null,e,!1),P(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,R(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(S(t||null,e),n instanceof B&&(C(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);A(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return x(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){I(this.form,this),this._oldForm&&x(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(l,10),r.Y36(c,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Y]),r.qOj,r.TTD]}),e})(),X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[K]]}),e})(),J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[X]}),e})(),ee=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Z,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[X]}),e})()},1095:(e,t,n)=>{"use strict";n.d(t,{lW:()=>h,ot:()=>d});var r=n(2458),i=n(6237),s=n(7716),o=n(4765);const a=["mat-button",""],l=["*"],c=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],u=(0,r.pj)((0,r.Id)((0,r.Kr)(class{constructor(e){this._elementRef=e}})));let h=(()=>{class e extends u{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of c)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(o.tE),s.Y36(i.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&s.Gf(r.wG,5),2&e){let e;s.iGM(e=s.CRH())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(s.uIk("disabled",t.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:a,ngContentSelectors:l,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1),s._UZ(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),s.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[r.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.si,r.BQ],r.BQ]}),e})()},3738:(e,t,n)=>{"use strict";n.d(t,{a8:()=>u,dn:()=>l,G2:()=>c,QW:()=>h});var r=n(6237),i=n(2458),s=n(7716);const o=["*",[["mat-card-footer"]]],a=["*","mat-card-footer"];let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),e})(),u=(()=>{class e{constructor(e){this._animationMode=e}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:a,decls:2,vars:0,template:function(e,t){1&e&&(s.F$t(o),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.BQ],i.BQ]}),e})()},2458:(e,t,n)=>{"use strict";n.d(t,{rD:()=>w,BQ:()=>g,X2:()=>E,uc:()=>T,nP:()=>L,us:()=>M,wG:()=>N,si:()=>D,pj:()=>v,Kr:()=>_,Id:()=>y,FD:()=>b,E0:()=>C});var r=n(7716),i=n(4765),s=n(946);const o=new r.GfV("12.2.13");var a=n(8583),l=n(521),c=n(9490),u=n(9765),h=n(9761),d=n(6237);n(6461);const p=new r.GfV("12.2.13"),f=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let m,g=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,r.X6Q)()||(0,l.Oy)())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&p.full!==o.full&&console.warn("The Angular Material version ("+p.full+") does not match the Angular CDK version ("+o.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(i.qm),r.LFG(f,8),r.LFG(a.K0))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.vT],s.vT]}),e})();function y(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,c.Ig)(e)}}}function v(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}function _(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=(0,c.Ig)(e)}}}function b(e){return class extends e{constructor(...e){super(...e),this.stateChanges=new u.xQ,this.errorState=!1}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}try{m="undefined"!=typeof Intl}catch(F){m=!1}let w=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),e})();function C(e,t,n="mat"){e.changes.pipe((0,h.O)(e)).subscribe(({length:e})=>{S(t,`${n}-2-line`,!1),S(t,`${n}-3-line`,!1),S(t,`${n}-multi-line`,!1),2===e||3===e?S(t,`${n}-${e}-line`,!0):e>3&&S(t,`${n}-multi-line`,!0)})}function S(e,t,n){const r=e.nativeElement.classList;n?r.add(t):r.remove(t)}let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[g],g]}),e})();class I{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const x={enterDuration:225,exitDuration:150},k=(0,l.i$)({passive:!0}),A=["mousedown","touchstart"],R=["mouseup","mouseleave","touchend","touchcancel"];class P{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=(0,c.fI)(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},x),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=n.radius||function(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,r),o=e-r.left,a=t-r.top,l=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new I(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const e=u===this._mostRecentTransientRipple;u.state=1,n.persistent||e&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},x),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=(0,c.fI)(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(A))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(R),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=(0,i.X6)(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!(0,i.yG)(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,k)})})}_removeTriggerEvents(){this._triggerElement&&(A.forEach(e=>{this._triggerElement.removeEventListener(e,this,k)}),this._pointerUpEventsRegistered&&R.forEach(e=>{this._triggerElement.removeEventListener(e,this,k)}))}}const O=new r.OlP("mat-ripple-global-options");let N=(()=>{class e{constructor(e,t,n,r,i){this._elementRef=e,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new P(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(l.t4),r.Y36(O,8),r.Y36(d.Qb,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[g,l.ud],g]}),e})(),L=(()=>{class e{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(d.Qb,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&r.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[g]]}),e})()},8295:(e,t,n)=>{"use strict";n.d(t,{G_:()=>H,KE:()=>W,Eo:()=>F,lN:()=>K,hX:()=>U});var r=n(8553),i=n(8583),s=n(7716),o=n(2458),a=n(9490),l=n(9765),c=n(6682),u=n(2759),h=n(9761),d=n(6782),p=n(5257),f=n(7238),m=n(6237),g=n(946),y=n(521);const v=["underline"],_=["connectionContainer"],b=["inputContainer"],w=["label"];function E(e,t){1&e&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15),s._UZ(3,"div",16),s._UZ(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15),s._UZ(7,"div",16),s._UZ(8,"div",17),s.qZA(),s.BQk())}function C(e,t){1&e&&(s.TgZ(0,"div",19),s.Hsn(1,1),s.qZA())}function S(e,t){if(1&e&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&e){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function T(e,t){1&e&&s.Hsn(0,3,["*ngSwitchCase","true"])}function I(e,t){1&e&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function x(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,S,4,1,"ng-container",12),s.YNc(3,T,1,0,"ng-content",12),s.YNc(4,I,2,0,"span",22),s.qZA()}if(2&e){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function k(e,t){1&e&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function A(e,t){if(1&e&&(s.TgZ(0,"div",25,26),s._UZ(2,"span",27),s.qZA()),2&e){const e=s.oxw();s.xp6(2),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function R(e,t){if(1&e&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&e){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function P(e,t){if(1&e&&(s.TgZ(0,"div",31),s._uU(1),s.qZA()),2&e){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function O(e,t){if(1&e&&(s.TgZ(0,"div",28),s.YNc(1,P,2,2,"div",29),s.Hsn(2,6),s._UZ(3,"div",30),s.Hsn(4,7),s.qZA()),2&e){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const N=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],D=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],L=new s.OlP("MatError"),M={transitionMessages:(0,f.X$)("transitionMessages",[(0,f.SB)("enter",(0,f.oB)({opacity:1,transform:"translateY(0%)"})),(0,f.eR)("void => enter",[(0,f.oB)({opacity:0,transform:"translateY(-5px)"}),(0,f.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e}),e})();const V=new s.OlP("MatHint");let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-label"]]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-placeholder"]]}),e})();const z=new s.OlP("MatPrefix"),B=new s.OlP("MatSuffix");let q=0;const $=(0,o.pj)(class{constructor(e){this._elementRef=e}},"primary"),G=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),H=new s.OlP("MatFormField");let W=(()=>{class e extends ${constructor(e,t,n,r,i,s,o,a){super(e),this._changeDetectorRef=t,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new l.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+q++,this._labelId="mat-form-field-label-"+q++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=(0,a.Ig)(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe((0,h.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe((0,d.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,d.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,c.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,d.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,u.R)(this._label.nativeElement,"transitionend").pipe((0,p.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let e=0;e<o.length;e++)l+=o[e].offsetWidth;t=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${t}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(g.Is,8),s.Y36(G,8),s.Y36(y.t4),s.Y36(s.R0b),s.Y36(m.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){if(1&e&&(s.Suo(n,F,5),s.Suo(n,F,7),s.Suo(n,U,5),s.Suo(n,U,7),s.Suo(n,j,5),s.Suo(n,L,5),s.Suo(n,V,5),s.Suo(n,z,5),s.Suo(n,B,5)),2&e){let e;s.iGM(e=s.CRH())&&(t._controlNonStatic=e.first),s.iGM(e=s.CRH())&&(t._controlStatic=e.first),s.iGM(e=s.CRH())&&(t._labelChildNonStatic=e.first),s.iGM(e=s.CRH())&&(t._labelChildStatic=e.first),s.iGM(e=s.CRH())&&(t._placeholderChild=e.first),s.iGM(e=s.CRH())&&(t._errorChildren=e),s.iGM(e=s.CRH())&&(t._hintChildren=e),s.iGM(e=s.CRH())&&(t._prefixChildren=e),s.iGM(e=s.CRH())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(s.Gf(v,5),s.Gf(_,7),s.Gf(b,5),s.Gf(w,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.underlineRef=e.first),s.iGM(e=s.CRH())&&(t._connectionContainerRef=e.first),s.iGM(e=s.CRH())&&(t._inputContainerRef=e.first),s.iGM(e=s.CRH())&&(t._label=e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:H,useExisting:e}]),s.qOj],ngContentSelectors:D,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(s.F$t(N),s.TgZ(0,"div",0),s.TgZ(1,"div",1,2),s.NdJ("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),s.YNc(3,E,9,0,"ng-container",3),s.YNc(4,C,2,0,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,x,5,16,"label",8),s.qZA(),s.qZA(),s.YNc(10,k,2,0,"div",9),s.qZA(),s.YNc(11,A,3,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,R,2,1,"div",12),s.YNc(14,O,5,2,"div",13),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==t.appearance),s.xp6(1),s.Q6J("ngIf",t._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",t._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",t._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=t.appearance),s.xp6(1),s.Q6J("ngSwitch",t._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[i.O5,i.RF,i.n9,r.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[M.transitionMessages]},changeDetection:0}),e})(),K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,o.BQ,r.Q8],o.BQ]}),e})()},9983:(e,t,n)=>{"use strict";n.d(t,{Nt:()=>v,c:()=>_});var r=n(521),i=n(7716),s=n(9490),o=n(9193),a=n(9765);n(2759),n(628),n(6782),n(8583);const l=(0,r.i$)({passive:!0});let c=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return o.E;const t=(0,s.fI)(e),n=this._monitoredElements.get(t);if(n)return n.subject;const r=new a.xQ,i="cdk-text-field-autofilled",c=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(i)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(i)&&(t.classList.remove(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!1}))):(t.classList.add(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",c,l),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:r,unlisten:()=>{t.removeEventListener("animationstart",c,l)}}),r}stopMonitoring(e){const t=(0,s.fI)(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.t4),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(r.t4),i.LFG(i.R0b))},token:e,providedIn:"root"}),e})(),u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[r.ud]]}),e})();var h=n(2458),d=n(8295),p=n(3679);const f=new i.OlP("MAT_INPUT_VALUE_ACCESSOR"),m=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let g=0;const y=(0,h.FD)(class{constructor(e,t,n,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}});let v=(()=>{class e extends y{constructor(e,t,n,i,s,o,l,c,u,h){super(o,i,s,n),this._elementRef=e,this._platform=t,this._autofillMonitor=c,this._formField=h,this._uid="mat-input-"+g++,this.focused=!1,this.stateChanges=new a.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>(0,r.qK)().has(e));const d=this._elementRef.nativeElement,p=d.nodeName.toLowerCase();this._inputValueAccessor=l||d,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{const t=e.target;t.value||0!==t.selectionStart||0!==t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,s.Ig)(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=(0,s.Ig)(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&(0,r.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=(0,s.Ig)(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){m.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(r.t4),i.Y36(p.a5,10),i.Y36(p.F,8),i.Y36(p.sg,8),i.Y36(h.rD),i.Y36(f,10),i.Y36(c),i.Y36(i.R0b),i.Y36(d.G_,8))},e.\u0275dir=i.lG2({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,t){1&e&&i.NdJ("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(i.Ikx("disabled",t.disabled)("required",t.required),i.uIk("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.empty&&t.required?null:t.errorState)("aria-required",t.required),i.ekj("mat-input-server",t._isServer)("mat-native-select-inline",t._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i._Bn([{provide:d.Eo,useExisting:e}]),i.qOj,i.TTD]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[h.rD],imports:[[u,d.lN,h.BQ],u,d.lN]}),e})()},9992:(e,t,n)=>{"use strict";n.d(t,{i$:()=>y,Tg:()=>b,ie:()=>w});var r=n(8583),i=n(7716),s=n(2458),o=n(9490),a=n(9765),l=n(6782);n(9761),n(4765),n(7860),n(6461),n(3679);let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.BQ],s.BQ]}),e})();const u=["*"],h=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],d=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],p=(0,s.Id)((0,s.Kr)(class{})),f=(0,s.Kr)(class{}),m=new i.OlP("MatList"),g=new i.OlP("MatNavList");let y=(()=>{class e extends p{constructor(e){super(),this._elementRef=e,this._stateChanges=new a.xQ,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[i._Bn([{provide:m,useExisting:e}]),i.qOj,i.TTD],ngContentSelectors:u,decls:1,vars:0,template:function(e,t){1&e&&(i.F$t(),i.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),e})(),_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),e})(),b=(()=>{class e extends f{constructor(e,t,n,r){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new a.xQ,this._disabled=!1,this._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),this._list=n||r;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,l.R)(this._destroyed)).subscribe(()=>{t.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=(0,o.Ig)(e)}ngAfterContentInit(){(0,s.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(g,8),i.Y36(m,8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,t,n){if(1&e&&(i.Suo(n,v,5),i.Suo(n,_,5),i.Suo(n,s.X2,5)),2&e){let e;i.iGM(e=i.CRH())&&(t._avatar=e.first),i.iGM(e=i.CRH())&&(t._icon=e.first),i.iGM(e=i.CRH())&&(t._lines=e)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,t){2&e&&i.ekj("mat-list-item-disabled",t.disabled)("mat-list-item-avatar",t._avatar||t._icon)("mat-list-item-with-avatar",t._avatar||t._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[i.qOj],ngContentSelectors:d,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,t){1&e&&(i.F$t(h),i.TgZ(0,"div",0),i._UZ(1,"div",1),i.Hsn(2),i.TgZ(3,"div",2),i.Hsn(4,1),i.qZA(),i.Hsn(5,2),i.qZA()),2&e&&(i.xp6(1),i.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t._isRippleDisabled()))},directives:[s.wG],encapsulation:2,changeDetection:0}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.uc,s.si,s.BQ,s.us,r.ez],s.uc,s.BQ,s.us,c]}),e})()},2926:(e,t,n)=>{"use strict";n.d(t,{JX:()=>J,TM:()=>ee,Rh:()=>X,SJ:()=>te});var r=n(521),i=n(9490),s=n(7716),o=n(9765),a=n(5917),l=n(7574),c=n(2759),u=n(6465),h=n(6102);new class extends h.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends u.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}),n(4581);var d=(n(5319),n(5639),n(7519)),p=n(628),f=n(5435),m=n(6782),g=n(9761),y=(n(9328),n(3190),n(2066),n(8583)),v=n(946);n(7860);let _=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new o.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new l.y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe((0,p.e)(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,a.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe((0,f.h)(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let n=(0,i.fI)(t),r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return(0,c.R)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.R0b),s.LFG(r.t4),s.LFG(y.K0,8))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(s.R0b),s.LFG(r.t4),s.LFG(y.K0,8))},token:e,providedIn:"root"}),e})(),b=(()=>{class e{constructor(e,t,n,r){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=n,this.dir=r,this._destroyed=new o.xQ,this._elementScrolled=new l.y(e=>this.ngZone.runOutsideAngular(()=>(0,c.R)(this.elementRef.nativeElement,"scroll").pipe((0,m.R)(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&0!=(0,r._i)()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==(0,r._i)()?e.left=e.right:1==(0,r._i)()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;(0,r.Mq)()?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t="left",n="right",i=this.elementRef.nativeElement;if("top"==e)return i.scrollTop;if("bottom"==e)return i.scrollHeight-i.clientHeight-i.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?n:t:"end"==e&&(e=s?t:n),s&&2==(0,r._i)()?e==t?i.scrollWidth-i.clientWidth-i.scrollLeft:i.scrollLeft:s&&1==(0,r._i)()?e==t?i.scrollLeft+i.scrollWidth-i.clientWidth:-i.scrollLeft:e==t?i.scrollLeft:i.scrollWidth-i.clientWidth-i.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(_),s.Y36(s.R0b),s.Y36(v.Is,8))},e.\u0275dir=s.lG2({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e})(),w=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new o.xQ,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe((0,p.e)(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.t4),s.LFG(s.R0b),s.LFG(y.K0,8))},e.\u0275prov=s.Yz7({factory:function(){return new e(s.LFG(r.t4),s.LFG(s.R0b),s.LFG(y.K0,8))},token:e,providedIn:"root"}),e})(),E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({}),e})();var C=n(2458),S=n(6461),T=n(6682),I=n(7393);function x(e){return t=>t.lift(new k(e))}class k{constructor(e){this.value=e}call(e,t){return t.subscribe(new A(e,this.value))}}class A extends I.L{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}var R=n(8002),P=n(5257),O=n(4395),N=n(7238),D=n(6237),L=n(4765);const M=["*"];function F(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){return s.CHM(e),s.oxw()._onBackdropClicked()}),s.qZA()}if(2&e){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function V(e,t){1&e&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const U=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],j=["mat-drawer","mat-drawer-content","*"];function z(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){return s.CHM(e),s.oxw()._onBackdropClicked()}),s.qZA()}if(2&e){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function B(e,t){1&e&&(s.TgZ(0,"mat-sidenav-content",3),s.Hsn(1,2),s.qZA())}const q=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],$=["mat-sidenav","mat-sidenav-content","*"],G=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",H={transformDrawer:(0,N.X$)("transform",[(0,N.SB)("open, open-instant",(0,N.oB)({transform:"none",visibility:"visible"})),(0,N.SB)("void",(0,N.oB)({"box-shadow":"none",visibility:"hidden"})),(0,N.eR)("void => open-instant",(0,N.jt)("0ms")),(0,N.eR)("void <=> open, open-instant => void",(0,N.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},W=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),K=new s.OlP("MAT_DRAWER_CONTAINER");let Z=(()=>{class e extends b{constructor(e,t,n,r,i){super(n,r,i),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>Q)),s.Y36(s.SBq),s.Y36(_),s.Y36(s.R0b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,t){2&e&&s.Udp("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[s.qOj],ngContentSelectors:M,decls:1,vars:0,template:function(e,t){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),Y=(()=>{class e{constructor(e,t,n,r,i,a,l){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=n,this._platform=r,this._ngZone=i,this._doc=a,this._container=l,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new o.xQ,this._animationEnd=new o.xQ,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe((0,f.h)(e=>e),(0,R.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,f.h)(e=>e.fromState!==e.toState&&0===e.toState.indexOf("open")),x(void 0)),this._closedStream=this.openedChange.pipe((0,f.h)(e=>!e),(0,R.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,f.h)(e=>e.fromState!==e.toState&&"void"===e.toState),x(void 0)),this._destroyed=new o.xQ,this.onPositionChanged=new s.vpe,this._modeChanged=new o.xQ,this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{(0,c.R)(this._elementRef.nativeElement,"keydown").pipe((0,f.h)(e=>e.keyCode===S.hY&&!this.disableClose&&!(0,S.Vb)(e)),(0,m.R)(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()}))}),this._animationEnd.pipe((0,d.x)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{const{fromState:t,toState:n}=e;(0===n.indexOf("open")&&"void"===t||"void"===n&&0===t.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,i.Ig)(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=(0,i.Ig)(e)}get opened(){return this._opened}set opened(e){this.toggle((0,i.Ig)(e))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(e=>{e||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const t=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,t){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),t)}_setOpen(e,t,n="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",t&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(e=>{this.openedChange.pipe((0,P.q)(1)).subscribe(t=>e(t?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(L.qV),s.Y36(L.tE),s.Y36(r.t4),s.Y36(s.R0b),s.Y36(y.K0,8),s.Y36(K,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){1&e&&s.WFA("@transform.start",function(e){return t._animationStartListener(e)})("@transform.done",function(e){return t._animationDoneListener(e)}),2&e&&(s.uIk("align",null),s.d8E("@transform",t._animationState),s.ekj("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:M,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},directives:[b],encapsulation:2,data:{animation:[H.transformDrawer]},changeDetection:0}),e})(),Q=(()=>{class e{constructor(e,t,n,r,i,a=!1,l){this._dir=e,this._element=t,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=l,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new o.xQ,this._doCheckSubject=new o.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new o.xQ,e&&e.change.pipe((0,m.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe((0,m.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,i.Ig)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,i.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,g.O)(this._allDrawers),(0,m.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,g.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,O.b)(10),(0,m.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();e+=n,t-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();t+=n,e-=n}e=e||null,t=t||null,e===this._contentMargins.left&&t===this._contentMargins.right||(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,f.h)(e=>e.fromState!==e.toState),(0,m.R)(this._drawers.changes)).subscribe(e=>{"open-instant"!==e.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,m.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe((0,m.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,P.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,m.R)((0,T.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const t=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?t.add(n):t.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(v.Is,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(w),s.Y36(W),s.Y36(D.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,n){if(1&e&&(s.Suo(n,Z,5),s.Suo(n,Y,5)),2&e){let e;s.iGM(e=s.CRH())&&(t._content=e.first),s.iGM(e=s.CRH())&&(t._allDrawers=e)}},viewQuery:function(e,t){if(1&e&&s.Gf(Z,5),2&e){let e;s.iGM(e=s.CRH())&&(t._userContent=e.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:K,useExisting:e}])],ngContentSelectors:j,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){1&e&&(s.F$t(U),s.YNc(0,F,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,V,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",t.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!t._content))},directives:[y.O5,Z],styles:[G],encapsulation:2,changeDetection:0}),e})(),X=(()=>{class e extends Z{constructor(e,t,n,r,i){super(e,t,n,r,i)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>ee)),s.Y36(s.SBq),s.Y36(_),s.Y36(s.R0b))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,t){2&e&&s.Udp("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[s.qOj],ngContentSelectors:M,decls:1,vars:0,template:function(e,t){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),J=(()=>{class e extends Y{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,i.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,i.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,i.su)(e)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(e)))(n||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,t){2&e&&(s.uIk("align",null),s.Udp("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened)("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:M,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},directives:[b],encapsulation:2,data:{animation:[H.transformDrawer]},changeDetection:0}),e})(),ee=(()=>{class e extends Q{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(e)))(n||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(e,t,n){if(1&e&&(s.Suo(n,X,5),s.Suo(n,J,5)),2&e){let e;s.iGM(e=s.CRH())&&(t._content=e.first),s.iGM(e=s.CRH())&&(t._allDrawers=e)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:K,useExisting:e}]),s.qOj],ngContentSelectors:$,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,t){1&e&&(s.F$t(q),s.YNc(0,z,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,B,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",t.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!t._content))},directives:[y.O5,X,b],styles:[G],encapsulation:2,changeDetection:0}),e})(),te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[y.ez,C.BQ,r.ud,E],E,C.BQ]}),e})()},6237:(e,t,n)=>{"use strict";n.d(t,{Qb:()=>Ot,PW:()=>Mt});var r=n(7716),i=n(9075),s=n(7238);function o(){return"undefined"!=typeof window&&void 0!==window.document}function a(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function l(e){switch(e.length){case 0:return new s.ZN;case 1:return e[0];default:return new s.ZE(e)}}function c(e,t,n,r,i={},o={}){const a=[],l=[];let c=-1,u=null;if(r.forEach(e=>{const n=e.offset,r=n==c,h=r&&u||{};Object.keys(e).forEach(n=>{let r=n,l=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),l){case s.k1:l=i[n];break;case s.l3:l=o[n];break;default:l=t.normalizeStyleValue(n,r,l,a)}h[r]=l}),r||l.push(h),u=h,c=n}),a.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${a.join(e)}`)}return l}function u(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&h(n,"start",e)));break;case"done":e.onDone(()=>r(n&&h(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&h(n,"destroy",e)))}}function h(e,t,n){const r=n.totalTime,i=d(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),s=e._data;return null!=s&&(i._data=s),i}function d(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function p(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function f(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let m=(e,t)=>!1,g=(e,t)=>!1,y=(e,t,n)=>[];const v=a();(v||"undefined"!=typeof Element)&&(m=o()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),g=(()=>{if(v||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):g}})(),y=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let _=null,b=!1;function w(e){_||(_=("undefined"!=typeof document?document.body:null)||{},b=!!_.style&&"WebkitAppearance"in _.style);let t=!0;return _.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in _.style,!t&&b)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in _.style),t}const E=g,C=m,S=y;function T(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let I=(()=>{class e{validateStyleProperty(e){return w(e)}matchesElement(e,t){return E(e,t)}containsElement(e,t){return C(e,t)}query(e,t,n){return S(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,o=[],a){return new s.ZN(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class x{}x.NOOP=new I;const k="ng-enter",A="ng-leave",R="ng-trigger",P=".ng-trigger",O="ng-animating",N=".ng-animating";function D(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:L(parseFloat(t[1]),t[2])}function L(e,t){switch(t){case"s":return 1e3*e;default:return e}}function M(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=L(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=L(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=e;if(!n){let n=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:s}}(e,t,n)}function F(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function V(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else F(e,n);return n}function U(e,t,n){return n?t+":"+n+";":""}function j(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=U(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=U(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function z(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=Z(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),a()&&j(e))}function B(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Z(t);e.style[n]=""}),a()&&j(e))}function q(e){return Array.isArray(e)?1==e.length?e[0]:(0,s.vP)(e):e}const $=new RegExp("{{\\s*(.+?)\\s*}}","g");function G(e){let t=[];if("string"==typeof e){let n;for(;n=$.exec(e);)t.push(n[1]);$.lastIndex=0}return t}function H(e,t,n){const r=e.toString(),i=r.replace($,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function W(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const K=/-+([a-z0-9])/g;function Z(e){return e.replace(K,(...e)=>e[1].toUpperCase())}function Y(e,t){return 0===e||0===t}function Q(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach(function(t){n[t]=J(e,t)})}}return t}function X(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function J(e,t){return window.getComputedStyle(e)[t]}const ee="*";function te(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(ie(i,o)),"<"!=s[0]||i==ee&&o==ee||t.push(ie(o,i))}(e,n,t)):n.push(e),n}const ne=new Set(["true","1"]),re=new Set(["false","0"]);function ie(e,t){const n=ne.has(e)||re.has(e),r=ne.has(t)||re.has(t);return(i,s)=>{let o=e==ee||e==i,a=t==ee||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?ne.has(e):re.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?ne.has(t):re.has(t)),o&&a}}const se=new RegExp("s*:selfs*,?","g");function oe(e,t,n){return new ae(e).build(t,n)}class ae{constructor(e){this._driver=e}build(e,t){const n=new le(t);return this._resetContextStyleTimingState(n),X(this,q(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(ce(e)){const t=e;Object.keys(t).forEach(e=>{G(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=W(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=X(this,q(e.animation),t);return{type:1,matchers:te(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:ue(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>X(this,e,t)),options:ue(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=X(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:ue(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return he(M(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=he(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||M(r,t),he(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:(0,s.oB)({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,o=!1;if(!i){o=!0;const e={};n.easing&&(e.easing=n.easing),i=(0,s.oB)(e)}t.currentTime+=n.duration+n.delay;const a=this.visitStyle(i,t);a.isEmptyStep=o,r=a}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==s.l3?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(ce(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=G(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(ce(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(ce(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:X(this,q(e.animation),t),options:ue(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ue(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ue(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(se,"")),[e=e.replace(/@\*/g,P).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,N),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,p(t.collectedStyles,t.currentQuerySelector,{});const o=X(this,q(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:ue(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:M(e.timings,t.errors,!0);return{type:12,animation:X(this,q(e.animation),t),timings:n,options:null}}}class le{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ce(e){return!Array.isArray(e)&&"object"==typeof e}function ue(e){var t;return e?(e=F(e)).params&&(e.params=(t=e.params)?F(t):null):e={},e}function he(e,t,n){return{duration:e,delay:t,easing:n}}function de(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class pe{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fe=new RegExp(":enter","g"),me=new RegExp(":leave","g");function ge(e,t,n,r,i,s={},o={},a,l,c=[]){return(new ye).buildKeyframes(e,t,n,r,i,s,o,a,l,c)}class ye{buildKeyframes(e,t,n,r,i,s,o,a,l,c=[]){l=l||new pe;const u=new _e(e,t,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),X(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[de(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?D(n.duration):null,s=null!=n.delay?D(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),X(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ve);const e=D(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>X(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?D(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),X(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return M(t.params?H(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?D(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ve);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),X(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;X(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const ve={};class _e{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ve,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new be(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=D(n.duration)),null!=n.delay&&(r.delay=D(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=H(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new _e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=ve,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new we(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(fe,"."+this._enterClassName)).replace(me,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return i||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class be{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new be(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||s.l3,this._currentKeyframe[e]=s.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},o=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=s.l3})):V(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=H(o[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:s.l3),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const a=V(i,!0);Object.keys(a).forEach(n=>{const r=a[n];r==s.k1?e.add(n):r==s.l3&&t.add(n)}),n||(a.offset=o/this.duration),r.push(a)});const i=e.size?W(e.values()):[],o=t.size?W(t.values()):[];if(n){const e=r[0],t=F(e);e.offset=0,t.offset=1,r=[e,t]}return de(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class we extends be{constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=V(e[0],!1);a.offset=0,i.push(a);const l=V(e[0],!1);l.offset=Ee(o),i.push(l);const c=e.length-1;for(let r=1;r<=c;r++){let o=V(e[r],!1);o.offset=Ee((t+o.offset*n)/s),i.push(o)}n=s,t=0,r="",e=i}return de(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function Ee(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Ce{}class Se extends Ce{normalizePropertyName(e,t){return Z(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(Te[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const Te=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ie(e,t,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const xe={};class ke{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||xe,d=this.buildStyles(n,o&&o.params||xe,u),f=a&&a.params||xe,m=this.buildStyles(r,f,u),g=new Set,y=new Map,v=new Map,_="void"===r,b={params:Object.assign(Object.assign({},h),f)},w=c?[]:ge(e,t,this.ast.animation,i,s,d,m,b,l,u);let E=0;if(w.forEach(e=>{E=Math.max(e.duration+e.delay,E)}),u.length)return Ie(t,this._triggerName,n,r,_,d,m,[],[],y,v,E,u);w.forEach(e=>{const n=e.element,r=p(y,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=p(v,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&g.add(n)});const C=W(g.values());return Ie(t,this._triggerName,n,r,_,d,m,w,C,y,v,E)}}class Ae{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=F(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=H(s,r,t));const o=this.normalizer.normalizePropertyName(e,t);s=this.normalizer.normalizeStyleValue(e,o,s,t),n[o]=s})}}),n}}class Re{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Ae(e.style,e.options&&e.options.params||{},n)}),Pe(this.states,"true","1"),Pe(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new ke(e,t,this.states))}),this.fallbackTransition=new ke(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Pe(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const Oe=new pe;class Ne{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=oe(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=c(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let o;const a=new Map;if(i?(o=ge(this._driver,t,i,k,A,{},{},n,Oe,r),o.forEach(e=>{const t=p(a,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,s.l3)})});const c=l(o.map(e=>{const t=a.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=d(t,"","","");return u(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const De="ng-animate-queued",Le="ng-animate-disabled",Me=".ng-animate-disabled",Fe=[],Ve={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class je{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=F(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const ze="void",Be=new je(ze);class qe{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ye(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const s=p(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=p(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Ye(e,R),Ye(e,"ng-trigger-"+t),a[t]=Be),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new Ge(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(Ye(e,R),Ye(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new je(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=Be),l.value!==ze&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{B(e,n),z(e,r)})}return}const c=p(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(Ye(e,De),s.onStart(()=>{Qe(e,De)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),c.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,P,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,ze,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&l(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(t=>{const i=t.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||Be,a=new je(ze),l=new Ge(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==Ve||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Ye(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=d(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,u(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class $e{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new qe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(He(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!He(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ye(e,Le)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qe(e,Le))}removeNode(e,t,n,r){if(He(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return He(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,P,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,N,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return l(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=Ve,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Me)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Me,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ye(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?l(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new pe,r=[],i=new Map,o=[],a=new Map,c=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(e=>{h.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)h.add(t[n])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=Ze(f,this.collectedEnterElements),g=new Map;let y=0;m.forEach((e,t)=>{const n=k+y++;g.set(t,n),e.forEach(e=>Ye(e,n))});const v=[],_=new Set,b=new Set;for(let s=0;s<this.collectedLeaveElements.length;s++){const e=this.collectedLeaveElements[s],t=e.__ng_removed;t&&t.setForRemoval&&(v.push(e),_.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>_.add(e)):b.add(e))}const w=new Map,E=Ze(f,Array.from(_));E.forEach((e,t)=>{const n=A+y++;w.set(t,n),e.forEach(e=>Ye(e,n))}),e.push(()=>{m.forEach((e,t)=>{const n=g.get(t);e.forEach(e=>Qe(e,n))}),E.forEach((e,t)=>{const n=w.get(t);e.forEach(e=>Qe(e,n))}),v.forEach(e=>{this.processLeaveNode(e)})});const C=[],S=[];for(let s=this._namespaceList.length-1;s>=0;s--)this._namespaceList[s].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(C.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const s=!d||!this.driver.containsElement(d,i),l=w.get(i),h=g.get(i),f=this._buildInstruction(e,n,h,l,s);if(f.errors&&f.errors.length)S.push(f);else{if(s)return t.onStart(()=>B(i,f.fromStyles)),t.onDestroy(()=>z(i,f.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>B(i,f.fromStyles)),t.onDestroy(()=>z(i,f.toStyles)),void r.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,f.timelines),o.push({instruction:f,player:t,element:i}),f.queriedElements.forEach(e=>p(a,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=c.get(t);e||c.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=u.get(t);r||u.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(S.length){const e=[];S.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),C.forEach(e=>e.destroy()),this.reportError(e)}const T=new Map,I=new Map;o.forEach(e=>{const t=e.element;n.has(t)&&(I.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{p(T,t,[]).push(e),e.destroy()})});const x=v.filter(e=>et(e,c,u)),R=new Map;Ke(R,this.driver,b,u,s.l3).forEach(e=>{et(e,c,u)&&x.push(e)});const P=new Map;m.forEach((e,t)=>{Ke(P,this.driver,new Set(e),c,s.k1)}),x.forEach(e=>{const t=R.get(e),n=P.get(e);R.set(e,Object.assign(Object.assign({},t),n))});const O=[],D=[],L={};o.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(h.has(t))return s.onDestroy(()=>z(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=L;if(I.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=I.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>I.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,T,i,P,R);if(s.setRealPlayer(n),e===L)O.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=l(t)),r.push(s)}}else B(t,o.fromStyles),s.onDestroy(()=>z(t,o.toStyles)),D.push(s),h.has(t)&&r.push(s)}),D.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=l(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let s=0;s<v.length;s++){const e=v[s],t=e.__ng_removed;if(Qe(e,A),t&&t.hasAnimation)continue;let n=[];if(a.size){let t=a.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,N,!0);for(let e=0;e<r.length;e++){let t=a.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?Xe(this,e,r):this.processLeaveNode(e)}return v.length=0,O.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),O}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==ze;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&s.push(t)})}}return(n||r)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==r,l=p(n,e,[]);this._getPreviousPlayers(e,a,i,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}B(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,o){const a=t.triggerName,u=t.element,h=[],d=new Set,f=new Set,m=t.timelines.map(t=>{const l=t.element;d.add(l);const p=l.__ng_removed;if(p&&p.removedBeforeQueried)return new s.ZN(t.duration,t.delay);const m=l!==u,g=function(e){const t=[];return Je(e,t),t}((n.get(l)||Fe).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===l),y=i.get(l),v=o.get(l),_=c(0,this._normalizer,0,t.keyframes,y,v),b=this._buildPlayer(t,_,g);if(t.subTimeline&&r&&f.add(l),m){const t=new Ge(e,a,l);t.setRealPlayer(b),h.push(t)}return b});h.forEach(e=>{p(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),d.forEach(e=>Ye(e,O));const g=l(m);return g.onDestroy(()=>{d.forEach(e=>Qe(e,O)),z(u,t.toStyles)}),f.forEach(e=>{p(r,e,[]).push(g)}),g}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new s.ZN(e.duration,e.delay)}}class Ge{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new s.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>u(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){p(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function He(e){return e&&1===e.nodeType}function We(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Ke(e,t,n,r,i){const s=[];n.forEach(e=>s.push(We(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Ue,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>We(e,s[a++])),o}function Ze(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function s(e){if(!e)return 1;let t=i.get(e);if(t)return t;const o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:s(o),i.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&n.get(t).push(e)}),n}function Ye(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Qe(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Xe(e,t,n){l(n).onDone(()=>e.processLeaveNode(t))}function Je(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof s.ZE?Je(r.players,t):t.push(r)}}function et(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class tt{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new $e(e,t,n),this._timelineEngine=new Ne(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=oe(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t,n){return new Re(e,t,n)}(r,t,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=f(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=f(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function nt(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=it(t[0]),t.length>1&&(r=it(t[t.length-1]))):t&&(n=it(t)),n||r?new rt(e,n,r):null}class rt{constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let r=rt.initialStylesByElement.get(e);r||rt.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&z(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(z(this._element,this._initialStyles),this._endStyles&&(z(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(rt.initialStylesByElement.delete(this._element),this._startStyles&&(B(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(B(this._element,this._endStyles),this._endStyles=null),z(this._element,this._initialStyles),this._state=3)}}function it(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];st(i)&&(t=t||{},t[i]=e[i])}return t}function st(e){return"display"===e||"position"===e}rt.initialStylesByElement=new WeakMap;const ot="animation",at="animationend";class lt{constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=ft(e,"").trim();n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t=`${n}, ${t}`),pt(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),dt(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ct(this._element,this._name,"paused")}resume(){ct(this._element,this._name,"running")}setPosition(e){const t=ut(this._element,this._name);this._position=e*this._duration,pt(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),dt(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=ft(e,"").split(","),r=ht(n,t);r>=0&&(n.splice(r,1),pt(e,"",n.join(",")))}(this._element,this._name))}}function ct(e,t,n){pt(e,"PlayState",n,ut(e,t))}function ut(e,t){const n=ft(e,"");return n.indexOf(",")>0?ht(n.split(","),t):ht([n],t)}function ht(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function dt(e,t,n){n?e.removeEventListener(at,t):e.addEventListener(at,t)}function pt(e,t,n,r){const i=ot+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function ft(e,t){return e.style[ot+t]||""}class mt{constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new lt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:J(this.element,n))})}this.currentSnapshot=e}}class gt extends s.ZN{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=T(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class yt{constructor(){this._count=0}validateStyleProperty(e){return w(e)}matchesElement(e,t){return E(e,t)}containsElement(e,t){return C(e,t)}query(e,t,n){return S(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>T(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(e,t,n,r,i,s=[],o){const a=s.filter(e=>e instanceof mt),l={};Y(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=Q(e,t,l));if(0==n)return new gt(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(h);const d=nt(e,t),p=new mt(e,t,u,n,r,i,c,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}}class vt{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:J(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class _t{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(bt().toString()),this._cssKeyframesDriver=new yt}validateStyleProperty(e){return w(e)}matchesElement(e,t){return E(e,t)}containsElement(e,t){return C(e,t)}query(e,t,n){return S(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(e=>e instanceof vt);Y(n,r)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=nt(e,t=Q(e,t=t.map(e=>V(e,!1)),l));return new vt(e,t,a,u)}}function bt(){return o()&&Element.prototype.animate||{}}var wt=n(8583);let Et=(()=>{class e extends s._j{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?(0,s.vP)(e):e;return Tt(this._renderer,null,t,"register",[n]),new Ct(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(wt.K0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Ct extends s.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new St(this._id,e,t||{},this._renderer)}}class St{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Tt(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Tt(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const It="@",xt="@.disabled";let kt=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new At("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new Rt(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(tt),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class At{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==It&&t==xt?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Rt extends At{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==It?"."==t.charAt(1)&&t==xt?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==It){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return i.charAt(0)!=It&&([i,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let Pt=(()=>{class e extends tt{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(wt.K0),r.LFG(x),r.LFG(Ce))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Ot=new r.OlP("AnimationModuleType"),Nt=[{provide:s._j,useClass:Et},{provide:Ce,useFactory:function(){return new Se}},{provide:tt,useClass:Pt},{provide:r.FYo,useFactory:function(e,t,n){return new kt(e,t,n)},deps:[i.se,tt,r.R0b]}],Dt=[{provide:x,useFactory:function(){return"function"==typeof bt()?new _t:new yt}},{provide:Ot,useValue:"BrowserAnimations"},...Nt],Lt=[{provide:x,useClass:I},{provide:Ot,useValue:"NoopAnimations"},...Nt];let Mt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?Lt:Dt}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Dt,imports:[i.b2]}),e})()},9075:(e,t,n)=>{"use strict";n.d(t,{b2:()=>V,H7:()=>N,q6:()=>M,se:()=>C});var r=n(8583),i=n(7716);class s extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends s{static makeCurrent(){(0,r.HT)(new o)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(l=l||document.querySelector("base"),l?l.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){l=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r.Mx)(document.cookie,e)}}let a,l=null;const c=new i.OlP("TRANSITION_ID"),u=[{provide:i.ip1,useFactory:function(e,t,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[c,r.K0,i.zs3],multi:!0}];class h{static init(){(0,i.VLi)(new h)}addToWindow(e){i.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(e=>{const t=i.dqk.getAllAngularTestabilities();let n=t.length,r=!1;const s=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?(0,r.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const p=new i.OlP("EventManagerPlugins");let f=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(p),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class m{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=(0,r.q)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let g=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends g{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e){(0,r.q)().remove(e)}const _={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function w(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?w(e,i,n):(i=i.replace(b,e),n.push(i))}return n}function E(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let C=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new S(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new T(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case i.ifc.ShadowDom:return new I(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=w(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(f),i.LFG(y),i.LFG(i.AFp))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class S{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=_[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=_[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,n,r&i.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,E(n)):this.eventManager.addEventListener(e,t,E(n))}}class T extends S{constructor(e,t,n,r){super(e),this.component=n;const i=w(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class I extends S{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=w(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let x=(()=>{class e extends m{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const k=["alt","control","meta","shift"],A={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},P={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let O=(()=>{class e extends m{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(k.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&R.hasOwnProperty(t)&&(t=R[t]))}return A[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),k.forEach(r=>{r!=n&&(0,P[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(L)},token:e,providedIn:"root"}),e})();function D(e){return new L(e.get(r.K0))}let L=(()=>{class e extends N{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case i.q3G.NONE:return t;case i.q3G.HTML:return(0,i.qzn)(t,"HTML")?(0,i.z3N)(t):(0,i.EiD)(this._doc,String(t)).toString();case i.q3G.STYLE:return(0,i.qzn)(t,"Style")?(0,i.z3N)(t):t;case i.q3G.SCRIPT:if((0,i.qzn)(t,"Script"))return(0,i.z3N)(t);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(t),(0,i.qzn)(t,"URL")?(0,i.z3N)(t):(0,i.mCW)(String(t));case i.q3G.RESOURCE_URL:if((0,i.qzn)(t,"ResourceURL"))return(0,i.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,i.JVY)(e)}bypassSecurityTrustStyle(e){return(0,i.L6k)(e)}bypassSecurityTrustScript(e){return(0,i.eBb)(e)}bypassSecurityTrustUrl(e){return(0,i.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,i.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=(0,i.Yz7)({factory:function(){return D((0,i.LFG)(i.gxx))},token:e,providedIn:"root"}),e})();const M=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:r.bD},{provide:i.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),F=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:p,useClass:x,multi:!0,deps:[r.K0,i.R0b,i.Lbi]},{provide:p,useClass:O,multi:!0,deps:[r.K0]},[],{provide:C,useClass:C,deps:[f,y,i.AFp]},{provide:i.FYo,useExisting:C},{provide:g,useExisting:y},{provide:y,useClass:y,deps:[r.K0]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:f,useClass:f,deps:[p,i.R0b]},{provide:r.JF,useClass:d,deps:[]},[]];let V=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:i.AFp,useValue:t.appId},{provide:c,useExisting:i.AFp},u]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(e,12))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:F,imports:[r.ez,i.hGG]}),e})();"undefined"!=typeof window&&window},7389:(e,t,n)=>{"use strict";n.d(t,{F0:()=>wn,rH:()=>En,Bz:()=>Dn,lC:()=>Sn});var r=n(8583),i=n(7716),s=n(4869),o=n(9796),a=n(5197),l=n(509),c=n(6693);const u={};class h{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new d(e,this.resultSelector))}}class d extends a.L{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(u),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add((0,l.D)(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===u?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var p=n(4402),f=n(5917),m=n(6215),g=n(7574),y=n(3410),v=n(8071),_=n(1439),b=n(9193),w=n(2441),E=n(9765),C=n(5435),S=n(7393),T=n(7108);function I(e){return function(t){return 0===e?(0,b.c)():t.lift(new x(e))}}class x{constructor(e){if(this.total=e,this.total<0)throw new T.W}call(e,t){return t.subscribe(new k(e,this.total))}}class k extends S.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}var A=n(4635),R=n(5242),P=n(4487),O=n(8002),N=n(3190),D=n(5257),L=n(9761),M=n(2145),F=n(5304),V=n(4612),U=n(8049),j=n(9773),z=n(8307),B=n(1307),q=n(8939),$=n(3282);class G{constructor(e,t){this.id=e,this.url=t}}class H extends G{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class W extends G{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class K extends G{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z extends G{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Y extends G{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q extends G{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X extends G{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J extends G{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ee extends G{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class te{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ne{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class re{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ie{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class se{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oe{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ae{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const le="primary";class ce{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ue(e){return new ce(e)}function he(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function de(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function pe(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!fe(e[i],t[i]))return!1;return!0}function fe(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function me(e){return Array.prototype.concat.apply([],e)}function ge(e){return e.length>0?e[e.length-1]:null}function ye(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ve(e){return(0,i.CqO)(e)?e:(0,i.QGY)(e)?(0,p.D)(Promise.resolve(e)):(0,f.of)(e)}const _e={exact:function e(t,n,r){if(!ke(t.segments,n.segments))return!1;if(!Se(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Ee},be={exact:function(e,t){return pe(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>fe(e[n],t[n]))},ignored:()=>!0};function we(e,t,n){return _e[n.paths](e.root,t.root,n.matrixParams)&&be[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Ee(e,t,n){return Ce(e,t,t.segments,n)}function Ce(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!ke(i,n)&&!t.hasChildren()&&!!Se(i,n,r)}if(e.segments.length===n.length){if(!ke(e.segments,n))return!1;if(!Se(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Ee(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!ke(e.segments,i)&&!!Se(e.segments,i,r)&&!!e.children.primary&&Ce(e.children.primary,t,s,r)}}function Se(e,t,n){return t.every((t,r)=>be[n](e[r].parameters,t.parameters))}class Te{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ue(this.queryParams)),this._queryParamMap}toString(){return Pe.serialize(this)}}class Ie{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ye(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oe(this)}}class xe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ue(this.parameters)),this._parameterMap}toString(){return Ue(this)}}function ke(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Ae{}class Re{parse(e){const t=new $e(e);return new Te(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Ne(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Le(t)}=${Le(e)}`).join("&"):`${Le(t)}=${Le(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Pe=new Re;function Oe(e){return e.segments.map(e=>Ue(e)).join("/")}function Ne(e,t){if(!e.hasChildren())return Oe(e);if(t){const t=e.children.primary?Ne(e.children.primary,!1):"",n=[];return ye(e.children,(e,t)=>{t!==le&&n.push(`${t}:${Ne(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return ye(e.children,(e,r)=>{r===le&&(n=n.concat(t(e,r)))}),ye(e.children,(e,r)=>{r!==le&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===le?[Ne(e.children.primary,!1)]:[`${n}:${Ne(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Oe(e)}/${t[0]}`:`${Oe(e)}/(${t.join("//")})`}}function De(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Le(e){return De(e).replace(/%3B/gi,";")}function Me(e){return De(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fe(e){return decodeURIComponent(e)}function Ve(e){return Fe(e.replace(/\+/g,"%20"))}function Ue(e){return`${Me(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Me(e)}=${Me(t[e])}`).join("")}`;var t}const je=/^[^\/()?;=#]+/;function ze(e){const t=e.match(je);return t?t[0]:""}const Be=/^[^=?&#]+/,qe=/^[^?&#]+/;class $e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Ie(e,t)),n}parseSegment(){const e=ze(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new xe(Fe(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ze(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=ze(this.remaining);e&&(n=e,this.capture(n))}e[Fe(t)]=Fe(n)}parseQueryParam(e){const t=function(e){const t=e.match(Be);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(qe);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=Ve(t),i=Ve(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ze(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=le);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new Ie([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ge{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=He(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=He(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=We(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return We(e,this._root).map(e=>e.value)}}function He(e,t){if(e===t.value)return t;for(const n of t.children){const t=He(e,n);if(t)return t}return null}function We(e,t){if(e===t.value)return[t];for(const n of t.children){const r=We(e,n);if(r.length)return r.unshift(t),r}return[]}class Ke{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ze(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Ye extends Ge{constructor(e,t){super(e),this.snapshot=t,nt(this,e)}toString(){return this.snapshot.toString()}}function Qe(e,t){const n=function(e,t){const n=new et([],{},{},"",{},le,t,null,e.root,-1,{});return new tt("",new Ke(n,[]))}(e,t),r=new m.X([new xe("",{})]),i=new m.X({}),s=new m.X({}),o=new m.X({}),a=new m.X(""),l=new Xe(r,i,o,a,s,le,t,n.root);return l.snapshot=n.root,new Ye(new Ke(l,[]),n)}class Xe{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,O.U)(e=>ue(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,O.U)(e=>ue(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Je(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class et{constructor(e,t,n,r,i,s,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ue(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ue(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tt extends Ge{constructor(e,t){super(t),this.url=e,nt(this,t)}toString(){return rt(this._root)}}function nt(e,t){t.value._routerState=e,t.children.forEach(t=>nt(e,t))}function rt(e){const t=e.children.length>0?` { ${e.children.map(rt).join(", ")} } `:"";return`${e.value}${t}`}function it(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,pe(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),pe(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!pe(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),pe(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function st(e,t){var n,r;return pe(e.params,t.params)&&ke(n=e.url,r=t.url)&&n.every((e,t)=>pe(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||st(e.parent,t.parent))}function ot(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return ot(e,t,r);return ot(e,t)})}(e,t,n);return new Ke(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return at(t,e),e}}const n=new Xe(new m.X((r=t.value).url),new m.X(r.params),new m.X(r.queryParams),new m.X(r.fragment),new m.X(r.data),r.outlet,r.component,r),i=t.children.map(t=>ot(e,t));return new Ke(n,i)}var r}function at(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)at(e.children[n],t.children[n])}function lt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ct(e){return"object"==typeof e&&null!=e&&e.outlets}function ut(e,t,n,r,i){let s={};return r&&ye(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Te(n.root===e?t:ht(n.root,e,t),s,i)}function ht(e,t,n){const r={};return ye(e.children,(e,i)=>{r[i]=e===t?n:ht(e,t,n)}),new Ie(e.segments,r)}class dt{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&lt(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ct);if(r&&r!==ge(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function ft(e,t,n){if(e||(e=new Ie([],{})),0===e.segments.length&&e.hasChildren())return mt(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(ct(o))break;const a=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!_t(a,l,t))return s;r+=2}else{if(!_t(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Ie(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Ie(e.segments.slice(r.pathIndex),e.children),mt(t,0,i)}return r.match&&0===i.length?new Ie(e.segments,{}):r.match&&!e.hasChildren()?gt(e,t,n):r.match?mt(e,0,i):gt(e,t,n)}function mt(e,t,n){if(0===n.length)return new Ie(e.segments,{});{const r=function(e){return ct(e[0])?e[0].outlets:{[le]:e}}(n),i={};return ye(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ft(e.children[r],t,n))}),ye(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Ie(e.segments,i)}}function gt(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(ct(s)){const e=yt(s.outlets);return new Ie(r,e)}if(0===i&&lt(n[0])){r.push(new xe(e.segments[t].path,vt(n[0]))),i++;continue}const o=ct(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&lt(a)?(r.push(new xe(o,vt(a))),i+=2):(r.push(new xe(o,{})),i++)}return new Ie(r,{})}function yt(e){const t={};return ye(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=gt(new Ie([],{}),0,e))}),t}function vt(e){const t={};return ye(e,(e,n)=>t[n]=`${e}`),t}function _t(e,t,n){return e==n.path&&pe(t,n.parameters)}class bt{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),it(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Ze(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),ye(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Ze(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Ze(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new oe(e.value.snapshot))}),e.children.length&&this.forwardEvent(new ie(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(it(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),wt(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function wt(e){it(e.value),e.children.forEach(wt)}class Et{constructor(e,t){this.routes=e,this.module=t}}function Ct(e){return"function"==typeof e}function St(e){return e instanceof Te}const Tt=Symbol("INITIAL_VALUE");function It(){return(0,N.w)(e=>function(...e){let t,n;return(0,s.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,o.k)(e[0])&&(e=e[0]),(0,c.n)(e,n).lift(new h(t))}(e.map(e=>e.pipe((0,D.q)(1),(0,L.O)(Tt)))).pipe((0,M.R)((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==Tt)return e;if(r===Tt&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||St(r))return r}return e},e)},Tt),(0,C.h)(e=>e!==Tt),(0,O.U)(e=>St(e)?e:!0===e),(0,D.q)(1)))}let xt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:function(){return[Sn]},encapsulation:2}),e})();function kt(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];At(r,Rt(t,r))}}function At(e,t){e.children&&kt(e.children,t)}function Rt(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Pt(e){const t=e.children&&e.children.map(Pt),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==le&&(n.component=xt),n}function Ot(e){return e.outlet||le}function Nt(e,t){const n=e.filter(e=>Ot(e)===t);return n.push(...e.filter(e=>Ot(e)!==t)),n}const Dt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Lt(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Dt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||de)(n,e,t);if(!i)return Object.assign({},Dt);const s={};ye(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Mt(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>Ft(e,t,n)&&Ot(n)!==le)}(e,n,r)){const i=new Ie(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Ot(s)!==le){const n=new Ie([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Ot(s)]=n}return i}(e,t,r,new Ie(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Ft(e,t,n))}(e,n,r)){const s=new Ie(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(Ft(e,n,a)&&!i[Ot(a)]){const n=new Ie([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Ot(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Ie(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Ft(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Vt(e,t,n,r){return!!(Ot(e)===r||r!==le&&Ft(t,n,e))&&("**"===e.path||Lt(t,e,n).matched)}function Ut(e,t,n){return 0===t.length&&!e.children[n]}class jt{constructor(e){this.segmentGroup=e||null}}class zt{constructor(e){this.urlTree=e}}function Bt(e){return new g.y(t=>t.error(new jt(e)))}function qt(e){return new g.y(t=>t.error(new zt(e)))}function $t(e){return new g.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Gt{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(i.h0i)}apply(){const e=Mt(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ie(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,le).pipe((0,O.U)(e=>this.createUrlTree(Ht(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,F.K)(e=>{if(e instanceof zt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof jt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,le).pipe((0,O.U)(t=>this.createUrlTree(Ht(t),e.queryParams,e.fragment))).pipe((0,F.K)(e=>{if(e instanceof jt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Ie([],{[le]:e}):e;return new Te(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,O.U)(e=>new Ie([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,p.D)(r).pipe((0,V.b)(r=>{const i=n.children[r],s=Nt(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,O.U)(e=>({segment:e,outlet:r})))}),(0,M.R)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?(0,C.h)((t,n)=>e(t,n,r)):P.y,I(1),n?(0,R.d)(t):(0,A.T)(()=>new y.K))}())}expandSegment(e,t,n,r,i,s){return(0,p.D)(n).pipe((0,V.b)(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe((0,F.K)(e=>{if(e instanceof jt)return(0,f.of)(null);throw e}))),(0,U.P)(e=>!!e),(0,F.K)((e,n)=>{if(e instanceof y.K||"EmptyError"===e.name){if(Ut(t,r,i))return(0,f.of)(new Ie([],{}));throw new jt(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return Vt(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):Bt(t):Bt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qt(i):this.lineralizeSegments(n,i).pipe((0,j.zg)(n=>{const i=new Ie(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Lt(t,r,i);if(!o)return Bt(t);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?qt(u):this.lineralizeSegments(r,u).pipe((0,j.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,f.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,O.U)(e=>(n._loadedConfig=e,new Ie(r,{})))):(0,f.of)(new Ie(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Lt(t,n,r);if(!s)return Bt(t);const l=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,j.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=Mt(t,o,l,s),u=new Ie(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe((0,O.U)(e=>new Ie(o,e)));if(0===s.length&&0===c.length)return(0,f.of)(new Ie(o,{}));const h=Ot(n)===i;return this.expandSegment(r,u,s,c,h?le:i,!0).pipe((0,O.U)(e=>new Ie(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,f.of)(new Et(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,f.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,j.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,O.U)(e=>(t._loadedConfig=e,e))):function(e){return new g.y(t=>t.error(he(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,f.of)(new Et([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,f.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&Ct(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Ct(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return ve(s)});return(0,f.of)(i).pipe(It(),(0,z.b)(e=>{if(!St(e))return;const t=he(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,O.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,f.of)(n);if(r.numberOfChildren>1||!r.children.primary)return $t(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Te(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return ye(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return ye(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new Ie(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Ht(e){const t={};for(const n of Object.keys(e.children)){const r=Ht(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Ie(e.segments.concat(t.segments),t.children)}return e}(new Ie(e.segments,t))}class Wt{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Kt{constructor(e,t){this.component=e,this.route=t}}function Zt(e,t,n){const r=e._root;return Qt(r,t?t._root:null,n,[r.value])}function Yt(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Qt(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ze(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ke(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ke(e.url,t.url)||!pe(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!st(e,t)||!pe(e.queryParams,t.queryParams);case"paramsChange":default:return!st(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Wt(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Qt(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Kt(a.outlet.component,o))}else o&&Xt(t,a,i),i.canActivateChecks.push(new Wt(r)),Qt(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),ye(s,(e,t)=>Xt(e,n.getContext(t),i)),i}function Xt(e,t,n){const r=Ze(e),i=e.value;ye(r,(e,r)=>{Xt(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Kt(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Jt{}function en(e){return new g.y(t=>t.error(e))}class tn{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=Mt(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,le);if(null===t)return null;const n=new et([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},le,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ke(n,t),i=new tt(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=Je(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=Nt(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=rn(n);return r.sort((e,t)=>e.value.outlet===le?-1:t.value.outlet===le?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return Ut(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!Vt(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?ge(n).parameters:{};i=new et(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,an(e),Ot(e),e.component,e,sn(t),on(t)+n.length,ln(e))}else{const r=Lt(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new et(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,an(e),Ot(e),e.component,e,sn(t),on(t)+s.length,ln(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Mt(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new Ke(i,e)]}if(0===a.length&&0===c.length)return[new Ke(i,[])];const u=Ot(e)===r,h=this.processSegment(a,l,c,u?le:r);return null===h?null:[new Ke(i,h)]}}function nn(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function rn(e){const t=[],n=new Set;for(const r of e){if(!nn(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=rn(r.children);t.push(new Ke(r.value,e))}return t.filter(e=>!n.has(e))}function sn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function on(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function an(e){return e.data||{}}function ln(e){return e.resolve||{}}function cn(e){return(0,N.w)(t=>{const n=e(t);return n?(0,p.D)(n).pipe((0,O.U)(()=>t)):(0,f.of)(t)})}class un extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const hn=new i.OlP("ROUTES");class dn{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,O.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Et(me(r.injector.get(hn,void 0,i.XFs.Self|i.XFs.Optional)).map(Pt),r)}),(0,F.K)(e=>{throw t._loader$=void 0,e}));return t._loader$=new w.c(n,()=>new E.xQ).pipe((0,B.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,p.D)(this.loader.load(e)):ve(e()).pipe((0,j.zg)(e=>e instanceof i.YKP?(0,f.of)(e):(0,p.D)(this.compiler.compileModuleAsync(e))))}}class pn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fn,this.attachRef=null}}class fn{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new pn,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class mn{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function gn(e){throw e}function yn(e,t,n){return t.parse("/")}function vn(e,t){return(0,f.of)(null)}const _n={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wn=(()=>{class e{constructor(e,t,n,r,s,o,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new E.xQ,this.errorHandler=gn,this.malformedUriErrorHandler=yn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vn,afterPreactivation:vn},this.urlHandlingStrategy=new mn,this.routeReuseStrategy=new un,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(i.h0i),this.console=s.get(i.c2e);const c=s.get(i.R0b);this.isNgZoneEnabled=c instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Te(new Ie([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new dn(o,a,e=>this.triggerEvent(new te(e)),e=>this.triggerEvent(new ne(e))),this.routerState=Qe(this.currentUrlTree,this.rootComponentType),this.transitions=new m.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe((0,C.h)(e=>0!==e.id),(0,O.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,N.w)(e=>{let n=!1,r=!1;return(0,f.of)(e).pipe((0,z.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,N.w)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,f.of)(e).pipe((0,N.w)(e=>{const n=this.transitions.getValue();return t.next(new H(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?b.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,(0,N.w)(e=>function(e,t,n,r,i){return new Gt(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,O.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,z.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,j.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new tn(e,t,n,r,i,s).recognize();return null===o?en(new Jt):(0,f.of)(o)}catch(o){return en(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,O.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,z.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new Y(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new H(n,this.serializeUrl(r),i,s);t.next(a);const l=Qe(r,this.rootComponentType).snapshot;return(0,f.of)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),b.E}),cn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,z.b)(e=>{const t=new Q(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,O.U)(e=>Object.assign(Object.assign({},e),{guards:Zt(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,j.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,f.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,p.D)(e).pipe((0,j.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,f.of)(!0);const o=s.map(s=>{const o=Yt(s,t,i);let a;if(function(e){return e&&Ct(e.canDeactivate)}(o))a=ve(o.canDeactivate(e,t,n,r));else{if(!Ct(o))throw new Error("Invalid CanDeactivate guard");a=ve(o(e,t,n,r))}return a.pipe((0,U.P)())});return(0,f.of)(o).pipe(It())}(e.component,e.route,n,t,r)),(0,U.P)(e=>!0!==e,!0))}(o,r,i,e).pipe((0,j.zg)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return(0,p.D)(t).pipe((0,V.b)(t=>(0,v.z)(function(e,t){return null!==e&&t&&t(new re(e)),(0,f.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new se(e)),(0,f.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>(0,_.P)(()=>{const i=t.guards.map(i=>{const s=Yt(i,t.node,n);let o;if(function(e){return e&&Ct(e.canActivateChild)}(s))o=ve(s.canActivateChild(r,e));else{if(!Ct(s))throw new Error("Invalid CanActivateChild guard");o=ve(s(r,e))}return o.pipe((0,U.P)())});return(0,f.of)(i).pipe(It())}));return(0,f.of)(i).pipe(It())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,f.of)(!0);const i=r.map(r=>(0,_.P)(()=>{const i=Yt(r,t,n);let s;if(function(e){return e&&Ct(e.canActivate)}(i))s=ve(i.canActivate(t,e));else{if(!Ct(i))throw new Error("Invalid CanActivate guard");s=ve(i(t,e))}return s.pipe((0,U.P)())}));return(0,f.of)(i).pipe(It())}(e,t.route,n))),(0,U.P)(e=>!0!==e,!0))}(r,s,e,t):(0,f.of)(n)),(0,O.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,z.b)(e=>{if(St(e.guardsResult)){const t=he(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new X(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,C.h)(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),cn(e=>{if(e.guards.canActivateChecks.length)return(0,f.of)(e).pipe((0,z.b)(e=>{const t=new J(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,N.w)(e=>{let t=!1;return(0,f.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,j.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,f.of)(e);let s=0;return(0,p.D)(i).pipe((0,V.b)(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,f.of)({});const s={};return(0,p.D)(i).pipe((0,j.zg)(i=>function(e,t,n,r){const i=Yt(e,t,r);return ve(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,z.b)(e=>{s[i]=e}))),I(1),(0,j.zg)(()=>Object.keys(s).length===i.length?(0,f.of)(s):b.E))}(e._resolve,e,t,r).pipe((0,O.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Je(e,n).resolve),null)))}(e.route,t,n,r)),(0,z.b)(()=>s++),I(1),(0,j.zg)(t=>s===i.length?(0,f.of)(e):b.E))})),(0,z.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,z.b)(e=>{const t=new ee(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),cn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,O.U)(e=>{const t=function(e,t,n){const r=ot(e,t._root,n?n._root:void 0);return new Ye(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,z.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=e=>this.triggerEvent(e),(0,O.U)(e=>(new bt(s,e.targetRouterState,e.currentRouterState,o).activate(i),e))),(0,z.b)({next(){n=!0},complete(){n=!0}}),(0,q.x)(()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null}),(0,F.K)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=St(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new K(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new Z(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var i;return b.E}));var i,s,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){kt(e),this.config=e.map(Pt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return ut(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new dt(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return ye(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new dt(n,t,r)}(n);if(s.toRoot())return ut(t.root,new Ie([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new pt(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new pt(e,e===t.root,0)}const r=lt(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new pt(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?mt(o.segmentGroup,o.index,s.commands):ft(o.segmentGroup,o.index,s.commands);return ut(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=St(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},_n):!1===t?Object.assign({},bn):t,St(e))return we(this.currentUrlTree,e,n);const r=this.parseUrl(e);return we(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new W(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==t&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(l&&c)return Promise.resolve(!0);let u,h,d;i?(u=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{u=e,h=t});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new K(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.DyG),i.LFG(Ae),i.LFG(fn),i.LFG(r.Ye),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),En=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new E.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Cn(this.skipLocationChange),replaceUrl:Cn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(wn),i.Y36(Xe),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),e})();function Cn(e){return""===e||!!e}let Sn=(()=>{class e{constructor(e,t,n,r,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||le,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Tn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(fn),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},e.\u0275dir=i.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Tn{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Xe?this.route:e===fn?this.childContexts:this.parent.get(e,t)}}class In{}class xn{preload(e,t){return(0,f.of)(null)}}let kn=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new dn(t,n,t=>e.triggerEvent(new te(t)),t=>e.triggerEvent(new ne(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,C.h)(e=>e instanceof W),(0,V.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,p.D)(n).pipe((0,$.J)(),(0,O.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,f.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,j.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(wn),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(In))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),An=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof H?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof W&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ae&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new ae(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(wn),i.LFG(r.EM),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const Rn=new i.OlP("ROUTER_CONFIGURATION"),Pn=new i.OlP("ROUTER_FORROOT_GUARD"),On=[r.Ye,{provide:Ae,useClass:Re},{provide:wn,useFactory:function(e,t,n,r,i,s,o,a={},l,c){const u=new wn(null,e,t,n,r,i,s,me(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Ae,fn,r.Ye,i.zs3,i.v3s,i.Sil,hn,Rn,[class{},new i.FiY],[class{},new i.FiY]]},fn,{provide:Xe,useFactory:function(e){return e.routerState.root},deps:[wn]},{provide:i.v3s,useClass:i.EAV},kn,xn,class{preload(e,t){return t().pipe((0,F.K)(()=>(0,f.of)(null)))}},{provide:Rn,useValue:{enableTracing:!1}}];function Nn(){return new i.PXZ("Router",wn)}let Dn=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[On,Vn(t),{provide:Pn,useFactory:Fn,deps:[[wn,new i.FiY,new i.tp0]]},{provide:Rn,useValue:n||{}},{provide:r.S$,useFactory:Mn,deps:[r.lw,[new i.tBr(r.mr),new i.FiY],Rn]},{provide:An,useFactory:Ln,deps:[wn,r.EM,Rn]},{provide:In,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:xn},{provide:i.PXZ,multi:!0,useFactory:Nn},[Un,{provide:i.ip1,multi:!0,useFactory:jn,deps:[Un]},{provide:Bn,useFactory:zn,deps:[Un]},{provide:i.tb,multi:!0,useExisting:Bn}]]}}static forChild(t){return{ngModule:e,providers:[Vn(t)]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Pn,8),i.LFG(wn,8))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();function Ln(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new An(e,t,n)}function Mn(e,t,n={}){return n.useHash?new r.Do(e,t):new r.b0(e,t)}function Fn(e){return"guarded"}function Vn(e){return[{provide:i.deG,multi:!0,useValue:e},{provide:hn,multi:!0,useValue:e}]}let Un=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new E.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(wn),r=this.injector.get(Rn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,f.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Rn),n=this.injector.get(kn),r=this.injector.get(An),s=this.injector.get(wn),o=this.injector.get(i.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function jn(e){return e.appInitializer.bind(e)}function zn(e){return e.bootstrapListener.bind(e)}const Bn=new i.OlP("Router Initializer")},156:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(3854),i=n(8604),s=n(279),o=n(9306);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.30",void 0)},279:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>S,_DEFAULT_ENTRY_NAME:()=>d,_addComponent:()=>g,_addOrOverwriteComponent:()=>y,_apps:()=>f,_clearComponents:()=>w,_components:()=>m,_getProvider:()=>_,_registerComponent:()=>v,_removeServiceInstance:()=>b,deleteApp:()=>k,getApp:()=>I,getApps:()=>x,initializeApp:()=>T,onLog:()=>P,registerVersion:()=>R,setLogLevel:()=>O});var r=n(6304),i=n(8604),s=n(9306),o=n(3854),a=n(6508);class l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u="0.7.29",h=new s.Yd("@firebase/app"),d="[DEFAULT]",p={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,m=new Map;function g(e,t){try{e.container.addComponent(t)}catch(n){h.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function y(e,t){e.container.addOrOverwriteComponent(t)}function v(e){const t=e.name;if(m.has(t))return h.debug(`There were multiple attempts to register component ${t}.`),!1;m.set(t,e);for(const n of f.values())g(n,e);return!0}function _(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function b(e,t,n=d){_(e,t).clearInstance(n)}function w(){m.clear()}const E=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class C{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw E.create("app-deleted",{appName:this._name})}}const S="9.9.1";function T(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:d,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw E.create("bad-app-name",{appName:String(r)});const s=f.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw E.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of m.values())a.addComponent(i);const l=new C(e,n,a);return f.set(r,l),l}function I(e=d){const t=f.get(e);if(!t)throw E.create("no-app",{appName:e});return t}function x(){return Array.from(f.values())}function k(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function*(e){const t=e.name;f.has(t)&&(f.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function R(e,t,n){var r;let s=null!==(r=p[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void h.warn(e.join(" "))}v(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function P(e,t){if(null!==e&&"function"!=typeof e)throw E.create("invalid-log-argument");(0,s.Am)(e,t)}function O(e){(0,s.Ub)(e)}const N="firebase-heartbeat-store";let D=null;function L(){return D||(D=(0,a.X3)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(N)}}}).catch(e=>{throw E.create("storage-open",{originalErrorMessage:e.message})})),D}function M(){return(M=(0,r.Z)(function*(e){var t;try{return(yield L()).transaction(N).objectStore(N).get(U(e))}catch(n){throw E.create("storage-get",{originalErrorMessage:null===(t=n)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function F(e,t){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)(function*(e,t){var n;try{const n=(yield L()).transaction(N,"readwrite"),r=n.objectStore(N);return yield r.put(t,U(e)),n.done}catch(r){throw E.create("storage-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message})}})).apply(this,arguments)}function U(e){return`${e.name}!${e.options.appId}`}class j{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new B(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}triggerHeartbeat(){var e=this;return(0,r.Z)(function*(){const t=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=z();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==n&&!e._heartbeatsCache.heartbeats.some(e=>e.date===n))return e._heartbeatsCache.heartbeats.push({date:n,agent:t}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,r.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=z(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),q(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),q(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),i=(0,o.L)(JSON.stringify({version:2,heartbeats:n}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),i})()}}function z(){return(new Date).toISOString().substring(0,10)}class B{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,r.Z)(function*(){return!!(0,o.hl)()&&(0,o.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,r.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function(e){return M.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,r.Z)(function*(){var n;if(yield t._canUseIndexedDBPromise){const r=yield t.read();return F(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,r.Z)(function*(){var n;if(yield t._canUseIndexedDBPromise){const r=yield t.read();return F(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}})()}}function q(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}v(new i.wA("platform-logger",e=>new l(e),"PRIVATE")),v(new i.wA("heartbeat",e=>new j(e),"PRIVATE")),R(c,u,""),R(c,u,"esm2017"),R("fire-js","")},7285:(e,t,n)=>{"use strict";n.d(t,{$:()=>Zt,A:()=>u,B:()=>h,G:()=>Pe,H:()=>De,J:()=>rt,L:()=>de,M:()=>dt,N:()=>gt,P:()=>zr,Q:()=>yt,R:()=>Ar,T:()=>vt,U:()=>mt,V:()=>bt,W:()=>wt,X:()=>It,Y:()=>zt,Z:()=>qt,_:()=>Gt,a:()=>Xn,a0:()=>en,a1:()=>nn,a2:()=>sn,a3:()=>an,a4:()=>cn,a5:()=>hn,a6:()=>pn,a7:()=>fn,a8:()=>gn,a9:()=>yn,aA:()=>Si,aB:()=>bi,aC:()=>ci,aD:()=>li,aE:()=>Ae,aI:()=>er,aL:()=>_t,aa:()=>wn,ab:()=>Cn,ac:()=>Tn,af:()=>An,ag:()=>Pn,ah:()=>On,ak:()=>Pt,al:()=>zn,an:()=>$n,ao:()=>Kn,ap:()=>Se,aq:()=>E,ar:()=>Ce,as:()=>be,at:()=>m,au:()=>$i,av:()=>xi,aw:()=>g,ax:()=>b,ay:()=>S,az:()=>pe,b:()=>Qn,c:()=>Yr,d:()=>ei,e:()=>Xr,f:()=>di,g:()=>gi,h:()=>fi,i:()=>mr,j:()=>vi,k:()=>Hi,l:()=>Nr,m:()=>Ki,o:()=>c,r:()=>Lr,s:()=>Pr,u:()=>Ur});var r=n(6304),i=n(3854),s=n(279);function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var a=n(9306),l=n(8604);const c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},h=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},d=new i.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new a.Yd("@firebase/auth");function f(e,...t){p.logLevel<=a.in.ERROR&&p.error(`Auth (${s.SDK_VERSION}): ${e}`,...t)}function m(e,...t){throw _(e,...t)}function g(e,...t){return _(e,...t)}function y(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new i.LL("auth","Firebase",r).create(t,{appName:e.name})}function v(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&m(e,"argument-error"),y(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return d.create(e,...t)}function b(e,t,...n){if(!e)throw _(t,...n)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function E(e,t){e||w(t)}const C=new Map;function S(e){E(e instanceof Function,"Expected a class definition");let t=C.get(e);return t?(E(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,C.set(e,t),t)}function T(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function I(){return"http:"===x()||"https:"===x()}function x(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,E(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(I()||(0,i.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function A(e,t){E(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class R{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},O=new k(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function D(e,t,n,r){return L.apply(this,arguments)}function L(){return(L=(0,r.Z)(function*(e,t,n,s,o={}){return M(e,o,(0,r.Z)(function*(){let r={},o={};s&&("GET"===t?o=s:r={body:JSON.stringify(s)});const a=(0,i.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),l=yield e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),R.fetch()(j(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))}))})).apply(this,arguments)}function M(e,t,n){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},P),t);try{const t=new z(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw B(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw B(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw B(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw B(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw y(e,a,o);m(e,a)}}catch(s){if(s instanceof i.ZR)throw s;m(e,"network-request-failed")}})).apply(this,arguments)}function V(e,t,n,r){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield D(e,t,n,r,i);return"mfaPendingCredential"in s&&m(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function j(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?A(e.config,i):`${e.config.apiScheme}://${i}`}class z{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"network-request-failed")),O.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function B(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function q(){return(q=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function $(e,t){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function H(e,t){return W.apply(this,arguments)}function W(){return(W=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function K(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Z(){return(Z=(0,r.Z)(function*(e,t=!1){const n=(0,i.m9)(e),r=yield n.getIdToken(t),s=Q(r);b(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:K(Y(s.auth_time)),issuedAtTime:K(Y(s.iat)),expirationTime:K(Y(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Y(e){return 1e3*Number(e)}function Q(e){var t;const[n,r,s]=e.split(".");if(void 0===n||void 0===r||void 0===s)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.tV)(r);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(o){return f("Caught error parsing JWT payload as JSON",null===(t=o)||void 0===t?void 0:t.toString()),null}}function X(e,t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof i.ZR&&ee(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function ee({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class te{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){var t;try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===(null===(t=n)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class ne{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield X(e,H(n,{idToken:r}));b(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ae(s.providerUserInfo):[],a=oe(e.providerData,o),l=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ne(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(e,c)})).apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(e){const t=(0,i.m9)(e);yield re(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function oe(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ae(e){return e.map(e=>{var{providerId:t}=e,n=o(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function le(){return(le=(0,r.Z)(function*(e,t){const n=yield M(e,{},(0,r.Z)(function*(){const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=j(e,r,"/v1/token",`key=${s}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",R.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(void 0!==e.idToken,"internal-error"),b(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Q(e);return b(t,"internal-error"),b(void 0!==t.exp,"internal-error"),b(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return b(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return le.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ce;return n&&(b("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(b("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(b("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ce,this.toJSON())}_performRefresh(){return w("not implemented")}}function ue(e,t){b("string"==typeof e||void 0===e,"internal-error",{appName:t})}class he{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ne(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield X(t,t.stsTokenManager.getToken(t.auth,e));return b(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return Z.apply(this,arguments)}(this,e)}reload(){return function(e){return se.apply(this,arguments)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield re(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield X(e,function(e,t){return q.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:_,isAnonymous:w,providerData:E,stsTokenManager:C}=t;b(v&&C,e,"internal-error");const S=ce.fromJSON(this.name,C);b("string"==typeof v,e,"internal-error"),ue(u,e.name),ue(h,e.name),b("boolean"==typeof _,e,"internal-error"),b("boolean"==typeof w,e,"internal-error"),ue(d,e.name),ue(p,e.name),ue(f,e.name),ue(m,e.name),ue(g,e.name),ue(y,e.name);const T=new he({uid:v,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:S,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(T.providerData=E.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new ce;r.updateFromServerResponse(t);const i=new he({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield re(i),i})()}}const de=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function pe(e,t,n){return`firebase:${e}:${t}:${n}`}class fe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=pe(this.userKey,r.apiKey,i),this.fullPersistenceKey=pe("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?he._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new fe(S(de),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||S(de);const o=pe(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=he._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const l=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(c){}});return function(t){return e.apply(this,arguments)}}())),new fe(s,e,n)):new fe(s,e,n)})()}}function me(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_e(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ge(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(we(t))return"Blackberry";if(Ee(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||ve(t))&&!t.includes("edge/"))return"Chrome";if(be(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function ge(e=(0,i.z$)()){return/firefox\//i.test(e)}function ye(e=(0,i.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ve(e=(0,i.z$)()){return/crios\//i.test(e)}function _e(e=(0,i.z$)()){return/iemobile/i.test(e)}function be(e=(0,i.z$)()){return/android/i.test(e)}function we(e=(0,i.z$)()){return/blackberry/i.test(e)}function Ee(e=(0,i.z$)()){return/webos/i.test(e)}function Ce(e=(0,i.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Se(e=(0,i.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function Te(e=(0,i.z$)()){return Ce(e)||be(e)||Ee(e)||we(e)||/windows phone/i.test(e)||_e(e)}function Ie(e,t=[]){let n;switch(e){case"Browser":n=me((0,i.z$)());break;case"Worker":n=`${me((0,i.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${s.SDK_VERSION}/${r}`}class xe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,r.Z)(function*(){var n;if(t.auth.currentUser===e)return;const r=[];try{for(const n of t.queue)yield n(e),n.onAbort&&r.push(n.onAbort)}catch(i){r.reverse();for(const e of r)try{e()}catch(s){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=i)||void 0===n?void 0:n.message})}})()}}class ke{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Re(this),this.idTokenSubscription=new Re(this),this.beforeStateQueue=new xe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=S(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;if(!n._deleted&&(n.persistenceManager=yield fe.create(n,e),!n._deleted)){if(null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(s){}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,n._deleted||(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t,!0)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;const r=yield t.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const r=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);r&&r!==o||!(null==a?void 0:a.user)||(i=a.user,s=!0)}if(!i)return t.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(i)}catch(o){i=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(o))}return i?t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)}return b(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){var n;try{yield re(e)}catch(r){if("auth/network-request-failed"!==(null===(n=r)||void 0===n?void 0:n.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,i.m9)(e):null;return n&&b(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e,t=!1){var n=this;return(0,r.Z)(function*(){if(!n._deleted)return e&&b(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),t||(yield n.beforeStateQueue.runMiddleware(e)),n.queue((0,r.Z)(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(S(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&S(e)||t._popupRedirectResolver;b(n,t,"argument-error"),t.redirectPersistenceManager=yield fe.create(t,[S(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return b(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,r.Z)(function*(){var t;const n={"X-Client-Version":e.clientVersion};e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return r&&(n["X-Firebase-Client"]=r),n})()}}function Ae(e){return(0,i.m9)(e)}class Re{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)(e=>this.observer=e)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pe(e,t,n){const r=Ae(e);b(r._canInitEmulator,r,"emulator-config-failed"),b(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Oe(t),{host:o,port:a}=function(e){const t=Oe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ne(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ne(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Oe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ne(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class De{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}function Le(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:resetPassword",N(e,t))})).apply(this,arguments)}function Fe(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Ue(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",N(e,t))})).apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return V(e,"POST","/v1/accounts:signInWithPassword",N(e,t))})).apply(this,arguments)}function Be(e,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendOobCode",N(e,t))})).apply(this,arguments)}function $e(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(e,t){return Be(e,t)})).apply(this,arguments)}function He(e,t){return We.apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return Be(e,t)})).apply(this,arguments)}function Ke(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(e,t){return Be(e,t)})).apply(this,arguments)}function Ye(e,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)(function*(e,t){return Be(e,t)})).apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return V(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(e,t){return V(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}class et extends De{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new et(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new et(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return ze.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return Xe.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:m(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Fe(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Je.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:m(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return V(e,"POST","/v1/accounts:signInWithIdp",N(e,t))})).apply(this,arguments)}class rt extends De{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):m("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new rt(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return tt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,tt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}function it(e,t){return st.apply(this,arguments)}function st(){return(st=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))})).apply(this,arguments)}function ot(){return(ot=(0,r.Z)(function*(e,t){return V(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))})).apply(this,arguments)}function at(){return(at=(0,r.Z)(function*(e,t){const n=yield V(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw B(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const lt={USER_NOT_FOUND:"user-not-found"};function ct(){return(ct=(0,r.Z)(function*(e,t){return V(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),lt)})).apply(this,arguments)}class ut extends De{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ut({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ut({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return ot.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return at.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return ct.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ut({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ht{constructor(e){var t,n,r,s,o,a;const l=(0,i.zd)((0,i.pd)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);b(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,i.zd)((0,i.pd)(e)).link,n=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(e)).deep_link_id;return(r?(0,i.zd)((0,i.pd)(r)).link:null)||r||n||t||e}(e);try{return new ht(t)}catch(n){return null}}}let dt=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return et._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ht.parseLink(t);return b(n,"argument-error"),et._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class pt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ft extends pt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class mt extends ft{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return b("providerId"in t&&"signInMethod"in t,"argument-error"),rt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return b(e.idToken||e.accessToken,"argument-error"),rt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return mt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return mt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new mt(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let gt=(()=>{class e extends ft{constructor(){super("facebook.com")}static credential(t){return rt._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),yt=(()=>{class e extends ft{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return rt._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),vt=(()=>{class e extends ft{constructor(){super("github.com")}static credential(t){return rt._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class _t extends De{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return tt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,tt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tt(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new _t(n,i):null}static _create(e,t){return new _t(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bt extends pt{constructor(e){b(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return bt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return bt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=_t.fromJSON(e);return b(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return _t._create(n,t)}catch(r){return null}}}let wt=(()=>{class e extends ft{constructor(){super("twitter.com")}static credential(t,n){return rt._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function Et(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,r.Z)(function*(e,t){return V(e,"POST","/v1/accounts:signUp",N(e,t))})).apply(this,arguments)}class St{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield he._fromIdTokenResponse(e,n,i),s=Tt(n);return new St({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=Tt(n);return new St({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function Tt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function It(e){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(e){var t;const n=Ae(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new St({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield Et(n,{returnSecureToken:!0}),i=yield St._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class kt extends i.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,kt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new kt(e,t,n,r)}}function At(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw kt._fromErrorAndOperation(e,n,t,r);throw n})}function Rt(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Pt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(function*(e,t){const n=(0,i.m9)(e);yield Lt(!0,n,t);const{providerUserInfo:r}=yield $(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),s=Rt(r||[]);return n.providerData=n.providerData.filter(e=>s.has(e.providerId)),s.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function Nt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,r.Z)(function*(e,t,n=!1){const r=yield X(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return St._forOperation(e,"link",r)})).apply(this,arguments)}function Lt(e,t,n){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(e,t,n){yield re(t);const r=!1===e?"provider-already-linked":"no-such-provider";b(Rt(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Ft(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t,n=!1){var r;const{auth:i}=e,s="reauthenticate";try{const r=yield X(e,At(i,s,t,e),n);b(r.idToken,i,"internal-error");const o=Q(r.idToken);b(o,i,"internal-error");const{sub:a}=o;return b(e.uid===a,i,"user-mismatch"),St._forOperation(e,s,r)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&m(i,"user-mismatch"),o}})).apply(this,arguments)}function Ut(e,t){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield At(e,r,t),s=yield St._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function zt(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(e,t){return Ut(Ae(e),t)})).apply(this,arguments)}function qt(e,t){return $t.apply(this,arguments)}function $t(){return($t=(0,r.Z)(function*(e,t){const n=(0,i.m9)(e);return yield Lt(!1,n,t.providerId),Nt(n,t)})).apply(this,arguments)}function Gt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(function*(e,t){return Ft((0,i.m9)(e),t)})).apply(this,arguments)}function Wt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t){return V(e,"POST","/v1/accounts:signInWithCustomToken",N(e,t))})).apply(this,arguments)}function Zt(e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){const n=Ae(e),r=yield Wt(n,{token:t,returnSecureToken:!0}),i=yield St._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Qt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Xt._fromServerResponse(e,t):m(e,"internal-error")}}class Xt extends Qt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Xt(t)}}function Jt(e,t,n){var r;b((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),b(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(b(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(b(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function en(e,t,n){return tn.apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e),s={requestType:"PASSWORD_RESET",email:t};n&&Jt(r,s,n),yield He(r,s)})).apply(this,arguments)}function nn(e,t,n){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t,n){yield Le((0,i.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function sn(e,t){return on.apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){yield Ue((0,i.m9)(e),{oobCode:t})})).apply(this,arguments)}function an(e,t){return ln.apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(e,t){const n=(0,i.m9)(e),r=yield Le(n,{oobCode:t}),s=r.requestType;switch(b(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":b(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":b(r.mfaInfo,n,"internal-error");default:b(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Qt._fromServerResponse(Ae(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}})).apply(this,arguments)}function cn(e,t){return un.apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(e,t){const{data:n}=yield an((0,i.m9)(e),t);return n.email})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(function*(e,t,n){const r=Ae(e),i=yield Et(r,{returnSecureToken:!0,email:t,password:n}),s=yield St._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function pn(e,t,n){return zt((0,i.m9)(e),dt.credential(t,n))}function fn(e,t,n){return mn.apply(this,arguments)}function mn(){return(mn=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e),s={requestType:"EMAIL_SIGNIN",email:t};b(n.handleCodeInApp,r,"argument-error"),n&&Jt(r,s,n),yield Ke(r,s)})).apply(this,arguments)}function gn(e,t){const n=ht.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}function yn(e,t,n){return vn.apply(this,arguments)}function vn(){return(vn=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e),s=dt.credentialWithLink(t,n||T());return b(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),zt(r,s)})).apply(this,arguments)}function _n(e,t){return bn.apply(this,arguments)}function bn(){return(bn=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:createAuthUri",N(e,t))})).apply(this,arguments)}function wn(e,t){return En.apply(this,arguments)}function En(){return(En=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:I()?T():"http://localhost"},{signinMethods:r}=yield _n((0,i.m9)(e),n);return r||[]})).apply(this,arguments)}function Cn(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,r.Z)(function*(e,t){const n=(0,i.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Jt(n.auth,r,t);const{email:s}=yield $e(n.auth,r);s!==e.email&&(yield e.reload())})).apply(this,arguments)}function Tn(e,t,n){return In.apply(this,arguments)}function In(){return(In=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Jt(r.auth,s,n);const{email:o}=yield Ye(r.auth,s);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function xn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function An(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,i.m9)(e),s={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield X(r,xn(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function Pn(e,t){return Nn((0,i.m9)(e),t,null)}function On(e,t){return Nn((0,i.m9)(e),null,t)}function Nn(e,t,n){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield X(e,Fe(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class Ln{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Mn extends Ln{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Fn extends Ln{constructor(e,t){super(e,"facebook.com",t)}}class Vn extends Mn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Un extends Ln{constructor(e,t){super(e,"google.com",t)}}class jn extends Mn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function zn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Q(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ln(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Fn(s,i);case"github.com":return new Vn(s,i);case"google.com":return new Un(s,i);case"twitter.com":return new jn(s,i,e.screenName||null);case"custom":case"anonymous":return new Ln(s,null);default:return new Ln(s,r,i)}}(n)}class Bn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Bn("enroll",e)}static _fromMfaPendingCredential(e){return new Bn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Bn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Bn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class qn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ae(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(e=>Qt._fromServerResponse(n,e));b(i.mfaPendingCredential,n,"internal-error");const o=Bn._fromMfaPendingCredential(i.mfaPendingCredential);return new qn(o,s,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield St._fromIdTokenResponse(n,t.operationType,s);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return b(t.user,n,"internal-error"),St._forOperation(t.user,t.operationType,s);default:m(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function $n(e,t){var n;const r=(0,i.m9)(e),s=t;return b(t.customData.operationType,r,"argument-error"),b(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),qn._fromError(r,s)}function Gn(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}class Hn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Qt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Hn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return Bn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield X(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){var n;const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken(),s=yield X(t.user,(o=t.user.auth,a={idToken:i,mfaEnrollmentId:r},D(o,"POST","/v2/accounts/mfaEnrollment:withdraw",N(o,a))));var o,a;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==r),yield t.user._updateTokensIfNecessary(s);try{yield t.user.reload()}catch(l){if("auth/user-token-expired"!==(null===(n=l)||void 0===n?void 0:n.code))throw l}})()}}const Wn=new WeakMap;function Kn(e){const t=(0,i.m9)(e);return Wn.has(t)||Wn.set(t,Hn._fromUser(t)),Wn.get(t)}const Zn="__sak";class Yn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zn,"1"),this.storage.removeItem(Zn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qn=(()=>{class e extends Yn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,i.z$)();return ye(e)||Ce(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Te(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.w1)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),Xn=(()=>{class e extends Yn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let Jn=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function er(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class tr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=er("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function nr(){return window}function rr(){return void 0!==nr().WorkerGlobalScope&&"function"==typeof nr().importScripts}function ir(){return(ir=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const sr="firebaseLocalStorageDb",or="firebaseLocalStorage",ar="fbase_key";class lr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cr(e,t){return e.transaction([or],t?"readwrite":"readonly").objectStore(or)}function ur(){const e=indexedDB.open(sr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(or,{keyPath:ar})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(or)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(sr);return new lr(e).toPromise()}(),t(yield ur()))}))})}function hr(e,t,n){return dr.apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(e,t,n){const r=cr(e,!0).put({[ar]:t,value:n});return new lr(r).toPromise()})).apply(this,arguments)}function pr(){return(pr=(0,r.Z)(function*(e,t){const n=cr(e,!1).get(t),r=yield new lr(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function fr(e,t){const n=cr(e,!0).delete(t);return new lr(n).toPromise()}const mr=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield ur()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return rr()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=Jn._getInstance(rr()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return ir.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new tr(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield ur();return yield hr(e,Zn,"1"),yield fr(e,Zn),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>hr(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return pr.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>fr(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=cr(e,!1).getAll();return new lr(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function gr(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}function yr(){return(yr=(0,r.Z)(function*(e){return(yield D(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vr(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function _r(e){return`__${e}${Math.floor(1e6*Math.random())}`}const br=1e12;class wr{constructor(e){this.auth=e,this.counter=br,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Er(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||br;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||br))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||br))||void 0===n||n.execute(),""})()}}class Er{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;b(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cr=_r("rcb"),Sr=new k(3e4,6e4);class Tr{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=nr().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return b(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(nr().grecaptcha):new Promise((n,r)=>{const s=nr().setTimeout(()=>{r(g(e,"network-request-failed"))},Sr.get());nr()[Cr]=()=>{nr().clearTimeout(s),delete nr()[Cr];const i=nr().grecaptcha;if(!i)return void r(g(e,"internal-error"));const o=i.render;i.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(i)},vr(`https://www.google.com/recaptcha/api.js??${(0,i.xO)({onload:Cr,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(s),r(g(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=nr().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ir{load(e){return(0,r.Z)(function*(){return new wr(e)})()}clearedOneInstance(){}}const xr="recaptcha",kr={theme:"light",type:"image"};class Ar{constructor(e,t=Object.assign({},kr),n){this.parameters=t,this.type=xr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ae(n),this.isInvisible="invisible"===this.parameters.size,b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;b(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ir:new Tr,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){b(!this.parameters.sitekey,this.auth,"argument-error"),b(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=nr()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){b(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){b(I()&&!rr(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return yr.apply(this,arguments)}(e.auth);b(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return b(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ut._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function Pr(e,t,n){return Or.apply(this,arguments)}function Or(){return(Or=(0,r.Z)(function*(e,t,n){const r=Ae(e),s=yield Fr(r,t,(0,i.m9)(n));return new Rr(s,e=>zt(r,e))})).apply(this,arguments)}function Nr(e,t,n){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e);yield Lt(!1,r,"phone");const s=yield Fr(r.auth,t,(0,i.m9)(n));return new Rr(s,e=>qt(r,e))})).apply(this,arguments)}function Lr(e,t,n){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e),s=yield Fr(r.auth,t,(0,i.m9)(n));return new Rr(s,e=>Gt(r,e))})).apply(this,arguments)}function Fr(e,t,n){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(b("string"==typeof i,e,"argument-error"),b(n.type===xr,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return b("enroll"===t.type,e,"internal-error"),(yield Gn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{b("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return b(n,e,"missing-multi-factor-info"),(yield gr(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield it(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function Ur(e,t){return jr.apply(this,arguments)}function jr(){return(jr=(0,r.Z)(function*(e,t){yield Nt((0,i.m9)(e),t)})).apply(this,arguments)}let zr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Ae(t)}verifyPhoneNumber(e,t){return Fr(this.auth,e,(0,i.m9)(t))}static credential(e,t){return ut._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ut._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function Br(e,t){return t?S(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class qr extends De{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $r(e){return Ut(e.auth,new qr(e),e.bypassAuthState)}function Gr(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),Ft(n,new qr(e),e.bypassAuthState)}function Hr(e){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),Nt(n,new qr(e),e.bypassAuthState)})).apply(this,arguments)}class Kr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const l={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $r;case"linkViaPopup":case"linkViaRedirect":return Hr;case"reauthViaPopup":case"reauthViaRedirect":return Gr;default:m(this.auth,"internal-error")}}resolve(e){E(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){E(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zr=new k(2e3,1e4);function Yr(e,t,n){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,r.Z)(function*(e,t,n){const r=Ae(e);v(e,t,pt);const i=Br(r,n);return new ni(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Xr(e,t,n){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e);v(r.auth,t,pt);const s=Br(r.auth,n);return new ni(r.auth,"reauthViaPopup",t,s,r).executeNotNull()})).apply(this,arguments)}function ei(e,t,n){return ti.apply(this,arguments)}function ti(){return(ti=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e);v(r.auth,t,pt);const s=Br(r.auth,n);return new ni(r.auth,"linkViaPopup",t,s,r).executeNotNull()})).apply(this,arguments)}let ni=(()=>{class e extends Kr{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return b(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){E(1===e.filter.length,"Popup operations only handle one event");const t=er();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,Zr.get())};e()}}return e.currentPopupAction=null,e})();const ri=new Map;class ii extends Kr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=ri.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return si.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}ri.set(t.auth._key(),n)}return t.bypassAuthState||ri.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function si(){return(si=(0,r.Z)(function*(e,t){const n=hi(t),r=ui(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function oi(e,t){return ai.apply(this,arguments)}function ai(){return(ai=(0,r.Z)(function*(e,t){return ui(e)._set(hi(t),"true")})).apply(this,arguments)}function li(){ri.clear()}function ci(e,t){ri.set(e._key(),t)}function ui(e){return S(e._redirectPersistence)}function hi(e){return pe("pendingRedirect",e.config.apiKey,e.name)}function di(e,t,n){return function(e,t,n){return pi.apply(this,arguments)}(e,t,n)}function pi(){return(pi=(0,r.Z)(function*(e,t,n){const r=Ae(e);v(e,t,pt);const i=Br(r,n);return yield oi(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function fi(e,t,n){return function(e,t,n){return mi.apply(this,arguments)}(e,t,n)}function mi(){return(mi=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e);v(r.auth,t,pt);const s=Br(r.auth,n);yield oi(s,r.auth);const o=yield Ei(r);return s._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function gi(e,t,n){return function(e,t,n){return yi.apply(this,arguments)}(e,t,n)}function yi(){return(yi=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e);v(r.auth,t,pt);const s=Br(r.auth,n);yield Lt(!1,r,t.providerId),yield oi(s,r.auth);const o=yield Ei(r);return s._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function vi(e,t){return _i.apply(this,arguments)}function _i(){return(_i=(0,r.Z)(function*(e,t){return yield Ae(e)._initializationPromise,bi(e,t,!1)})).apply(this,arguments)}function bi(e,t){return wi.apply(this,arguments)}function wi(){return(wi=(0,r.Z)(function*(e,t,n=!1){const r=Ae(e),i=Br(r,t),s=new ii(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function Ei(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,r.Z)(function*(e){const t=er(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class Si{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ii(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ii(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ti(e))}saveEventToCache(e){this.cachedEventUids.add(Ti(e)),this.lastProcessedEventTime=Date.now()}}function Ti(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Ii({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function xi(e){return ki.apply(this,arguments)}function ki(){return(ki=(0,r.Z)(function*(e,t={}){return D(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Ai=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ri=/^https?/;function Pi(){return(Pi=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield xi(e);for(const r of t)try{if(Oi(r))return}catch(n){}m(e,"unauthorized-domain")})).apply(this,arguments)}function Oi(e){const t=T(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ri.test(n))return!1;if(Ai.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ni=new k(3e4,6e4);function Di(){const e=nr().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Li=null;function Mi(e){return Li=Li||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Di(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Di(),n(g(e,"network-request-failed"))},timeout:Ni.get()})}if(null===(i=null===(r=nr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=nr().gapi)||void 0===s?void 0:s.load)){const t=_r("iframefcb");return nr()[t]=()=>{gapi.load?o():n(g(e,"network-request-failed"))},vr(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw Li=null,e})}(e),Li}const Fi=new k(5e3,15e3),Vi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ui=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ji(e){const t=e.config;b(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?A(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:s.SDK_VERSION},o=Ui.get(e.config.apiHost);o&&(r.eid=o);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.xO)(r).slice(1)}`}function zi(){return(zi=(0,r.Z)(function*(e){const t=yield Mi(e),n=nr().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:ji(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vi,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),s=nr().setTimeout(()=>{r(i)},Fi.get());function o(){nr().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const Bi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function $i(e,t,n,r,o,a){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.SDK_VERSION,eventId:o};if(t instanceof pt){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof ft){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const i of Object.keys(c))void 0===c[i]&&delete c[i];return`${function({config:e}){return e.emulator?A(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.xO)(c).slice(1)}`}const Gi="webStorageSupport",Hi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xn,this._completeRedirectFn=bi,this._overrideRedirectResult=ci}_openPopup(e,t,n,s){var o=this;return(0,r.Z)(function*(){var r;E(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=$i(e,t,n,T(),s);return function(e,t,n,r=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Bi),{width:r.toString(),height:s.toString(),top:o,left:a}),u=(0,i.z$)().toLowerCase();n&&(l=ve(u)?"_blank":n),ge(u)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,i.z$)()){var t;return Ce(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new qi(null);const d=window.open(t||"",l,h);b(d,e,"popup-blocked");try{d.focus()}catch(p){}return new qi(d)}(e,a,er())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=$i(e,t,n,T(),i),nr().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(E(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return zi.apply(this,arguments)}(e),r=new Si(e);return n.register("authEvent",t=>(b(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gi,{type:Gi},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),m(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Pi.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Te()||ye()||Ce()}};class Wi extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Wi(e)}_finalizeEnroll(e,t,n){return function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:finalize",N(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:finalize",N(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ki=(()=>{class e{constructor(){}static assertion(e){return Wi._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var Zi,Yi="@firebase/auth",Qi="0.20.5";class Xi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Zi="Browser",(0,s._registerComponent)(new l.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:s}=n.options;return((e,n)=>{b(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),b(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:s,clientPlatform:Zi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ie(Zi)},o=new ke(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(S);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s._registerComponent)(new l.wA("auth-internal",e=>{return t=Ae(e.getProvider("auth").getImmediate()),new Xi(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(Yi,Qi,void 0),(0,s.registerVersion)(Yi,Qi,"esm2017")},8604:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>l,zt:()=>a});var r=n(6304),i=n(3854);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,r.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class l{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9306:(e,t,n)=>{"use strict";n.d(t,{in:()=>i,Yd:()=>c,Ub:()=>u,Am:()=>h});const r=[];var i=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={})),i))();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},3854:(e,t,n)=>{"use strict";n.d(t,{BH:()=>d,LL:()=>A,ZR:()=>k,gQ:()=>G,zI:()=>x,hu:()=>r,g5:()=>i,US:()=>o,tV:()=>c,h$:()=>a,L:()=>l,$s:()=>te,r3:()=>M,Sg:()=>p,ne:()=>H,p$:()=>u,vZ:()=>j,ZB:()=>h,gK:()=>Y,pd:()=>$,m9:()=>ne,z$:()=>f,GJ:()=>L,jU:()=>y,ru:()=>v,d:()=>b,xb:()=>V,w1:()=>w,hl:()=>T,uI:()=>m,UG:()=>g,Yr:()=>C,b$:()=>_,G6:()=>S,Mn:()=>E,w9:()=>D,cI:()=>P,UI:()=>U,xO:()=>B,zd:()=>q,DV:()=>F,ug:()=>ee,dS:()=>J,Pz:()=>O,Dv:()=>Z,Wj:()=>Q,lb:()=>X,eu:()=>I});const r=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[c],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){const t=s(e);return o.encodeByteArray(t,!0)},l=function(e){return a(e).replace(/\./g,"")},c=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}class d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function y(){return"object"==typeof self&&self.self===self}function v(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return f().indexOf("Electron/")>=0}function w(){const e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return f().indexOf("MSAppHost/")>=0}function C(){return!1}function S(){return!g()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){return"object"==typeof indexedDB}function I(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function x(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class k extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(R,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new k(r,`${this.serviceName}: ${s} (${r}).`,n)}}const R=/\{\$([^}]+)}/g;function P(e){return JSON.parse(e)}function O(e){return JSON.stringify(e)}const N=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=P(c(s[0])||""),n=P(c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},D=function(e){const t=N(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},L=function(e){const t=N(e).claims;return"object"==typeof t&&!0===t.admin};function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function V(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function U(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function j(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(z(n)&&z(s)){if(!j(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function z(e){return null!==e&&"object"==typeof e}function B(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function q(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function $(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class G{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function H(e,t){const n=new W(e,t);return n.subscribe.bind(n)}class W{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=K),void 0===r.error&&(r.error=K),void 0===r.complete&&(r.complete=K);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K(){}const Z=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Y(e,t){return`${e} failed: ${t} argument `}function Q(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Y(e,t)+"must be a valid function.")}function X(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Y(e,t)+"must be a valid context object.")}const J=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const t=s-55296;i++,r(i<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(i)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},ee=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function te(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function ne(e){return e&&e._delegate?e._delegate:e}},2329:(e,t,n)=>{"use strict";n.d(t,{Mq:()=>r.getApp,C6:()=>r.getApps});var r=n(279);(0,r.registerVersion)("firebase","9.9.1","app")},7841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(156);r.Z.registerVersion("firebase","9.9.1","app-compat")},4828:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(156),s=n(7285),o=n(3854),a=(n(279),n(9306),n(8604));function l(){return window}function c(){return(c=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=l();(0,s.aq)(t.sessionId,"AuthEvent did not contain a session ID");const o=yield d(t.sessionId),a={};return(0,s.ar)()?a.ibi=i.packageName:(0,s.as)()?a.apn=i.packageName:(0,s.at)(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,(0,s.au)(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)})).apply(this,arguments)}function u(){return(u=(0,r.Z)(function*(e){const{BuildInfo:t}=l(),n={};(0,s.ar)()?n.iosBundleId=t.packageName:(0,s.as)()?n.androidPackageName=t.packageName:(0,s.at)(e,"operation-not-supported-in-this-environment"),yield(0,s.av)(e,n)})).apply(this,arguments)}function h(){return(h=(0,r.Z)(function*(e,t,n){const{cordova:r}=l();let i=()=>{};try{yield new Promise((o,a)=>{let l=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){l||(l=window.setTimeout(()=>{a((0,s.aw)(e,"redirect-cancelled-by-user"))},2e3))}function h(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(c),document.addEventListener("resume",u,!1),(0,s.as)()&&document.addEventListener("visibilitychange",h,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",h,!1),l&&window.clearTimeout(l)}})}finally{i()}})).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(function*(e){const t=f(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function f(e){if((0,s.aq)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}class m extends s.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function g(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(function*(e){const t=yield _()._get(b(e));return t&&(yield _()._remove(b(e))),t})).apply(this,arguments)}function v(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function _(){return(0,s.ay)(s.b)}function b(e){return(0,s.az)("authEvent",e.config.apiKey,e.name)}function w(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,o.zd)(n.join("?"))}function E(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.aw)("no-auth-event")}}function C(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function S(e=(0,o.z$)()){return!("file:"!==C()&&"ionic:"!==C()&&"capacitor:"!==C()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function T(){try{const e=self.localStorage,t=s.aI();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,o.z$)()){return(0,o.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,o.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,o.hl)()}catch(e){return I()&&(0,o.hl)()}return!1}function I(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function x(){return("http:"===C()||"https:"===C()||(0,o.ru)()||S())&&!((0,o.b$)()||(0,o.UG)())&&T()&&!I()}function k(){return S()&&"undefined"!=typeof document}function A(){return(A=(0,r.Z)(function*(){return!!k()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const R={LOCAL:"local",NONE:"none",SESSION:"session"},P=s.ax,O="persistence";function N(e){return D.apply(this,arguments)}function D(){return(D=(0,r.Z)(function*(e){yield e._initializationPromise;const t=L(),n=s.az(O,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())})).apply(this,arguments)}function L(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const M=s.ax;class F{constructor(){this.browserResolver=s.ay(s.k),this.cordovaResolver=s.ay(class{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aB,this._overrideRedirectResult=s.aC}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new m(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){(0,s.at)(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,o,a,c,u,h,d;const p=l();(0,s.ax)("function"==typeof(null===(t=null==p?void 0:p.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.ax)(void 0!==(null===(n=null==p?void 0:p.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.ax)("function"==typeof(null===(o=null===(i=null===(r=null==p?void 0:p.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.ax)("function"==typeof(null===(u=null===(c=null===(a=null==p?void 0:p.cordova)||void 0===a?void 0:a.plugins)||void 0===c?void 0:c.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.ax)("function"==typeof(null===(d=null===(h=null==p?void 0:p.cordova)||void 0===h?void 0:h.InAppBrowser)||void 0===d?void 0:d.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),(0,s.aD)(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:v(),postBody:null,tenantId:e.tenantId,error:(0,s.aw)(e,"no-auth-event")}}(e,n,i);yield function(e,t){return _()._set(b(e),t)}(e,a);const u=yield function(e,t,n){return c.apply(this,arguments)}(e,a,t),d=yield function(e){const{cordova:t}=l();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,(0,s.ap)()?"_blank":"_system","location=yes"),n(i)})})}(u);return function(e,t,n){return h.apply(this,arguments)}(e,r,d)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return u.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:o}=l(),a=setTimeout((0,r.Z)(function*(){yield g(e),t.onEvent(E())}),500),c=function(){var n=(0,r.Z)(function*(n){clearTimeout(a);const r=yield g(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=w(e),n=t.link?decodeURIComponent(t.link):void 0,r=w(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return w(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=w(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],l=a?(0,s.aw)(a):null;return l?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||E())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,c);const u=i,h=`${o.packageName.toLowerCase()}://`;l().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(h)&&c({url:e}),"function"==typeof u)try{u(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=s.a,this._completeRedirectFn=s.aB,this._overrideRedirectResult=s.aC}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return k()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return M(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return A.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function V(e){return e.unwrap()}function U(e){const{_tokenResponse:t}=e instanceof o.ZR?e.customData:e;if(!t)return null;if(!(e instanceof o.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return s.P.credentialFromResult(e);const n=t.providerId;if(!n||n===s.o.PASSWORD)return null;let r;switch(n){case s.o.GOOGLE:r=s.Q;break;case s.o.FACEBOOK:r=s.N;break;case s.o.GITHUB:r=s.T;break;case s.o.TWITTER:r=s.W;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:l}=t;return i||o||e||a?a?n.startsWith("saml.")?s.aL._create(n,a):s.J._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new s.U(n).credential({idToken:e,accessToken:i,rawNonce:l}):null}return e instanceof o.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function j(e,t){return t.catch(t=>{throw t instanceof o.ZR&&function(e,t){var n,r;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new q(e,s.an(e,t));else if(i){const e=U(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:(n=e,U(n)),additionalUserInfo:s.al(e),user:$.getOrCreate(t)};var n})}function z(e,t){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>j(e,n.confirm(t))}})).apply(this,arguments)}class q{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return j(V(this.auth),this.resolver.resolveSignIn(e))}}class ${constructor(e){this._delegate=e,this.multiFactor=s.ao(e)}static getOrCreate(e){return $.USER_MAP.has(e)||$.USER_MAP.set(e,new $(e)),$.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return j(t.auth,s.Z(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return z(n.auth,s.l(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return j(t.auth,s.d(t._delegate,e,F))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield N(s.aE(t.auth)),s.g(t._delegate,e,F)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return j(t.auth,s._(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return z(this.auth,s.r(this._delegate,e,t))}reauthenticateWithPopup(e){return j(this.auth,s.e(this._delegate,e,F))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield N(s.aE(t.auth)),s.h(t._delegate,e,F)})()}sendEmailVerification(e){return s.ab(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield s.ak(t._delegate,e),t})()}updateEmail(e){return s.ag(this._delegate,e)}updatePassword(e){return s.ah(this._delegate,e)}updatePhoneNumber(e){return s.u(this._delegate,e)}updateProfile(e){return s.af(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return s.ac(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$.USER_MAP=new WeakMap;const G=s.ax;let H=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;G(n,"invalid-api-key",{appName:e.name}),G(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?F:void 0;this._delegate=t.initialize({options:{persistence:K(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(s.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){s.G(this._delegate,e,t)}applyActionCode(e){return s.a2(this._delegate,e)}checkActionCode(e){return s.a3(this._delegate,e)}confirmPasswordReset(e,t){return s.a1(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return j(n._delegate,s.a5(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return s.aa(this._delegate,e)}isSignInWithEmailLink(e){return s.a8(this._delegate,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){G(x(),e._delegate,"operation-not-supported-in-this-environment");const t=yield s.j(e._delegate,F);return t?j(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){(0,s.aE)(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=W(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=W(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return s.a7(this._delegate,e,t)}sendPasswordResetEmail(e,t){return s.a0(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){P(Object.values(R).includes(t),e,"invalid-persistence-type"),(0,o.b$)()?P(t!==R.SESSION,e,"unsupported-persistence-type"):(0,o.UG)()?P(t===R.NONE,e,"unsupported-persistence-type"):I()?P(t===R.NONE||t===R.LOCAL&&(0,o.hl)(),e,"unsupported-persistence-type"):P(t===R.NONE||T(),e,"unsupported-persistence-type")}(t._delegate,e),e){case R.SESSION:n=s.a;break;case R.LOCAL:n=(yield s.ay(s.i)._isAvailable())?s.i:s.b;break;case R.NONE:n=s.L;break;default:return s.at("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return j(this._delegate,s.X(this._delegate))}signInWithCredential(e){return j(this._delegate,s.Y(this._delegate,e))}signInWithCustomToken(e){return j(this._delegate,s.$(this._delegate,e))}signInWithEmailAndPassword(e,t){return j(this._delegate,s.a6(this._delegate,e,t))}signInWithEmailLink(e,t){return j(this._delegate,s.a9(this._delegate,e,t))}signInWithPhoneNumber(e,t){return z(this._delegate,s.s(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return G(x(),t._delegate,"operation-not-supported-in-this-environment"),j(t._delegate,s.c(t._delegate,e,F))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return G(x(),t._delegate,"operation-not-supported-in-this-environment"),yield N(t._delegate),s.f(t._delegate,e,F)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return s.a4(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=R,e})();function W(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&$.getOrCreate(e)),error:t,complete:n}}function K(e,t){const n=function(e,t){const n=L();if(!n)return[];const r=s.az(O,e,t);switch(n.getItem(r)){case R.NONE:return[s.L];case R.LOCAL:return[s.i,s.a];case R.SESSION:return[s.a];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(s.i)||n.push(s.i),"undefined"!=typeof window)for(const r of[s.b,s.a])n.includes(r)||n.push(r);return n.includes(s.L)||n.push(s.L),n}class Z{constructor(){this.providerId="phone",this._delegate=new s.P(V(i.Z.auth()))}static credential(e,t){return s.P.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Z.PHONE_SIGN_IN_METHOD=s.P.PHONE_SIGN_IN_METHOD,Z.PROVIDER_ID=s.P.PROVIDER_ID;const Y=s.ax;var Q;(Q=i.Z).INTERNAL.registerComponent(new a.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new H(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.A.EMAIL_SIGNIN,PASSWORD_RESET:s.A.PASSWORD_RESET,RECOVER_EMAIL:s.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.A.VERIFY_EMAIL}},EmailAuthProvider:s.M,FacebookAuthProvider:s.N,GithubAuthProvider:s.T,GoogleAuthProvider:s.Q,OAuthProvider:s.U,SAMLAuthProvider:s.V,PhoneAuthProvider:Z,PhoneMultiFactorGenerator:s.m,RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;Y(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new s.R(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:s.W,Auth:H,AuthCredential:s.H,Error:o.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.2.18")},6508:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>m,X3:()=>f});var r=n(6304);let i,s;const o=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(d(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=function(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),d(o.get(this))}:function(...e){return d(t.apply(p(this),e))}:function(e,...n){const r=t.call(p(this),e,...n);return l.set(r,e.sort?e.sort():[e]),d(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});a.set(e,t)}(e),n=e,(i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(e,h):e);var t,n}(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const p=e=>u.get(e);function f(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=d(o);return r&&o.addEventListener("upgradeneeded",e=>{r(d(o.result),e.oldVersion,e.newVersion,d(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function m(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),d(n).then(()=>{})}const g=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],v=new Map;function _(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(v.get(t))return v.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=y.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!g.includes(n))return;const o=function(){var e=(0,r.Z)(function*(e,...t){const r=this.transaction(e,s?"readwrite":"readonly");let o=r.store;return i&&(o=o.index(t.shift())),(yield Promise.all([o[n](...t),s&&r.done]))[0]});return function(t){return e.apply(this,arguments)}}();return v.set(t,o),o}var b;b=h,h={...b,get:(e,t,n)=>_(e,t)||b.get(e,t,n),has:(e,t)=>!!_(e,t)||b.has(e,t)}},5693:(e,t,n)=>{"use strict";n.d(t,{X:()=>Ge,n:()=>$e});var r=n(8583);function i(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function s(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach(function(n){void 0===e[n]?e[n]=t[n]:i(t[n])&&i(e[n])&&Object.keys(t[n]).length>0&&s(e[n],t[n])})}var o={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){var e="undefined"!=typeof document?document:{};return s(e,o),e}var l={document:o,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function c(){var e="undefined"!=typeof window?window:{};return s(e,l),e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e,t,n){return(p=d()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i}).apply(null,arguments)}function f(e){var t="function"==typeof Map?new Map:void 0;return(f=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return p(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)})(e)}var m=function(e){var t,n;function r(t){var n,r,i;return r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=e.call.apply(e,[this].concat(t))||this),i=r.__proto__,Object.defineProperty(r,"__proto__",{get:function(){return i},set:function(e){i.__proto__=e}}),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(f(Array));function g(e){void 0===e&&(e=[]);var t=[];return e.forEach(function(e){Array.isArray(e)?t.push.apply(t,g(e)):t.push(e)}),t}function y(e,t){return Array.prototype.filter.call(e,t)}function v(e,t){var n=c(),r=a(),i=[];if(!t&&e instanceof m)return e;if(!e)return new m(i);if("string"==typeof e){var s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var o="div";0===s.indexOf("<li")&&(o="ul"),0===s.indexOf("<tr")&&(o="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(o="tr"),0===s.indexOf("<tbody")&&(o="table"),0===s.indexOf("<option")&&(o="select");var l=r.createElement(o);l.innerHTML=s;for(var u=0;u<l.childNodes.length;u+=1)i.push(l.childNodes[u])}else i=function(e,t){if("string"!=typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof m)return e;i=e}return new m(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}v.fn=m.prototype;var _="resize scroll".split(" ");function b(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0===n[0]){for(var i=0;i<this.length;i+=1)_.indexOf(e)<0&&(e in this[i]?this[i][e]():v(this[i]).trigger(e));return this}return this.on.apply(this,[e].concat(n))}}b("click"),b("blur"),b("focus"),b("focusin"),b("focusout"),b("keyup"),b("keydown"),b("keypress"),b("submit"),b("change"),b("mousedown"),b("mousemove"),b("mouseup"),b("mouseenter"),b("mouseleave"),b("mouseout"),b("mouseover"),b("touchstart"),b("touchend"),b("touchmove"),b("resize"),b("scroll");var w={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=g(t.map(function(e){return e.split(" ")}));return this.forEach(function(e){var t;(t=e.classList).add.apply(t,r)}),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=g(t.map(function(e){return e.split(" ")}));return this.forEach(function(e){var t;(t=e.classList).remove.apply(t,r)}),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=g(t.map(function(e){return e.split(" ")}));return y(this,function(e){return r.filter(function(t){return e.classList.contains(t)}).length>0}).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=g(t.map(function(e){return e.split(" ")}));this.forEach(function(e){r.forEach(function(t){e.classList.toggle(t)})})},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],s=t[2],o=t[3];function a(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),v(t).is(i))s.apply(t,n);else for(var r=v(t).parents(),o=0;o<r.length;o+=1)v(r[o]).is(i)&&s.apply(r[o],n)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),s.apply(this,t)}"function"==typeof t[1]&&(r=t[0],s=t[1],o=t[2],i=void 0),o||(o=!1);for(var c,u=r.split(" "),h=0;h<this.length;h+=1){var d=this[h];if(i)for(c=0;c<u.length;c+=1){var p=u[c];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[p]||(d.dom7LiveListeners[p]=[]),d.dom7LiveListeners[p].push({listener:s,proxyListener:a}),d.addEventListener(p,a,o)}else for(c=0;c<u.length;c+=1){var f=u[c];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[f]||(d.dom7Listeners[f]=[]),d.dom7Listeners[f].push({listener:s,proxyListener:l}),d.addEventListener(f,l,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],s=t[2],o=t[3];"function"==typeof t[1]&&(r=t[0],s=t[1],o=t[2],i=void 0),o||(o=!1);for(var a=r.split(" "),l=0;l<a.length;l+=1)for(var c=a[l],u=0;u<this.length;u+=1){var h=this[u],d=void 0;if(!i&&h.dom7Listeners?d=h.dom7Listeners[c]:i&&h.dom7LiveListeners&&(d=h.dom7LiveListeners[c]),d&&d.length)for(var p=d.length-1;p>=0;p-=1){var f=d[p];s&&f.listener===s||s&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===s?(h.removeEventListener(c,f.proxyListener,o),d.splice(p,1)):s||(h.removeEventListener(c,f.proxyListener,o),d.splice(p,1))}}return this},trigger:function(){for(var e=c(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].split(" "),s=n[1],o=0;o<i.length;o+=1)for(var a=i[o],l=0;l<this.length;l+=1){var u=this[l];if(e.CustomEvent){var h=new e.CustomEvent(a,{detail:s,bubbles:!0,cancelable:!0});u.dom7EventData=n.filter(function(e,t){return t>0}),u.dispatchEvent(h),u.dom7EventData=[],delete u.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))}),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=c();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=c(),t=a(),n=this[0],r=n.getBoundingClientRect(),i=t.body;return{top:r.top+(n===e?e.scrollY:n.scrollTop)-(n.clientTop||i.clientTop||0),left:r.left+(n===e?e.scrollX:n.scrollLeft)-(n.clientLeft||i.clientLeft||0)}}return null},css:function(e,t){var n,r=c();if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(function(t,n){e.apply(t,[t,n])}),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=c(),i=a(),s=this[0];if(!s||void 0===e)return!1;if("string"==typeof e){if(s.matches)return s.matches(e);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(e);if(s.msMatchesSelector)return s.msMatchesSelector(e);for(t=v(e),n=0;n<t.length;n+=1)if(t[n]===s)return!0;return!1}if(e===i)return s===i;if(e===r)return s===r;if(e.nodeType||e instanceof m){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===s)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return v([]);if(e<0){var n=t+e;return v(n<0?[]:[this[n]])}return v([this[e]])},append:function(){for(var e,t=a(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"==typeof e){var i=t.createElement("div");for(i.innerHTML=e;i.firstChild;)this[r].appendChild(i.firstChild)}else if(e instanceof m)for(var s=0;s<e.length;s+=1)this[r].appendChild(e[s]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=a();for(t=0;t<this.length;t+=1)if("string"==typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof m)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&v(this[0].nextElementSibling).is(e)?v([this[0].nextElementSibling]):v([]):v(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):v([])},nextAll:function(e){var t=[],n=this[0];if(!n)return v([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?v(r).is(e)&&t.push(r):t.push(r),n=r}return v(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&v(t.previousElementSibling).is(e)?v([t.previousElementSibling]):v([]):v(t.previousElementSibling?[t.previousElementSibling]:[])}return v([])},prevAll:function(e){var t=[],n=this[0];if(!n)return v([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?v(r).is(e)&&t.push(r):t.push(r),n=r}return v(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?v(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return v(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?v(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return v(t)},closest:function(e){var t=this;return void 0===e?v([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return v(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e&&!v(r[i]).is(e)||t.push(r[i]);return v(t)},filter:function(e){return v(y(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(w).forEach(function(e){Object.defineProperty(v.fn,e,{value:w[e],writable:!0})});const E=v;function C(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function S(){return Date.now()}function T(e,t){void 0===t&&(t="x");var n,r,i,s=c(),o=function(e){var t,n=c();return n.getComputedStyle&&(t=n.getComputedStyle(e,null)),!t&&e.currentStyle&&(t=e.currentStyle),t||(t=e.style),t}(e);return s.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),i=new s.WebKitCSSMatrix("none"===r?"":r)):n=(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=s.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=s.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function I(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function x(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function k(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(null!=r&&!x(r))for(var i=Object.keys(Object(r)).filter(function(e){return t.indexOf(e)<0}),s=0,o=i.length;s<o;s+=1){var a=i[s],l=Object.getOwnPropertyDescriptor(r,a);void 0!==l&&l.enumerable&&(I(e[a])&&I(r[a])?r[a].__swiper__?e[a]=r[a]:k(e[a],r[a]):!I(e[a])&&I(r[a])?(e[a]={},r[a].__swiper__?e[a]=r[a]:k(e[a],r[a])):e[a]=r[a])}}return e}function A(e,t){Object.keys(t).forEach(function(n){I(t[n])&&Object.keys(t[n]).forEach(function(r){"function"==typeof t[n][r]&&(t[n][r]=t[n][r].bind(e))}),e[n]=t[n]})}function R(e){return void 0===e&&(e=""),"."+e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}function P(e,t,n,r){var i=a();return n&&Object.keys(r).forEach(function(n){if(!t[n]&&!0===t.auto){var s=i.createElement("div");s.className=r[n],e.append(s),t[n]=s}}),t}var O,N,D;function L(){return O||(O=function(){var e=c(),t=a();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(r){}return t}(),gestures:"ongesturestart"in e}}()),O}function M(e){return void 0===e&&(e={}),N||(N=function(e){var t=(void 0===e?{}:e).userAgent,n=L(),r=c(),i=r.navigator.platform,s=t||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/),h=s.match(/(iPad).*OS\s([\d_]+)/),d=s.match(/(iPod)(.*OS\s([\d_]+))?/),p=!h&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===i,m="MacIntel"===i;return!h&&m&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(a+"x"+l)>=0&&((h=s.match(/(Version)\/([\d.]+)/))||(h=[0,1,"13_0_0"]),m=!1),u&&!f&&(o.os="android",o.android=!0),(h||p||d)&&(o.os="ios",o.ios=!0),o}(e)),N}function F(){return D||(D=function(){var e,t=c();return{isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),D}const V={name:"resize",create:function(){var e=this;k(e,{resize:{observer:null,createObserver:function(){e&&!e.destroyed&&e.initialized&&(e.resize.observer=new ResizeObserver(function(t){var n=e.width,r=e.height,i=n,s=r;t.forEach(function(t){var n=t.contentBoxSize,r=t.contentRect,o=t.target;o&&o!==e.el||(i=r?r.width:(n[0]||n).inlineSize,s=r?r.height:(n[0]||n).blockSize)}),i===n&&s===r||e.resize.resizeHandler()}),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=c();e.params.resizeObserver&&void 0!==c().ResizeObserver?e.resize.createObserver():(t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var t=c();e.resize.removeObserver(),t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}};function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j={attach:function(e,t){void 0===t&&(t={});var n=c(),r=this,i=new(n.MutationObserver||n.WebkitMutationObserver)(function(e){if(1!==e.length){var t=function(){r.emit("observerUpdate",e[0])};n.requestAnimationFrame?n.requestAnimationFrame(t):n.setTimeout(t,0)}else r.emit("observerUpdate",e[0])});i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),r.observer.observers.push(i)},init:function(){var e=this;if(e.support.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),n=0;n<t.length;n+=1)e.observer.attach(t[n]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}};const z={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){A(this,{observer:U({},j,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}};function B(e){var t=this,n=a(),r=c(),i=t.touchEventsData,s=t.params,o=t.touches;if(t.enabled&&(!t.animating||!s.preventInteractionOnTransition)){var l=e;l.originalEvent&&(l=l.originalEvent);var u=E(l.target);if(("wrapper"!==s.touchEventsTarget||u.closest(t.wrapperEl).length)&&(i.isTouchEvent="touchstart"===l.type,(i.isTouchEvent||!("which"in l)||3!==l.which)&&!(!i.isTouchEvent&&"button"in l&&l.button>0||i.isTouched&&i.isMoved))){s.noSwipingClass&&""!==s.noSwipingClass&&l.target&&l.target.shadowRoot&&e.path&&e.path[0]&&(u=E(e.path[0]));var h=s.noSwipingSelector?s.noSwipingSelector:"."+s.noSwipingClass;if(s.noSwiping&&(l.target&&l.target.shadowRoot?function(e,t){return void 0===t&&(t=this),function t(n){return n&&n!==a()&&n!==c()?(n.assignedSlot&&(n=n.assignedSlot),n.closest(e)||t(n.getRootNode().host)):null}(t)}(h,l.target):u.closest(h)[0]))t.allowClick=!0;else if(!s.swipeHandler||u.closest(s.swipeHandler)[0]){o.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,o.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;var d=o.currentX,p=o.currentY,f=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,m=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(f&&(d<=m||d>=r.innerWidth-m)){if("prevent"!==f)return;e.preventDefault()}if(k(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=d,o.startY=p,i.touchStartTime=S(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==l.type){var g=!0;u.is(i.focusableElements)&&(g=!1),n.activeElement&&E(n.activeElement).is(i.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur(),!s.touchStartForcePreventDefault&&!(g&&t.allowTouchMove&&s.touchStartPreventDefault)||u[0].isContentEditable||l.preventDefault()}t.emit("touchStart",l)}}}}function q(e){var t=a(),n=this,r=n.touchEventsData,i=n.params,s=n.touches,o=n.rtlTranslate;if(n.enabled){var l=e;if(l.originalEvent&&(l=l.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===l.type){var c="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u="touchmove"===l.type?c.pageX:l.pageX,h="touchmove"===l.type?c.pageY:l.pageY;if(l.preventedByNestedSwiper)return s.startX=u,void(s.startY=h);if(!n.allowTouchMove)return n.allowClick=!1,void(r.isTouched&&(k(s,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=S()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&E(l.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",l),!(l.targetTouches&&l.targetTouches.length>1)){s.currentX=u,s.currentY=h;var d,p=s.currentX-s.startX,f=s.currentY-s.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(p,2)+Math.pow(f,2))<n.params.threshold))if(void 0===r.isScrolling&&(n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:p*p+f*f>=25&&(d=180*Math.atan2(Math.abs(f),Math.abs(p))/Math.PI,r.isScrolling=n.isHorizontal()?d>i.touchAngle:90-d>i.touchAngle)),r.isScrolling&&n.emit("touchMoveOpposite",l),void 0===r.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation(),r.isMoved||(i.loop&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;var m=n.isHorizontal()?p:f;s.diff=m,m*=i.touchRatio,o&&(m=-m),n.swipeDirection=m>0?"prev":"next",r.currentTranslate=m+r.startTranslate;var g=!0,y=i.resistanceRatio;if(i.touchReleaseOnEdges&&(y=0),m>0&&r.currentTranslate>n.minTranslate()?(g=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+m,y))):m<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-m,y))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(m)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,void(s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}i.followFinger&&!i.cssMode&&((i.freeMode||i.watchSlidesProgress||i.watchSlidesVisibility)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&(0===r.velocities.length&&r.velocities.push({position:s[n.isHorizontal()?"startX":"startY"],time:r.touchStartTime}),r.velocities.push({position:s[n.isHorizontal()?"currentX":"currentY"],time:S()})),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l)}}function $(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,s=t.rtlTranslate,o=t.$wrapperEl,a=t.slidesGrid,l=t.snapGrid;if(t.enabled){var c=e;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var u,h=S(),d=h-n.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(c),t.emit("tap click",c),d<300&&h-n.lastClickTime<300&&t.emit("doubleTap doubleClick",c)),n.lastClickTime=S(),C(function(){t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=r.followFinger?s?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(r.freeMode){if(u<-t.minTranslate())return void t.slideTo(t.activeIndex);if(u>-t.maxTranslate())return void t.slideTo(t.slides.length<l.length?l.length-1:t.slides.length-1);if(r.freeModeMomentum){if(n.velocities.length>1){var p=n.velocities.pop(),f=n.velocities.pop(),m=p.time-f.time;t.velocity=(p.position-f.position)/m,t.velocity/=2,Math.abs(t.velocity)<r.freeModeMinimumVelocity&&(t.velocity=0),(m>150||S()-p.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var g=1e3*r.freeModeMomentumRatio,y=t.translate+t.velocity*g;s&&(y=-y);var v,_,b=!1,w=20*Math.abs(t.velocity)*r.freeModeMomentumBounceRatio;if(y<t.maxTranslate())r.freeModeMomentumBounce?(y+t.maxTranslate()<-w&&(y=t.maxTranslate()-w),v=t.maxTranslate(),b=!0,n.allowMomentumBounce=!0):y=t.maxTranslate(),r.loop&&r.centeredSlides&&(_=!0);else if(y>t.minTranslate())r.freeModeMomentumBounce?(y-t.minTranslate()>w&&(y=t.minTranslate()+w),v=t.minTranslate(),b=!0,n.allowMomentumBounce=!0):y=t.minTranslate(),r.loop&&r.centeredSlides&&(_=!0);else if(r.freeModeSticky){for(var E,T=0;T<l.length;T+=1)if(l[T]>-y){E=T;break}y=-(y=Math.abs(l[E]-y)<Math.abs(l[E-1]-y)||"next"===t.swipeDirection?l[E]:l[E-1])}if(_&&t.once("transitionEnd",function(){t.loopFix()}),0!==t.velocity){if(g=s?Math.abs((-y-t.translate)/t.velocity):Math.abs((y-t.translate)/t.velocity),r.freeModeSticky){var I=Math.abs((s?-y:y)-t.translate),x=t.slidesSizesGrid[t.activeIndex];g=I<x?r.speed:I<2*x?1.5*r.speed:2.5*r.speed}}else if(r.freeModeSticky)return void t.slideToClosest();r.freeModeMomentumBounce&&b?(t.updateProgress(v),t.setTransition(g),t.setTranslate(y),t.transitionStart(!0,t.swipeDirection),t.animating=!0,o.transitionEnd(function(){t&&!t.destroyed&&n.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(r.speed),setTimeout(function(){t.setTranslate(v),o.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()})},0))})):t.velocity?(t.updateProgress(y),t.setTransition(g),t.setTranslate(y),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,o.transitionEnd(function(){t&&!t.destroyed&&t.transitionEnd()}))):(t.emit("_freeModeNoMomentumRelease"),t.updateProgress(y)),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(r.freeModeSticky)return void t.slideToClosest();r.freeMode&&t.emit("_freeModeNoMomentumRelease")}(!r.freeModeMomentum||d>=r.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var k=0,A=t.slidesSizesGrid[0],R=0;R<a.length;R+=R<r.slidesPerGroupSkip?1:r.slidesPerGroup){var P=R<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==a[R+P]?u>=a[R]&&u<a[R+P]&&(k=R,A=a[R+P]-a[R]):u>=a[R]&&(k=R,A=a[a.length-1]-a[a.length-2])}var O=(u-a[k])/A,N=k<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(O>=r.longSwipesRatio?k+N:k),"prev"===t.swipeDirection&&t.slideTo(O>1-r.longSwipesRatio?k+N:k)}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||c.target!==t.navigation.nextEl&&c.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(k+N),"prev"===t.swipeDirection&&t.slideTo(k)):t.slideTo(c.target===t.navigation.nextEl?k+N:k)}}}}function G(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,s=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),e.slideTo(("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slides.length-1:e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}}function H(e){var t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function W(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;if(e.enabled){e.previousTranslate=e.translate,e.translate=e.isHorizontal()?n?t.scrollWidth-t.offsetWidth-t.scrollLeft:-t.scrollLeft:-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}}var K=!1;function Z(){}const Y={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach(function(n){var r=t.modules[n];r.params&&k(e,r.params)})},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach(function(n){var r=t.modules[n],i=e[n]||{};r.on&&t.on&&Object.keys(r.on).forEach(function(e){t.on(e,r.on[e])}),r.create&&r.create.bind(t)(i)})}},eventsEmitter:{on:function(e,t,n){var r=this;if("function"!=typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach(function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)}),r},once:function(e,t,n){var r=this;if("function"!=typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];t.apply(r,s)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if("function"!=typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach(function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)})}),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners)return r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];"string"==typeof s[0]||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),n=r):(e=s[0].events,t=s[0].data,n=s[0].context||r),t.unshift(n);var a=Array.isArray(e)?e:e.split(" ");return a.forEach(function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(function(r){r.apply(n,[e].concat(t))}),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach(function(e){e.apply(n,t)})}),r}},update:{updateSize:function(){var e,t,n=this,r=n.$el;t=null!=n.params.height?n.params.height:r[0].clientHeight,0===(e=null!=n.params.width?n.params.width:r[0].clientWidth)&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),k(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}var r=e.params,i=e.$wrapperEl,s=e.size,o=e.rtlTranslate,a=e.wrongRTL,l=e.virtual&&r.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,u=i.children("."+e.params.slideClass),h=l?e.virtual.slides.length:u.length,d=[],p=[],f=[],m=r.slidesOffsetBefore;"function"==typeof m&&(m=r.slidesOffsetBefore.call(e));var g=r.slidesOffsetAfter;"function"==typeof g&&(g=r.slidesOffsetAfter.call(e));var y=e.snapGrid.length,v=e.slidesGrid.length,_=r.spaceBetween,b=-m,w=0,E=0;if(void 0!==s){var C,S;"string"==typeof _&&_.indexOf("%")>=0&&(_=parseFloat(_.replace("%",""))/100*s),e.virtualSize=-_,u.css(o?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),r.slidesPerColumn>1&&(C=Math.floor(h/r.slidesPerColumn)===h/e.params.slidesPerColumn?h:Math.ceil(h/r.slidesPerColumn)*r.slidesPerColumn,"auto"!==r.slidesPerView&&"row"===r.slidesPerColumnFill&&(C=Math.max(C,r.slidesPerView*r.slidesPerColumn)));for(var T,I,x,A=r.slidesPerColumn,R=C/A,P=Math.floor(h/r.slidesPerColumn),O=0;O<h;O+=1){S=0;var N=u.eq(O);if(r.slidesPerColumn>1){var D=void 0,L=void 0,M=void 0;if("row"===r.slidesPerColumnFill&&r.slidesPerGroup>1){var F=Math.floor(O/(r.slidesPerGroup*r.slidesPerColumn)),V=O-r.slidesPerColumn*r.slidesPerGroup*F,U=0===F?r.slidesPerGroup:Math.min(Math.ceil((h-F*A*r.slidesPerGroup)/A),r.slidesPerGroup);M=Math.floor(V/U),N.css({"-webkit-box-ordinal-group":D=(L=V-M*U+F*r.slidesPerGroup)+M*C/A,"-moz-box-ordinal-group":D,"-ms-flex-order":D,"-webkit-order":D,order:D})}else"column"===r.slidesPerColumnFill?(M=O-(L=Math.floor(O/A))*A,(L>P||L===P&&M===A-1)&&(M+=1)>=A&&(M=0,L+=1)):L=O-(M=Math.floor(O/R))*R;N.css(t("margin-top"),0!==M?r.spaceBetween&&r.spaceBetween+"px":"")}if("none"!==N.css("display")){if("auto"===r.slidesPerView){var j=getComputedStyle(N[0]),z=N[0].style.transform,B=N[0].style.webkitTransform;if(z&&(N[0].style.transform="none"),B&&(N[0].style.webkitTransform="none"),r.roundLengths)S=e.isHorizontal()?N.outerWidth(!0):N.outerHeight(!0);else{var q=n(j,"width"),$=n(j,"padding-left"),G=n(j,"padding-right"),H=n(j,"margin-left"),W=n(j,"margin-right"),K=j.getPropertyValue("box-sizing");if(K&&"border-box"===K)S=q+H+W;else{var Z=N[0];S=q+$+G+H+W+(Z.offsetWidth-Z.clientWidth)}}z&&(N[0].style.transform=z),B&&(N[0].style.webkitTransform=B),r.roundLengths&&(S=Math.floor(S))}else S=(s-(r.slidesPerView-1)*_)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),u[O]&&(u[O].style[t("width")]=S+"px");u[O]&&(u[O].swiperSlideSize=S),f.push(S),r.centeredSlides?(b=b+S/2+w/2+_,0===w&&0!==O&&(b=b-s/2-_),0===O&&(b=b-s/2-_),Math.abs(b)<.001&&(b=0),r.roundLengths&&(b=Math.floor(b)),E%r.slidesPerGroup==0&&d.push(b),p.push(b)):(r.roundLengths&&(b=Math.floor(b)),(E-Math.min(e.params.slidesPerGroupSkip,E))%e.params.slidesPerGroup==0&&d.push(b),p.push(b),b=b+S+_),e.virtualSize+=S+_,w=S,E+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+g,o&&a&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:e.virtualSize+r.spaceBetween+"px"}),r.setWrapperSize&&i.css(((I={})[t("width")]=e.virtualSize+r.spaceBetween+"px",I)),r.slidesPerColumn>1&&(e.virtualSize=(S+r.spaceBetween)*C,e.virtualSize=Math.ceil(e.virtualSize/r.slidesPerColumn)-r.spaceBetween,i.css(((x={})[t("width")]=e.virtualSize+r.spaceBetween+"px",x)),r.centeredSlides)){T=[];for(var Y=0;Y<d.length;Y+=1){var Q=d[Y];r.roundLengths&&(Q=Math.floor(Q)),d[Y]<e.virtualSize+d[0]&&T.push(Q)}d=T}if(!r.centeredSlides){T=[];for(var X=0;X<d.length;X+=1){var J=d[X];r.roundLengths&&(J=Math.floor(J)),d[X]<=e.virtualSize-s&&T.push(J)}d=T,Math.floor(e.virtualSize-s)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-s)}if(0===d.length&&(d=[0]),0!==r.spaceBetween){var ee,te=e.isHorizontal()&&o?"marginLeft":t("marginRight");u.filter(function(e,t){return!r.cssMode||t!==u.length-1}).css(((ee={})[te]=_+"px",ee))}if(r.centeredSlides&&r.centeredSlidesBounds){var ne=0;f.forEach(function(e){ne+=e+(r.spaceBetween?r.spaceBetween:0)});var re=(ne-=r.spaceBetween)-s;d=d.map(function(e){return e<0?-m:e>re?re+g:e})}if(r.centerInsufficientSlides){var ie=0;if(f.forEach(function(e){ie+=e+(r.spaceBetween?r.spaceBetween:0)}),(ie-=r.spaceBetween)<s){var se=(s-ie)/2;d.forEach(function(e,t){d[t]=e-se}),p.forEach(function(e,t){p[t]=e+se})}}k(e,{slides:u,snapGrid:d,slidesGrid:p,slidesSizesGrid:f}),h!==c&&e.emit("slidesLengthChange"),d.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==v&&e.emit("slidesGridLengthChange"),(r.watchSlidesProgress||r.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,s=0;"number"==typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed);var o=function(e){return i?n.slides.filter(function(t){return parseInt(t.getAttribute("data-swiper-slide-index"),10)===e})[0]:n.slides.eq(e)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each(function(e){r.push(e)});else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var a=n.activeIndex+t;if(a>n.slides.length&&!i)break;r.push(o(a))}else r.push(o(n.activeIndex));for(t=0;t<r.length;t+=1)if(void 0!==r[t]){var l=r[t].offsetHeight;s=l>s?l:s}s&&n.$wrapperEl.css("height",s+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,r=t.slides,i=t.rtlTranslate;if(0!==r.length){void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();var s=-e;i&&(s=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var o=0;o<r.length;o+=1){var a=r[o],l=(s+(n.centeredSlides?t.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight){var c=-(s-a.swiperSlideOffset),u=c+t.slidesSizesGrid[o];(c>=0&&c<t.size-1||u>1&&u<=t.size||c<=0&&u>=t.size)&&(t.visibleSlides.push(a),t.visibleSlidesIndexes.push(o),r.eq(o).addClass(n.slideVisibleClass))}a.progress=i?-l:l}t.visibleSlides=E(t.visibleSlides)}},updateProgress:function(e){var t=this;void 0===e&&(e=t&&t.translate&&t.translate*(t.rtlTranslate?-1:1)||0);var n=t.params,r=t.maxTranslate()-t.minTranslate(),i=t.progress,s=t.isBeginning,o=t.isEnd,a=s,l=o;0===r?(i=0,s=!0,o=!0):(s=(i=(e-t.minTranslate())/r)<=0,o=i>=1),k(t,{progress:i,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!a&&t.emit("reachBeginning toEdge"),o&&!l&&t.emit("reachEnd toEdge"),(a&&!s||l&&!o)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.$wrapperEl,s=t.activeIndex,o=t.realIndex,a=t.virtual&&r.virtual.enabled;n.removeClass(r.slideActiveClass+" "+r.slideNextClass+" "+r.slidePrevClass+" "+r.slideDuplicateActiveClass+" "+r.slideDuplicateNextClass+" "+r.slideDuplicatePrevClass),(e=a?t.$wrapperEl.find("."+r.slideClass+'[data-swiper-slide-index="'+s+'"]'):n.eq(s)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+o+'"]').addClass(r.slideDuplicateActiveClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+o+'"]').addClass(r.slideDuplicateActiveClass));var l=e.nextAll("."+r.slideClass).eq(0).addClass(r.slideNextClass);r.loop&&0===l.length&&(l=n.eq(0)).addClass(r.slideNextClass);var c=e.prevAll("."+r.slideClass).eq(0).addClass(r.slidePrevClass);r.loop&&0===c.length&&(c=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(l.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicateNextClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicatePrevClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,s=n.snapGrid,o=n.params,a=n.activeIndex,l=n.realIndex,c=n.snapIndex,u=e;if(void 0===u){for(var h=0;h<i.length;h+=1)void 0!==i[h+1]?r>=i[h]&&r<i[h+1]-(i[h+1]-i[h])/2?u=h:r>=i[h]&&r<i[h+1]&&(u=h+1):r>=i[h]&&(u=h);o.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if(s.indexOf(r)>=0)t=s.indexOf(r);else{var d=Math.min(o.slidesPerGroupSkip,u);t=d+Math.floor((u-d)/o.slidesPerGroup)}if(t>=s.length&&(t=s.length-1),u!==a){var p=parseInt(n.slides.eq(u).attr("data-swiper-slide-index")||u,10);k(n,{snapIndex:t,realIndex:p,previousIndex:a,activeIndex:u}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),l!==p&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==c&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t,n=this,r=n.params,i=E(e.target).closest("."+r.slideClass)[0],s=!1;if(i)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){s=!0,t=o;break}if(!i||!s)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.clickedIndex=n.virtual&&n.params.virtual.enabled?parseInt(E(i).attr("data-swiper-slide-index"),10):t,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,r=t.rtlTranslate,i=t.translate;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var s=T(t.$wrapperEl[0],e);return r&&(s=-s),s||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,s=n.$wrapperEl,o=n.wrapperEl,a=n.progress,l=0,c=0;n.isHorizontal()?l=r?-e:e:c=e,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:i.virtualTranslate||s.transform("translate3d("+l+"px, "+c+"px, 0px)"),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;var u=n.maxTranslate()-n.minTranslate();(0===u?0:(e-n.minTranslate())/u)!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var s=this,o=s.params,a=s.wrapperEl;if(s.animating&&o.preventInteractionOnTransition)return!1;var l,c=s.minTranslate(),u=s.maxTranslate();if(s.updateProgress(l=r&&e>c?c:r&&e<u?u:e),o.cssMode){var h,d=s.isHorizontal();return 0===t?a[d?"scrollLeft":"scrollTop"]=-l:a.scrollTo?a.scrollTo(((h={})[d?"left":"top"]=-l,h.behavior="smooth",h)):a[d?"scrollLeft":"scrollTop"]=-l,!0}return 0===t?(s.setTransition(0),s.setTranslate(l),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(l),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,r=n.activeIndex,i=n.params,s=n.previousIndex;if(!i.cssMode){i.autoHeight&&n.updateAutoHeight();var o=t;if(o||(o=r>s?"next":r<s?"prev":"reset"),n.emit("transitionStart"),e&&r!==s){if("reset"===o)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),n.emit("next"===o?"slideNextTransitionStart":"slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,r=n.activeIndex,i=n.previousIndex,s=n.params;if(n.animating=!1,!s.cssMode){n.setTransition(0);var o=t;if(o||(o=r>i?"next":r<i?"prev":"reset"),n.emit("transitionEnd"),e&&r!==i){if("reset"===o)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),n.emit("next"===o?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}}},slide:{slideTo:function(e,t,n,r,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var s=parseInt(e,10);if(!isFinite(s))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=s}var o=this,a=e;a<0&&(a=0);var l=o.params,c=o.snapGrid,u=o.slidesGrid,h=o.previousIndex,d=o.activeIndex,p=o.rtlTranslate,f=o.wrapperEl;if(o.animating&&l.preventInteractionOnTransition||!o.enabled&&!r&&!i)return!1;var m=Math.min(o.params.slidesPerGroupSkip,a),g=m+Math.floor((a-m)/o.params.slidesPerGroup);g>=c.length&&(g=c.length-1),(d||l.initialSlide||0)===(h||0)&&n&&o.emit("beforeSlideChangeStart");var y,v=-c[g];if(o.updateProgress(v),l.normalizeSlideIndex)for(var _=0;_<u.length;_+=1){var b=-Math.floor(100*v),w=Math.floor(100*u[_]),E=Math.floor(100*u[_+1]);void 0!==u[_+1]?b>=w&&b<E-(E-w)/2?a=_:b>=w&&b<E&&(a=_+1):b>=w&&(a=_)}if(o.initialized&&a!==d){if(!o.allowSlideNext&&v<o.translate&&v<o.minTranslate())return!1;if(!o.allowSlidePrev&&v>o.translate&&v>o.maxTranslate()&&(d||0)!==a)return!1}if(y=a>d?"next":a<d?"prev":"reset",p&&-v===o.translate||!p&&v===o.translate)return o.updateActiveIndex(a),l.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==l.effect&&o.setTranslate(v),"reset"!==y&&(o.transitionStart(n,y),o.transitionEnd(n,y)),!1;if(l.cssMode){var C,S=o.isHorizontal(),T=-v;return p&&(T=f.scrollWidth-f.offsetWidth-T),0===t?f[S?"scrollLeft":"scrollTop"]=T:f.scrollTo?f.scrollTo(((C={})[S?"left":"top"]=T,C.behavior="smooth",C)):f[S?"scrollLeft":"scrollTop"]=T,!0}return 0===t?(o.setTransition(0),o.setTranslate(v),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,y),o.transitionEnd(n,y)):(o.setTransition(t),o.setTranslate(v),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,r),o.transitionStart(n,y),o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,y))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0);var i=this,s=e;return i.params.loop&&(s+=i.loopedSlides),i.slideTo(s,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.params;if(!r.enabled)return r;var s=r.activeIndex<i.slidesPerGroupSkip?1:i.slidesPerGroup;if(i.loop){if(r.animating&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return r.slideTo(r.activeIndex+s,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.params,s=r.snapGrid,o=r.slidesGrid,a=r.rtlTranslate;if(!r.enabled)return r;if(i.loop){if(r.animating&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function l(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var c,u=l(a?r.translate:-r.translate),h=s.map(function(e){return l(e)}),d=s[h.indexOf(u)-1];return void 0===d&&i.cssMode&&s.forEach(function(e){!d&&u>=e&&(d=e)}),void 0!==d&&(c=o.indexOf(d))<0&&(c=r.activeIndex-1),r.slideTo(c,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var i=this,s=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){var c=i.snapGrid[a];l-c>(i.snapGrid[a+1]-c)*r&&(s+=i.params.slidesPerGroup)}else{var u=i.snapGrid[a-1];l-u<=(i.snapGrid[a]-u)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,s=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(E(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?s<t.loopedSlides-i/2||s>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),s=r.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),C(function(){t.slideTo(s)})):t.slideTo(s):s>t.slides.length-i?(t.loopFix(),s=r.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),C(function(){t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}},loop:{loopCreate:function(){var e=this,t=a(),n=e.params,r=e.$wrapperEl;r.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var i=r.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var s=n.slidesPerGroup-i.length%n.slidesPerGroup;if(s!==n.slidesPerGroup){for(var o=0;o<s;o+=1){var l=E(t.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);r.append(l)}i=r.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>i.length&&(e.loopedSlides=i.length);var c=[],u=[];i.each(function(t,n){var r=E(t);n<e.loopedSlides&&u.push(t),n<i.length&&n>=i.length-e.loopedSlides&&c.push(t),r.attr("data-swiper-slide-index",n)});for(var h=0;h<u.length;h+=1)r.append(E(u[h].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var d=c.length-1;d>=0;d-=1)r.prepend(E(c[d].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,i=e.loopedSlides,s=e.allowSlidePrev,o=e.allowSlideNext,a=e.snapGrid,l=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-a[n]-e.getTranslate();n<i?(t=r.length-3*i+n,e.slideTo(t+=i,0,!1,!0)&&0!==c&&e.setTranslate((l?-e.translate:e.translate)-c)):n>=r.length-i&&(t=-r.length+n+i,e.slideTo(t+=i,0,!1,!0)&&0!==c&&e.setTranslate((l?-e.translate:e.translate)-c)),e.allowSlidePrev=s,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.params,n=e.slides;e.$wrapperEl.children("."+t.slideClass+"."+t.slideDuplicateClass+",."+t.slideClass+"."+t.slideBlankClass).remove(),n.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n=t.el;n.style.cursor="move",n.style.cursor=e?"-webkit-grabbing":"-webkit-grab",n.style.cursor=e?"-moz-grabbin":"-moz-grab",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.el.style.cursor="")}},manipulation:{appendSlide:function(e){var t=this,n=t.$wrapperEl,r=t.params;if(r.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(var i=0;i<e.length;i+=1)e[i]&&n.append(e[i]);else n.append(e);r.loop&&t.loopCreate(),r.observer&&t.support.observer||t.update()},prependSlide:function(e){var t=this,n=t.params,r=t.$wrapperEl,i=t.activeIndex;n.loop&&t.loopDestroy();var s=i+1;if("object"==typeof e&&"length"in e){for(var o=0;o<e.length;o+=1)e[o]&&r.prepend(e[o]);s=i+e.length}else r.prepend(e);n.loop&&t.loopCreate(),n.observer&&t.support.observer||t.update(),t.slideTo(s,0,!1)},addSlide:function(e,t){var n=this,r=n.$wrapperEl,i=n.params,s=n.activeIndex;i.loop&&(s-=n.loopedSlides,n.loopDestroy(),n.slides=r.children("."+i.slideClass));var o=n.slides.length;if(e<=0)n.prependSlide(t);else if(e>=o)n.appendSlide(t);else{for(var a=s>e?s+1:s,l=[],c=o-1;c>=e;c-=1){var u=n.slides.eq(c);u.remove(),l.unshift(u)}if("object"==typeof t&&"length"in t){for(var h=0;h<t.length;h+=1)t[h]&&r.append(t[h]);a=s>e?s+t.length:s}else r.append(t);for(var d=0;d<l.length;d+=1)r.append(l[d]);i.loop&&n.loopCreate(),i.observer&&n.support.observer||n.update(),n.slideTo(i.loop?a+n.loopedSlides:a,0,!1)}},removeSlide:function(e){var t=this,n=t.params,r=t.$wrapperEl,i=t.activeIndex;n.loop&&(i-=t.loopedSlides,t.loopDestroy(),t.slides=r.children("."+n.slideClass));var s,o=i;if("object"==typeof e&&"length"in e){for(var a=0;a<e.length;a+=1)t.slides[s=e[a]]&&t.slides.eq(s).remove(),s<o&&(o-=1);o=Math.max(o,0)}else t.slides[s=e]&&t.slides.eq(s).remove(),s<o&&(o-=1),o=Math.max(o,0);n.loop&&t.loopCreate(),n.observer&&t.support.observer||t.update(),t.slideTo(n.loop?o+t.loopedSlides:o,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function(){var e=this,t=a(),n=e.params,r=e.touchEvents,i=e.el,s=e.wrapperEl,o=e.device,l=e.support;e.onTouchStart=B.bind(e),e.onTouchMove=q.bind(e),e.onTouchEnd=$.bind(e),n.cssMode&&(e.onScroll=W.bind(e)),e.onClick=H.bind(e);var c=!!n.nested;if(!l.touch&&l.pointerEvents)i.addEventListener(r.start,e.onTouchStart,!1),t.addEventListener(r.move,e.onTouchMove,c),t.addEventListener(r.end,e.onTouchEnd,!1);else{if(l.touch){var u=!("touchstart"!==r.start||!l.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};i.addEventListener(r.start,e.onTouchStart,u),i.addEventListener(r.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),i.addEventListener(r.end,e.onTouchEnd,u),r.cancel&&i.addEventListener(r.cancel,e.onTouchEnd,u),K||(t.addEventListener("touchstart",Z),K=!0)}(n.simulateTouch&&!o.ios&&!o.android||n.simulateTouch&&!l.touch&&o.ios)&&(i.addEventListener("mousedown",e.onTouchStart,!1),t.addEventListener("mousemove",e.onTouchMove,c),t.addEventListener("mouseup",e.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&i.addEventListener("click",e.onClick,!0),n.cssMode&&s.addEventListener("scroll",e.onScroll),e.on(n.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",G,!0)},detachEvents:function(){var e=this,t=a(),n=e.params,r=e.touchEvents,i=e.el,s=e.wrapperEl,o=e.device,l=e.support,c=!!n.nested;if(!l.touch&&l.pointerEvents)i.removeEventListener(r.start,e.onTouchStart,!1),t.removeEventListener(r.move,e.onTouchMove,c),t.removeEventListener(r.end,e.onTouchEnd,!1);else{if(l.touch){var u=!("onTouchStart"!==r.start||!l.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};i.removeEventListener(r.start,e.onTouchStart,u),i.removeEventListener(r.move,e.onTouchMove,c),i.removeEventListener(r.end,e.onTouchEnd,u),r.cancel&&i.removeEventListener(r.cancel,e.onTouchEnd,u)}(n.simulateTouch&&!o.ios&&!o.android||n.simulateTouch&&!l.touch&&o.ios)&&(i.removeEventListener("mousedown",e.onTouchStart,!1),t.removeEventListener("mousemove",e.onTouchMove,c),t.removeEventListener("mouseup",e.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&i.removeEventListener("click",e.onClick,!0),n.cssMode&&s.removeEventListener("scroll",e.onScroll),e.off(o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",G)}},breakpoints:{setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,s=e.params,o=e.$el,a=s.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var l=e.getBreakpoint(a,e.params.breakpointsBase,e.el);if(l&&e.currentBreakpoint!==l){var c=l in a?a[l]:void 0;c&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(e){var t=c[e];void 0!==t&&(c[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")});var u=c||e.originalParams,h=s.slidesPerColumn>1,d=u.slidesPerColumn>1,p=s.enabled;h&&!d?(o.removeClass(s.containerModifierClass+"multirow "+s.containerModifierClass+"multirow-column"),e.emitContainerClasses()):!h&&d&&(o.addClass(s.containerModifierClass+"multirow"),(u.slidesPerColumnFill&&"column"===u.slidesPerColumnFill||!u.slidesPerColumnFill&&"column"===s.slidesPerColumnFill)&&o.addClass(s.containerModifierClass+"multirow-column"),e.emitContainerClasses());var f=u.direction&&u.direction!==s.direction,m=s.loop&&(u.slidesPerView!==s.slidesPerView||f);f&&n&&e.changeDirection(),k(e.params,u);var g=e.params.enabled;k(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!g?e.disable():!p&&g&&e.enable(),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",u),m&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",u)}}},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),e&&("container"!==t||n)){var r=!1,i=c(),s="window"===t?i.innerHeight:n.clientHeight,o=Object.keys(e).map(function(e){if("string"==typeof e&&0===e.indexOf("@")){var t=parseFloat(e.substr(1));return{value:s*t,point:e}}return{value:e,point:e}});o.sort(function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)});for(var a=0;a<o.length;a+=1){var l=o[a],u=l.point,h=l.value;"window"===t?i.matchMedia("(min-width: "+h+"px)").matches&&(r=u):h<=n.clientWidth&&(r=u)}return r||"max"}}},checkOverflow:{checkOverflow:function(){var e=this,t=e.params,n=e.isLocked,r=e.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(e.slides.length-1)+e.slides[0].offsetWidth*e.slides.length;e.isLocked=t.slidesOffsetBefore&&t.slidesOffsetAfter&&r?r<=e.size:1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,n!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),n&&n!==e.isLocked&&(e.isEnd=!1,e.navigation&&e.navigation.update())}},classes:{addClasses:function(){var e,t,n=this,r=n.classNames,i=n.params,s=n.$el,o=n.device,a=n.support,l=(e=i.containerModifierClass,t=[],["initialized",i.direction,{"pointer-events":a.pointerEvents&&!a.touch},{"free-mode":i.freeMode},{autoheight:i.autoHeight},{rtl:n.rtl},{multirow:i.slidesPerColumn>1},{"multirow-column":i.slidesPerColumn>1&&"column"===i.slidesPerColumnFill},{android:o.android},{ios:o.ios},{"css-mode":i.cssMode}].forEach(function(n){"object"==typeof n?Object.keys(n).forEach(function(r){n[r]&&t.push(e+r)}):"string"==typeof n&&t.push(e+n)}),t);r.push.apply(r,l),s.addClass([].concat(r).join(" ")),n.emitContainerClasses()},removeClasses:function(){var e=this;e.$el.removeClass(e.classNames.join(" ")),e.emitContainerClasses()}},images:{loadImage:function(e,t,n,r,i,s){var o,a=c();function l(){s&&s()}E(e).parent("picture")[0]||e.complete&&i?l():t?((o=new a.Image).onload=l,o.onerror=l,r&&(o.sizes=r),n&&(o.srcset=n),t&&(o.src=t)):l()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},J={},ee=function(){function e(){for(var t,n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(t=i[0],n=i[1]),n||(n={}),n=k({},n),t&&!n.el&&(n.el=t),n.el&&E(n.el).length>1){var o=[];return E(n.el).each(function(t){var r=k({},n,{el:t});o.push(new e(r))}),o}var a=this;a.__swiper__=!0,a.support=L(),a.device=M({userAgent:n.userAgent}),a.browser=F(),a.eventsListeners={},a.eventsAnyListeners=[],void 0===a.modules&&(a.modules={}),Object.keys(a.modules).forEach(function(e){var t=a.modules[e];if(t.params){var r=Object.keys(t.params)[0],i=t.params[r];if("object"!=typeof i||null===i)return;if(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===n[r]&&(n[r]={auto:!0}),!(r in n)||!("enabled"in i))return;!0===n[r]&&(n[r]={enabled:!0}),"object"!=typeof n[r]||"enabled"in n[r]||(n[r].enabled=!0),n[r]||(n[r]={enabled:!1})}});var l,c,u=k({},Y);return a.useParams(u),a.params=k({},u,J,n),a.originalParams=k({},a.params),a.passedParams=k({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(function(e){a.on(e,a.params.on[e])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=E,k(a,{enabled:a.params.enabled,el:t,classNames:[],slides:E(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===a.params.direction},isVertical:function(){return"vertical"===a.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:(l=["touchstart","touchmove","touchend","touchcancel"],c=["mousedown","mousemove","mouseup"],a.support.pointerEvents&&(c=["pointerdown","pointermove","pointerup"]),a.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},a.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:S(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.useModules(),a.emit("_swiper"),a.params.init&&a.init(),a}var t,n,r=e.prototype;return r.enable=function(){var e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))},r.disable=function(){var e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))},r.setProgress=function(e,t){var n=this;e=Math.min(Math.max(e,0),1);var r=n.minTranslate(),i=n.maxTranslate();n.translateTo((i-r)*e+r,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()},r.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter(function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)});e.emit("_containerClasses",t.join(" "))}},r.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter(function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)}).join(" ")},r.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each(function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)}),e.emit("_slideClasses",t)}},r.slidesPerViewDynamic=function(){var e=this,t=e.slides,n=e.slidesGrid,r=e.size,i=e.activeIndex,s=1;if(e.params.centeredSlides){for(var o,a=t[i].swiperSlideSize,l=i+1;l<t.length;l+=1)t[l]&&!o&&(s+=1,(a+=t[l].swiperSlideSize)>r&&(o=!0));for(var c=i-1;c>=0;c-=1)t[c]&&!o&&(s+=1,(a+=t[c].swiperSlideSize)>r&&(o=!0))}else for(var u=i+1;u<t.length;u+=1)n[u]-n[i]<r&&(s+=1);return s},r.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(r(),e.params.autoHeight&&e.updateAutoHeight()):e.slideTo(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slides.length-1:e.activeIndex,0,!1,!0)||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(t),e.updateActiveIndex(),e.updateSlidesClasses()}},r.changeDirection=function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass(""+n.params.containerModifierClass+r).addClass(""+n.params.containerModifierClass+e),n.emitContainerClasses(),n.params.direction=e,n.slides.each(function(t){"vertical"===e?t.style.width="":t.style.height=""}),n.emit("changeDirection"),t&&n.update()),n},r.mount=function(e){var t=this;if(t.mounted)return!0;var n=E(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;var r=function(){return"."+(t.params.wrapperClass||"").trim().split(" ").join(".")},i=function(){if(e&&e.shadowRoot&&e.shadowRoot.querySelector){var t=E(e.shadowRoot.querySelector(r()));return t.children=function(e){return n.children(e)},t}return n.children(r())}();if(0===i.length&&t.params.createElements){var s=a().createElement("div");i=E(s),s.className=t.params.wrapperClass,n.append(s),n.children("."+t.params.slideClass).each(function(e){i.append(e)})}return k(t,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0},r.init=function(e){var t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.slideTo(t.params.loop?t.params.initialSlide+t.loopedSlides:t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t},r.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n,r=this,i=r.params,s=r.$el,o=r.$wrapperEl,a=r.slides;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),s.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(function(e){r.off(e)}),!1!==e&&(r.$el[0].swiper=null,n=r,Object.keys(n).forEach(function(e){try{n[e]=null}catch(t){}try{delete n[e]}catch(t){}})),r.destroyed=!0),null},e.extendDefaults=function(e){k(J,e)},e.installModule=function(t){e.prototype.modules||(e.prototype.modules={});var n=t.name||Object.keys(e.prototype.modules).length+"_"+S();e.prototype.modules[n]=t},e.use=function(t){return Array.isArray(t)?(t.forEach(function(t){return e.installModule(t)}),e):(e.installModule(t),e)},t=e,(n=[{key:"extendedDefaults",get:function(){return J}},{key:"defaults",get:function(){return Y}}])&&Q(t,n),e}();Object.keys(X).forEach(function(e){Object.keys(X[e]).forEach(function(t){ee.prototype[t]=X[e][t]})}),ee.use([V,z]);const te=ee;function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var re={update:function(e){var t=this,n=t.params,r=n.slidesPerView,i=n.slidesPerGroup,s=n.centeredSlides,o=t.params.virtual,a=o.addSlidesBefore,l=o.addSlidesAfter,c=t.virtual,u=c.from,h=c.to,d=c.slides,p=c.slidesGrid,f=c.renderSlide,m=c.offset;t.updateActiveIndex();var g,y,v,_=t.activeIndex||0;g=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",s?(y=Math.floor(r/2)+i+l,v=Math.floor(r/2)+i+a):(y=r+(i-1)+l,v=i+a);var b=Math.max((_||0)-v,0),w=Math.min((_||0)+y,d.length-1),E=(t.slidesGrid[b]||0)-(t.slidesGrid[0]||0);function C(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(k(t.virtual,{from:b,to:w,offset:E,slidesGrid:t.slidesGrid}),u===b&&h===w&&!e)return t.slidesGrid!==p&&E!==m&&t.slides.css(g,E+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:E,from:b,to:w,slides:function(){for(var e=[],t=b;t<=w;t+=1)e.push(d[t]);return e}()}),void(t.params.virtual.renderExternalUpdate&&C());var S=[],T=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var I=u;I<=h;I+=1)(I<b||I>w)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+I+'"]').remove();for(var x=0;x<d.length;x+=1)x>=b&&x<=w&&(void 0===h||e?T.push(x):(x>h&&T.push(x),x<u&&S.push(x)));T.forEach(function(e){t.$wrapperEl.append(f(d[e],e))}),S.sort(function(e,t){return t-e}).forEach(function(e){t.$wrapperEl.prepend(f(d[e],e))}),t.$wrapperEl.children(".swiper-slide").css(g,E+"px"),C()},renderSlide:function(e,t){var n=this,r=n.params.virtual;if(r.cache&&n.virtual.cache[t])return n.virtual.cache[t];var i=E(r.renderSlide?r.renderSlide.call(n,e,t):'<div class="'+n.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return i.attr("data-swiper-slide-index")||i.attr("data-swiper-slide-index",t),r.cache&&(n.virtual.cache[t]=i),i},appendSlide:function(e){var t=this;if("object"==typeof e&&"length"in e)for(var n=0;n<e.length;n+=1)e[n]&&t.virtual.slides.push(e[n]);else t.virtual.slides.push(e);t.virtual.update(!0)},prependSlide:function(e){var t=this,n=t.activeIndex,r=n+1,i=1;if(Array.isArray(e)){for(var s=0;s<e.length;s+=1)e[s]&&t.virtual.slides.unshift(e[s]);r=n+e.length,i=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var o=t.virtual.cache,a={};Object.keys(o).forEach(function(e){var t=o[e],n=t.attr("data-swiper-slide-index");n&&t.attr("data-swiper-slide-index",parseInt(n,10)+1),a[parseInt(e,10)+i]=t}),t.virtual.cache=a}t.virtual.update(!0),t.slideTo(r,0)},removeSlide:function(e){var t=this;if(null!=e){var n=t.activeIndex;if(Array.isArray(e))for(var r=e.length-1;r>=0;r-=1)t.virtual.slides.splice(e[r],1),t.params.virtual.cache&&delete t.virtual.cache[e[r]],e[r]<n&&(n-=1),n=Math.max(n,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<n&&(n-=1),n=Math.max(n,0);t.virtual.update(!0),t.slideTo(n,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}};const ie={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){A(this,{virtual:ne({},re,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};k(e.params,t),k(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}};function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var oe={handle:function(e){var t=this;if(t.enabled){var n=c(),r=a(),i=t.rtlTranslate,s=e;s.originalEvent&&(s=s.originalEvent);var o=s.keyCode||s.charCode,l=t.params.keyboard.pageUpDown,u=l&&33===o,h=l&&34===o,d=37===o,p=39===o,f=38===o,m=40===o;if(!t.allowSlideNext&&(t.isHorizontal()&&p||t.isVertical()&&m||h))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&d||t.isVertical()&&f||u))return!1;if(!(s.shiftKey||s.altKey||s.ctrlKey||s.metaKey||r.activeElement&&r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(u||h||d||p||f||m)){var g=!1;if(t.$el.parents("."+t.params.slideClass).length>0&&0===t.$el.parents("."+t.params.slideActiveClass).length)return;var y=t.$el,v=y[0].clientWidth,_=y[0].clientHeight,b=n.innerWidth,w=n.innerHeight,E=t.$el.offset();i&&(E.left-=t.$el[0].scrollLeft);for(var C=[[E.left,E.top],[E.left+v,E.top],[E.left,E.top+_],[E.left+v,E.top+_]],S=0;S<C.length;S+=1){var T=C[S];if(T[0]>=0&&T[0]<=b&&T[1]>=0&&T[1]<=w){if(0===T[0]&&0===T[1])continue;g=!0}}if(!g)return}t.isHorizontal()?((u||h||d||p)&&(s.preventDefault?s.preventDefault():s.returnValue=!1),((h||p)&&!i||(u||d)&&i)&&t.slideNext(),((u||d)&&!i||(h||p)&&i)&&t.slidePrev()):((u||h||f||m)&&(s.preventDefault?s.preventDefault():s.returnValue=!1),(h||m)&&t.slideNext(),(u||f)&&t.slidePrev()),t.emit("keyPress",o)}}},enable:function(){var e=this,t=a();e.keyboard.enabled||(E(t).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this,t=a();e.keyboard.enabled&&(E(t).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}};const ae={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){A(this,{keyboard:se({enabled:!1},oe)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}};var le={lastScrollTime:S(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return c().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e=a(),t="onwheel",n=t in e;if(!n){var r=e.createElement("div");r.setAttribute(t,"return;"),n="function"==typeof r.onwheel}return!n&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(n=e.implementation.hasFeature("Events.wheel","3.0")),n}()?"wheel":"mousewheel"},normalize:function(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,i=10*n,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),e.shiftKey&&!r&&(r=i,i=0),(r||i)&&e.deltaMode&&(1===e.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}},handleMouseEnter:function(){this.enabled&&(this.mouseEntered=!0)},handleMouseLeave:function(){this.enabled&&(this.mouseEntered=!1)},handle:function(e){var t=e,n=this;if(n.enabled){var r=n.params.mousewheel;n.params.cssMode&&t.preventDefault();var i=n.$el;if("container"!==n.params.mousewheel.eventsTarget&&(i=E(n.params.mousewheel.eventsTarget)),!n.mouseEntered&&!i[0].contains(t.target)&&!r.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var s=0,o=n.rtlTranslate?-1:1,a=le.normalize(t);if(r.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(a.pixelX)>Math.abs(a.pixelY)))return!0;s=-a.pixelX*o}else{if(!(Math.abs(a.pixelY)>Math.abs(a.pixelX)))return!0;s=-a.pixelY}else s=Math.abs(a.pixelX)>Math.abs(a.pixelY)?-a.pixelX*o:-a.pixelY;if(0===s)return!0;r.invert&&(s=-s);var l=n.getTranslate()+s*r.sensitivity;if(l>=n.minTranslate()&&(l=n.minTranslate()),l<=n.maxTranslate()&&(l=n.maxTranslate()),(!!n.params.loop||!(l===n.minTranslate()||l===n.maxTranslate()))&&n.params.nested&&t.stopPropagation(),n.params.freeMode){var c={time:S(),delta:Math.abs(s),direction:Math.sign(s)},u=n.mousewheel.lastEventBeforeSnap,h=u&&c.time<u.time+500&&c.delta<=u.delta&&c.direction===u.direction;if(!h){n.mousewheel.lastEventBeforeSnap=void 0,n.params.loop&&n.loopFix();var d=n.getTranslate()+s*r.sensitivity,p=n.isBeginning,f=n.isEnd;if(d>=n.minTranslate()&&(d=n.minTranslate()),d<=n.maxTranslate()&&(d=n.maxTranslate()),n.setTransition(0),n.setTranslate(d),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!p&&n.isBeginning||!f&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky){clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=void 0;var m=n.mousewheel.recentWheelEvents;m.length>=15&&m.shift();var g=m.length?m[m.length-1]:void 0,y=m[0];if(m.push(c),g&&(c.delta>g.delta||c.direction!==g.direction))m.splice(0);else if(m.length>=15&&c.time-y.time<500&&y.delta-c.delta>=1&&c.delta<=6){var v=s>0?.8:.2;n.mousewheel.lastEventBeforeSnap=c,m.splice(0),n.mousewheel.timeout=C(function(){n.slideToClosest(n.params.speed,!0,void 0,v)},0)}n.mousewheel.timeout||(n.mousewheel.timeout=C(function(){n.mousewheel.lastEventBeforeSnap=c,m.splice(0),n.slideToClosest(n.params.speed,!0,void 0,.5)},500))}if(h||n.emit("scroll",t),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.autoplay.stop(),d===n.minTranslate()||d===n.maxTranslate())return!0}}else{var _={time:S(),delta:Math.abs(s),direction:Math.sign(s),raw:e},b=n.mousewheel.recentWheelEvents;b.length>=2&&b.shift();var w=b.length?b[b.length-1]:void 0;if(b.push(_),w?(_.direction!==w.direction||_.delta>w.delta||_.time>w.time+150)&&n.mousewheel.animateSlider(_):n.mousewheel.animateSlider(_),n.mousewheel.releaseScroll(_))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}},animateSlider:function(e){var t=this,n=c();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta||this.params.mousewheel.thresholdTime&&S()-t.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime||!(e.delta>=6&&S()-t.mousewheel.lastScrollTime<60)&&(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),t.emit("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),t.emit("scroll",e.raw)),t.mousewheel.lastScrollTime=(new n.Date).getTime(),1))},releaseScroll:function(e){var t=this,n=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&n.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&n.releaseOnEdges)return!0;return!1},enable:function(){var e=this,t=le.event();if(e.params.cssMode)return e.wrapperEl.removeEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(n=E(e.params.mousewheel.eventsTarget)),n.on("mouseenter",e.mousewheel.handleMouseEnter),n.on("mouseleave",e.mousewheel.handleMouseLeave),n.on(t,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this,t=le.event();if(e.params.cssMode)return e.wrapperEl.addEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(!e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(n=E(e.params.mousewheel.eventsTarget)),n.off(t,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}};function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ue={toggleEl:function(e,t){e[t?"addClass":"removeClass"](this.params.navigation.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=t)},update:function(){var e=this,t=e.params.navigation,n=e.navigation.toggleEl;if(!e.params.loop){var r=e.navigation,i=r.$nextEl,s=r.$prevEl;s&&s.length>0&&(n(s,!!e.isBeginning),e.params.watchOverflow&&e.enabled&&s[e.isLocked?"addClass":"removeClass"](t.lockClass)),i&&i.length>0&&(n(i,!!e.isEnd),e.params.watchOverflow&&e.enabled&&i[e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()},init:function(){var e,t,n=this,r=n.params.navigation;n.params.navigation=P(n.$el,n.params.navigation,n.params.createElements,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),(r.nextEl||r.prevEl)&&(r.nextEl&&(e=E(r.nextEl),n.params.uniqueNavElements&&"string"==typeof r.nextEl&&e.length>1&&1===n.$el.find(r.nextEl).length&&(e=n.$el.find(r.nextEl))),r.prevEl&&(t=E(r.prevEl),n.params.uniqueNavElements&&"string"==typeof r.prevEl&&t.length>1&&1===n.$el.find(r.prevEl).length&&(t=n.$el.find(r.prevEl))),e&&e.length>0&&e.on("click",n.navigation.onNextClick),t&&t.length>0&&t.on("click",n.navigation.onPrevClick),k(n.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}),n.enabled||(e&&e.addClass(r.lockClass),t&&t.addClass(r.lockClass)))},destroy:function(){var e=this,t=e.navigation,n=t.$nextEl,r=t.$prevEl;n&&n.length&&(n.off("click",e.navigation.onNextClick),n.removeClass(e.params.navigation.disabledClass)),r&&r.length&&(r.off("click",e.navigation.onPrevClick),r.removeClass(e.params.navigation.disabledClass))}};function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var de={update:function(){var e=this,t=e.rtl,n=e.params.pagination;if(n.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var r,i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,s=e.pagination.$el,o=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((r=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>i-1-2*e.loopedSlides&&(r-=i-2*e.loopedSlides),r>o-1&&(r-=o),r<0&&"bullets"!==e.params.paginationType&&(r=o+r)):r=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var a,l,c,u=e.pagination.bullets;if(n.dynamicBullets&&(e.pagination.bulletSize=u.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),s.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=r-e.previousIndex,e.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),c=((l=(a=r-e.pagination.dynamicBulletIndex)+(Math.min(u.length,n.dynamicMainBullets)-1))+a)/2),u.removeClass(n.bulletActiveClass+" "+n.bulletActiveClass+"-next "+n.bulletActiveClass+"-next-next "+n.bulletActiveClass+"-prev "+n.bulletActiveClass+"-prev-prev "+n.bulletActiveClass+"-main"),s.length>1)u.each(function(e){var t=E(e),i=t.index();i===r&&t.addClass(n.bulletActiveClass),n.dynamicBullets&&(i>=a&&i<=l&&t.addClass(n.bulletActiveClass+"-main"),i===a&&t.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),i===l&&t.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next"))});else{var h=u.eq(r),d=h.index();if(h.addClass(n.bulletActiveClass),n.dynamicBullets){for(var p=u.eq(a),f=u.eq(l),m=a;m<=l;m+=1)u.eq(m).addClass(n.bulletActiveClass+"-main");if(e.params.loop)if(d>=u.length-n.dynamicMainBullets){for(var g=n.dynamicMainBullets;g>=0;g-=1)u.eq(u.length-g).addClass(n.bulletActiveClass+"-main");u.eq(u.length-n.dynamicMainBullets-1).addClass(n.bulletActiveClass+"-prev")}else p.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),f.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next");else p.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),f.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next")}}if(n.dynamicBullets){var y=Math.min(u.length,n.dynamicMainBullets+4),v=(e.pagination.bulletSize*y-e.pagination.bulletSize)/2-c*e.pagination.bulletSize,_=t?"right":"left";u.css(e.isHorizontal()?_:"top",v+"px")}}if("fraction"===n.type&&(s.find(R(n.currentClass)).text(n.formatFractionCurrent(r+1)),s.find(R(n.totalClass)).text(n.formatFractionTotal(o))),"progressbar"===n.type){var b;b=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var w=(r+1)/o,C=1,S=1;"horizontal"===b?C=w:S=w,s.find(R(n.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+C+") scaleY("+S+")").transition(e.params.speed)}"custom"===n.type&&n.renderCustom?(s.html(n.renderCustom(e,r+1,o)),e.emit("paginationRender",s[0])):e.emit("paginationUpdate",s[0]),e.params.watchOverflow&&e.enabled&&s[e.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el,i="";if("bullets"===t.type){var s=e.params.loop?Math.ceil((n-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&!e.params.loop&&s>n&&(s=n);for(var o=0;o<s;o+=1)i+=t.renderBullet?t.renderBullet.call(e,o,t.bulletClass):"<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";r.html(i),e.pagination.bullets=r.find(R(t.bulletClass))}"fraction"===t.type&&(i=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',r.html(i)),"progressbar"===t.type&&(i=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',r.html(i)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this;e.params.pagination=P(e.$el,e.params.pagination,e.params.createElements,{el:"swiper-pagination"});var t=e.params.pagination;if(t.el){var n=E(t.el);0!==n.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&n.length>1&&(n=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&n.addClass(t.clickableClass),n.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(n.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.addClass(t.progressbarOppositeClass),t.clickable&&n.on("click",R(t.bulletClass),function(t){t.preventDefault();var n=E(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)}),k(e.pagination,{$el:n,el:n[0]}),e.enabled||n.addClass(t.lockClass))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.pagination.$el;n.removeClass(t.hiddenClass),n.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&n.off("click",R(t.bulletClass))}}};function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var fe={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,n=t.dragSize,r=t.trackSize,i=t.$dragEl,s=t.$el,o=e.params.scrollbar,a=n,l=(r-n)*e.progress;e.rtlTranslate?(l=-l)>0?(a=n-l,l=0):-l+n>r&&(a=r+l):l<0?(a=n+l,l=0):l+n>r&&(a=r-l),e.isHorizontal()?(i.transform("translate3d("+l+"px, 0, 0)"),i[0].style.width=a+"px"):(i.transform("translate3d(0px, "+l+"px, 0)"),i[0].style.height=a+"px"),o.hide&&(clearTimeout(e.scrollbar.timeout),s[0].style.opacity=1,e.scrollbar.timeout=setTimeout(function(){s[0].style.opacity=0,s.transition(400)},1e3))}},setTransition:function(e){var t=this;t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,n=t.$dragEl,r=t.$el;n[0].style.width="",n[0].style.height="";var i,s=e.isHorizontal()?r[0].offsetWidth:r[0].offsetHeight,o=e.size/e.virtualSize,a=o*(s/e.size);i="auto"===e.params.scrollbar.dragSize?s*o:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?n[0].style.width=i+"px":n[0].style.height=i+"px",r[0].style.display=o>=1?"none":"",e.params.scrollbar.hide&&(r[0].style.opacity=0),k(t,{trackSize:s,divider:o,moveDivider:a,dragSize:i}),e.params.watchOverflow&&e.enabled&&t.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,n=this,r=n.scrollbar,i=n.rtlTranslate,s=r.$el,o=r.dragSize,a=r.trackSize,l=r.dragStartPos;t=(r.getPointerPosition(e)-s.offset()[n.isHorizontal()?"left":"top"]-(null!==l?l:o/2))/(a-o),t=Math.max(Math.min(t,1),0),i&&(t=1-t);var c=n.minTranslate()+(n.maxTranslate()-n.minTranslate())*t;n.updateProgress(c),n.setTranslate(c),n.updateActiveIndex(),n.updateSlidesClasses()},onDragStart:function(e){var t=this,n=t.params.scrollbar,r=t.scrollbar,i=t.$wrapperEl,s=r.$el,o=r.$dragEl;t.scrollbar.isTouched=!0,t.scrollbar.dragStartPos=e.target===o[0]||e.target===o?r.getPointerPosition(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),i.transition(100),o.transition(100),r.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),s.transition(0),n.hide&&s.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),t.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this,n=t.scrollbar,r=t.$wrapperEl,i=n.$el,s=n.$dragEl;t.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,n.setDragPosition(e),r.transition(0),i.transition(0),s.transition(0),t.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this,n=t.params.scrollbar,r=t.$wrapperEl,i=t.scrollbar.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),r.transition("")),n.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=C(function(){i.css("opacity",0),i.transition(400)},1e3)),t.emit("scrollbarDragEnd",e),n.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=a(),n=e.touchEventsTouch,r=e.touchEventsDesktop,i=e.params,s=e.support,o=e.scrollbar.$el[0],l=!(!s.passiveListener||!i.passiveListeners)&&{passive:!1,capture:!1},c=!(!s.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};o&&(s.touch?(o.addEventListener(n.start,e.scrollbar.onDragStart,l),o.addEventListener(n.move,e.scrollbar.onDragMove,l),o.addEventListener(n.end,e.scrollbar.onDragEnd,c)):(o.addEventListener(r.start,e.scrollbar.onDragStart,l),t.addEventListener(r.move,e.scrollbar.onDragMove,l),t.addEventListener(r.end,e.scrollbar.onDragEnd,c)))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=a(),n=e.touchEventsTouch,r=e.touchEventsDesktop,i=e.params,s=e.support,o=e.scrollbar.$el[0],l=!(!s.passiveListener||!i.passiveListeners)&&{passive:!1,capture:!1},c=!(!s.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};o&&(s.touch?(o.removeEventListener(n.start,e.scrollbar.onDragStart,l),o.removeEventListener(n.move,e.scrollbar.onDragMove,l),o.removeEventListener(n.end,e.scrollbar.onDragEnd,c)):(o.removeEventListener(r.start,e.scrollbar.onDragStart,l),t.removeEventListener(r.move,e.scrollbar.onDragMove,l),t.removeEventListener(r.end,e.scrollbar.onDragEnd,c)))}},init:function(){var e=this,t=e.scrollbar,n=e.$el;e.params.scrollbar=P(n,e.params.scrollbar,e.params.createElements,{el:"swiper-scrollbar"});var r=e.params.scrollbar;if(r.el){var i=E(r.el);e.params.uniqueNavElements&&"string"==typeof r.el&&i.length>1&&1===n.find(r.el).length&&(i=n.find(r.el));var s=i.find("."+e.params.scrollbar.dragClass);0===s.length&&(s=E('<div class="'+e.params.scrollbar.dragClass+'"></div>'),i.append(s)),k(t,{$el:i,el:i[0],$dragEl:s,dragEl:s[0]}),r.draggable&&t.enableDraggable(),i&&i[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}},destroy:function(){this.scrollbar.disableDraggable()}};function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ge={setTransform:function(e,t){var n=this.rtl,r=E(e),i=n?-1:1,s=r.attr("data-swiper-parallax")||"0",o=r.attr("data-swiper-parallax-x"),a=r.attr("data-swiper-parallax-y"),l=r.attr("data-swiper-parallax-scale"),c=r.attr("data-swiper-parallax-opacity");if(o||a?(o=o||"0",a=a||"0"):this.isHorizontal()?(o=s,a="0"):(a=s,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*t*i+"%":o*t*i+"px",a=a.indexOf("%")>=0?parseInt(a,10)*t+"%":a*t+"px",null!=c){var u=c-(c-1)*(1-Math.abs(t));r[0].style.opacity=u}if(null==l)r.transform("translate3d("+o+", "+a+", 0px)");else{var h=l-(l-1)*(1-Math.abs(t));r.transform("translate3d("+o+", "+a+", 0px) scale("+h+")")}},setTranslate:function(){var e=this,t=e.slides,n=e.progress,r=e.snapGrid;e.$el.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t){e.parallax.setTransform(t,n)}),t.each(function(t,i){var s=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(s+=Math.ceil(i/2)-n*(r.length-1)),s=Math.min(Math.max(s,-1),1),E(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t){e.parallax.setTransform(t,s)})})},setTransition:function(e){void 0===e&&(e=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(t){var n=E(t),r=parseInt(n.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),n.transition(r)})}};function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ve={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageY,n=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(e.targetTouches[1].pageX-e.targetTouches[0].pageX,2)+Math.pow(n-t,2))},onGestureStart:function(e){var t=this,n=t.support,r=t.params.zoom,i=t.zoom,s=i.gesture;if(i.fakeGestureTouched=!1,i.fakeGestureMoved=!1,!n.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;i.fakeGestureTouched=!0,s.scaleStart=ve.getDistanceBetweenTouches(e)}s.$slideEl&&s.$slideEl.length||(s.$slideEl=E(e.target).closest("."+t.params.slideClass),0===s.$slideEl.length&&(s.$slideEl=t.slides.eq(t.activeIndex)),s.$imageEl=s.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),s.$imageWrapEl=s.$imageEl.parent("."+r.containerClass),s.maxRatio=s.$imageWrapEl.attr("data-swiper-zoom")||r.maxRatio,0!==s.$imageWrapEl.length)?(s.$imageEl&&s.$imageEl.transition(0),t.zoom.isScaling=!0):s.$imageEl=void 0},onGestureChange:function(e){var t=this,n=t.support,r=t.params.zoom,i=t.zoom,s=i.gesture;if(!n.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;i.fakeGestureMoved=!0,s.scaleMove=ve.getDistanceBetweenTouches(e)}s.$imageEl&&0!==s.$imageEl.length?(i.scale=n.gestures?e.scale*i.currentScale:s.scaleMove/s.scaleStart*i.currentScale,i.scale>s.maxRatio&&(i.scale=s.maxRatio-1+Math.pow(i.scale-s.maxRatio+1,.5)),i.scale<r.minRatio&&(i.scale=r.minRatio+1-Math.pow(r.minRatio-i.scale+1,.5)),s.$imageEl.transform("translate3d(0,0,0) scale("+i.scale+")")):"gesturechange"===e.type&&i.onGestureStart(e)},onGestureEnd:function(e){var t=this,n=t.params.zoom,r=t.zoom,i=r.gesture;if(!t.support.gestures){if(!r.fakeGestureTouched||!r.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!t.device.android)return;r.fakeGestureTouched=!1,r.fakeGestureMoved=!1}i.$imageEl&&0!==i.$imageEl.length&&(r.scale=Math.max(Math.min(r.scale,i.maxRatio),n.minRatio),i.$imageEl.transition(t.params.speed).transform("translate3d(0,0,0) scale("+r.scale+")"),r.currentScale=r.scale,r.isScaling=!1,1===r.scale&&(i.$slideEl=void 0))},onTouchStart:function(e){var t=this.zoom,n=t.gesture,r=t.image;n.$imageEl&&0!==n.$imageEl.length&&(r.isTouched||(this.device.android&&e.cancelable&&e.preventDefault(),r.isTouched=!0,r.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this,n=t.zoom,r=n.gesture,i=n.image,s=n.velocity;if(r.$imageEl&&0!==r.$imageEl.length&&(t.allowClick=!1,i.isTouched&&r.$slideEl)){i.isMoved||(i.width=r.$imageEl[0].offsetWidth,i.height=r.$imageEl[0].offsetHeight,i.startX=T(r.$imageWrapEl[0],"x")||0,i.startY=T(r.$imageWrapEl[0],"y")||0,r.slideWidth=r.$slideEl[0].offsetWidth,r.slideHeight=r.$slideEl[0].offsetHeight,r.$imageWrapEl.transition(0));var o=i.width*n.scale,a=i.height*n.scale;if(!(o<r.slideWidth&&a<r.slideHeight)){if(i.minX=Math.min(r.slideWidth/2-o/2,0),i.maxX=-i.minX,i.minY=Math.min(r.slideHeight/2-a/2,0),i.maxY=-i.minY,i.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,i.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!i.isMoved&&!n.isScaling){if(t.isHorizontal()&&(Math.floor(i.minX)===Math.floor(i.startX)&&i.touchesCurrent.x<i.touchesStart.x||Math.floor(i.maxX)===Math.floor(i.startX)&&i.touchesCurrent.x>i.touchesStart.x))return void(i.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(i.minY)===Math.floor(i.startY)&&i.touchesCurrent.y<i.touchesStart.y||Math.floor(i.maxY)===Math.floor(i.startY)&&i.touchesCurrent.y>i.touchesStart.y))return void(i.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),i.isMoved=!0,i.currentX=i.touchesCurrent.x-i.touchesStart.x+i.startX,i.currentY=i.touchesCurrent.y-i.touchesStart.y+i.startY,i.currentX<i.minX&&(i.currentX=i.minX+1-Math.pow(i.minX-i.currentX+1,.8)),i.currentX>i.maxX&&(i.currentX=i.maxX-1+Math.pow(i.currentX-i.maxX+1,.8)),i.currentY<i.minY&&(i.currentY=i.minY+1-Math.pow(i.minY-i.currentY+1,.8)),i.currentY>i.maxY&&(i.currentY=i.maxY-1+Math.pow(i.currentY-i.maxY+1,.8)),s.prevPositionX||(s.prevPositionX=i.touchesCurrent.x),s.prevPositionY||(s.prevPositionY=i.touchesCurrent.y),s.prevTime||(s.prevTime=Date.now()),s.x=(i.touchesCurrent.x-s.prevPositionX)/(Date.now()-s.prevTime)/2,s.y=(i.touchesCurrent.y-s.prevPositionY)/(Date.now()-s.prevTime)/2,Math.abs(i.touchesCurrent.x-s.prevPositionX)<2&&(s.x=0),Math.abs(i.touchesCurrent.y-s.prevPositionY)<2&&(s.y=0),s.prevPositionX=i.touchesCurrent.x,s.prevPositionY=i.touchesCurrent.y,s.prevTime=Date.now(),r.$imageWrapEl.transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,n=e.image,r=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1,n.isMoved=!1;var i=300,s=300,o=n.currentX+r.x*i,a=n.currentY+r.y*s;0!==r.x&&(i=Math.abs((o-n.currentX)/r.x)),0!==r.y&&(s=Math.abs((a-n.currentY)/r.y));var l=Math.max(i,s);n.currentX=o,n.currentY=a;var c=n.height*e.scale;n.minX=Math.min(t.slideWidth/2-n.width*e.scale/2,0),n.maxX=-n.minX,n.minY=Math.min(t.slideHeight/2-c/2,0),n.maxY=-n.minY,n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX),n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY),t.$imageWrapEl.transition(l).transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}},onTransitionEnd:function(){var e=this,t=e.zoom,n=t.gesture;n.$slideEl&&e.previousIndex!==e.activeIndex&&(n.$imageEl&&n.$imageEl.transform("translate3d(0,0,0) scale(1)"),n.$imageWrapEl&&n.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,n.$slideEl=void 0,n.$imageEl=void 0,n.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,n,r,i,s,o,a,l,u,h,d,p,f,m=this,g=c(),y=m.zoom,v=m.params.zoom,_=y.gesture,b=y.image;_.$slideEl||(e&&e.target&&(_.$slideEl=E(e.target).closest("."+m.params.slideClass)),_.$slideEl||(_.$slideEl=m.params.virtual&&m.params.virtual.enabled&&m.virtual?m.$wrapperEl.children("."+m.params.slideActiveClass):m.slides.eq(m.activeIndex)),_.$imageEl=_.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),_.$imageWrapEl=_.$imageEl.parent("."+v.containerClass)),_.$imageEl&&0!==_.$imageEl.length&&_.$imageWrapEl&&0!==_.$imageWrapEl.length&&(_.$slideEl.addClass(""+v.zoomedSlideClass),void 0===b.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,n="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=b.touchesStart.x,n=b.touchesStart.y),y.scale=_.$imageWrapEl.attr("data-swiper-zoom")||v.maxRatio,y.currentScale=_.$imageWrapEl.attr("data-swiper-zoom")||v.maxRatio,e?(p=_.$slideEl[0].offsetWidth,f=_.$slideEl[0].offsetHeight,r=_.$slideEl.offset().left+g.scrollX+p/2-t,i=_.$slideEl.offset().top+g.scrollY+f/2-n,a=_.$imageEl[0].offsetHeight*y.scale,l=Math.min(p/2-_.$imageEl[0].offsetWidth*y.scale/2,0),u=Math.min(f/2-a/2,0),(s=r*y.scale)<l&&(s=l),s>(h=-l)&&(s=h),(o=i*y.scale)<u&&(o=u),o>(d=-u)&&(o=d)):(s=0,o=0),_.$imageWrapEl.transition(300).transform("translate3d("+s+"px, "+o+"px,0)"),_.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+y.scale+")"))},out:function(){var e=this,t=e.zoom,n=e.params.zoom,r=t.gesture;r.$slideEl||(r.$slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.$wrapperEl.children("."+e.params.slideActiveClass):e.slides.eq(e.activeIndex),r.$imageEl=r.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),r.$imageWrapEl=r.$imageEl.parent("."+n.containerClass)),r.$imageEl&&0!==r.$imageEl.length&&r.$imageWrapEl&&0!==r.$imageWrapEl.length&&(t.scale=1,t.currentScale=1,r.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),r.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),r.$slideEl.removeClass(""+n.zoomedSlideClass),r.$slideEl=void 0)},toggleGestures:function(e){var t=this,n=t.zoom,r=n.slideSelector,i=n.passiveListener;t.$wrapperEl[e]("gesturestart",r,n.onGestureStart,i),t.$wrapperEl[e]("gesturechange",r,n.onGestureChange,i),t.$wrapperEl[e]("gestureend",r,n.onGestureEnd,i)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this,t=e.support,n=e.zoom;if(!n.enabled){n.enabled=!0;var r=!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},i=!t.passiveListener||{passive:!1,capture:!0},s="."+e.params.slideClass;e.zoom.passiveListener=r,e.zoom.slideSelector=s,t.gestures?(e.$wrapperEl.on(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.on(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,s,n.onGestureStart,r),e.$wrapperEl.on(e.touchEvents.move,s,n.onGestureChange,i),e.$wrapperEl.on(e.touchEvents.end,s,n.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,s,n.onGestureEnd,r)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,n.onTouchMove,i)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){var n=e.support;e.zoom.enabled=!1;var r=!("touchstart"!==e.touchEvents.start||!n.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},i=!n.passiveListener||{passive:!1,capture:!0},s="."+e.params.slideClass;n.gestures?(e.$wrapperEl.off(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.off(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,s,t.onGestureStart,r),e.$wrapperEl.off(e.touchEvents.move,s,t.onGestureChange,i),e.$wrapperEl.off(e.touchEvents.end,s,t.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,s,t.onGestureEnd,r)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove,i)}}};function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var be={loadInSlide:function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.lazy;if(void 0!==e&&0!==n.slides.length){var i=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children("."+n.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):n.slides.eq(e),s=i.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");!i.hasClass(r.elementClass)||i.hasClass(r.loadedClass)||i.hasClass(r.loadingClass)||s.push(i[0]),0!==s.length&&s.each(function(e){var s=E(e);s.addClass(r.loadingClass);var o=s.attr("data-background"),a=s.attr("data-src"),l=s.attr("data-srcset"),c=s.attr("data-sizes"),u=s.parent("picture");n.loadImage(s[0],a||o,l,c,!1,function(){if(null!=n&&n&&(!n||n.params)&&!n.destroyed){if(o?(s.css("background-image",'url("'+o+'")'),s.removeAttr("data-background")):(l&&(s.attr("srcset",l),s.removeAttr("data-srcset")),c&&(s.attr("sizes",c),s.removeAttr("data-sizes")),u.length&&u.children("source").each(function(e){var t=E(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))}),a&&(s.attr("src",a),s.removeAttr("data-src"))),s.addClass(r.loadedClass).removeClass(r.loadingClass),i.find("."+r.preloaderClass).remove(),n.params.loop&&t){var e=i.attr("data-swiper-slide-index");if(i.hasClass(n.params.slideDuplicateClass)){var h=n.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+n.params.slideDuplicateClass+")");n.lazy.loadInSlide(h.index(),!1)}else{var d=n.$wrapperEl.children("."+n.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');n.lazy.loadInSlide(d.index(),!1)}}n.emit("lazyImageReady",i[0],s[0]),n.params.autoHeight&&n.updateAutoHeight()}}),n.emit("lazyImageLoad",i[0],s[0])})}},load:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides,i=e.activeIndex,s=e.virtual&&n.virtual.enabled,o=n.lazy,a=n.slidesPerView;function l(e){if(s){if(t.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(r[e])return!0;return!1}function c(e){return s?E(e).attr("data-swiper-slide-index"):E(e).index()}if("auto"===a&&(a=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+n.slideVisibleClass).each(function(t){var n=s?E(t).attr("data-swiper-slide-index"):E(t).index();e.lazy.loadInSlide(n)});else if(a>1)for(var u=i;u<i+a;u+=1)l(u)&&e.lazy.loadInSlide(u);else e.lazy.loadInSlide(i);if(o.loadPrevNext)if(a>1||o.loadPrevNextAmount&&o.loadPrevNextAmount>1){for(var h=o.loadPrevNextAmount,d=a,p=Math.min(i+d+Math.max(h,d),r.length),f=Math.max(i-Math.max(d,h),0),m=i+a;m<p;m+=1)l(m)&&e.lazy.loadInSlide(m);for(var g=f;g<i;g+=1)l(g)&&e.lazy.loadInSlide(g)}else{var y=t.children("."+n.slideNextClass);y.length>0&&e.lazy.loadInSlide(c(y));var v=t.children("."+n.slidePrevClass);v.length>0&&e.lazy.loadInSlide(c(v))}},checkInViewOnLoad:function(){var e=c(),t=this;if(t&&!t.destroyed){var n=E(t.params.lazy.scrollingElement?t.params.lazy.scrollingElement:e),r=n[0]===e,i=r?e.innerWidth:n[0].offsetWidth,s=r?e.innerHeight:n[0].offsetHeight,o=t.$el.offset(),a=!1;t.rtlTranslate&&(o.left-=t.$el[0].scrollLeft);for(var l=[[o.left,o.top],[o.left+t.width,o.top],[o.left,o.top+t.height],[o.left+t.width,o.top+t.height]],u=0;u<l.length;u+=1){var h=l[u];if(h[0]>=0&&h[0]<=i&&h[1]>=0&&h[1]<=s){if(0===h[0]&&0===h[1])continue;a=!0}}var d=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};a?(t.lazy.load(),n.off("scroll",t.lazy.checkInViewOnLoad,d)):t.lazy.scrollHandlerAttached||(t.lazy.scrollHandlerAttached=!0,n.on("scroll",t.lazy.checkInViewOnLoad,d))}}};function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ee={LinearSpline:function(e,t){var n,r,i,s,o;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(o=function(e,t){for(r=-1,n=e.length;n-r>1;)e[i=n+r>>1]<=t?r=i:n=i;return n}(this.x,e),(e-this.x[s=o-1])*(this.y[o]-this.y[s])/(this.x[o]-this.x[s])+this.y[s]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new Ee.LinearSpline(t.slidesGrid,e.slidesGrid):new Ee.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){var n,r,i=this,s=i.controller.control,o=i.constructor;function a(e){var t=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(e),r=-i.controller.spline.interpolate(-t)),r&&"container"!==i.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(i.maxTranslate()-i.minTranslate()),r=(t-i.minTranslate())*n+e.minTranslate()),i.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,i),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(s))for(var l=0;l<s.length;l+=1)s[l]!==t&&s[l]instanceof o&&a(s[l]);else s instanceof o&&t!==s&&a(s)},setTransition:function(e,t){var n,r=this,i=r.constructor,s=r.controller.control;function o(t){t.setTransition(e,r),0!==e&&(t.transitionStart(),t.params.autoHeight&&C(function(){t.updateAutoHeight()}),t.$wrapperEl.transitionEnd(function(){s&&(t.params.loop&&"slide"===r.params.controller.by&&t.loopFix(),t.transitionEnd())}))}if(Array.isArray(s))for(n=0;n<s.length;n+=1)s[n]!==t&&s[n]instanceof i&&o(s[n]);else s instanceof i&&t!==s&&o(s)}};function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Se={getRandomNumber:function(e){return void 0===e&&(e=16),"x".repeat(e).replace(/x/g,function(){return Math.round(16*Math.random()).toString(16)})},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElRoleDescription:function(e,t){return e.attr("aria-roledescription",t),e},addElControls:function(e,t){return e.attr("aria-controls",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},addElId:function(e,t){return e.attr("id",t),e},addElLive:function(e,t){return e.attr("aria-live",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var t=this,n=t.params.a11y,r=E(e.target);t.navigation&&t.navigation.$nextEl&&r.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.a11y.notify(t.isEnd?n.lastSlideMessage:n.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&r.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.a11y.notify(t.isBeginning?n.firstSlideMessage:n.prevSlideMessage)),t.pagination&&r.is(R(t.params.pagination.bulletClass))&&r[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop&&e.navigation){var t=e.navigation,n=t.$nextEl,r=t.$prevEl;r&&r.length>0&&(e.isBeginning?(e.a11y.disableEl(r),e.a11y.makeElNotFocusable(r)):(e.a11y.enableEl(r),e.a11y.makeElFocusable(r))),n&&n.length>0&&(e.isEnd?(e.a11y.disableEl(n),e.a11y.makeElNotFocusable(n)):(e.a11y.enableEl(n),e.a11y.makeElFocusable(n)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each(function(n){var r=E(n);e.a11y.makeElFocusable(r),e.params.pagination.renderBullet||(e.a11y.addElRole(r,"button"),e.a11y.addElLabel(r,t.paginationBulletMessage.replace(/\{\{index\}\}/,r.index()+1)))})},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var n=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(n,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(n,t.containerMessage);var r=e.$wrapperEl,i=r.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16),s=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";e.a11y.addElId(r,i),e.a11y.addElLive(r,s),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(E(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(E(e.slides),t.slideRole);var o,a,l=e.params.loop?e.slides.filter(function(t){return!t.classList.contains(e.params.slideDuplicateClass)}).length:e.slides.length;e.slides.each(function(n,r){var i=E(n),s=e.params.loop?parseInt(i.attr("data-swiper-slide-index"),10):r,o=t.slideLabelMessage.replace(/\{\{index\}\}/,s+1).replace(/\{\{slidesLength\}\}/,l);e.a11y.addElLabel(i,o)}),e.navigation&&e.navigation.$nextEl&&(o=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(a=e.navigation.$prevEl),o&&o.length&&(e.a11y.makeElFocusable(o),"BUTTON"!==o[0].tagName&&(e.a11y.addElRole(o,"button"),o.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(o,t.nextSlideMessage),e.a11y.addElControls(o,i)),a&&a.length&&(e.a11y.makeElFocusable(a),"BUTTON"!==a[0].tagName&&(e.a11y.addElRole(a,"button"),a.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(a,t.prevSlideMessage),e.a11y.addElControls(a,i)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown",R(e.params.pagination.bulletClass),e.a11y.onEnterOrSpaceKey)},destroy:function(){var e,t,n=this;n.a11y.liveRegion&&n.a11y.liveRegion.length>0&&n.a11y.liveRegion.remove(),n.navigation&&n.navigation.$nextEl&&(e=n.navigation.$nextEl),n.navigation&&n.navigation.$prevEl&&(t=n.navigation.$prevEl),e&&e.off("keydown",n.a11y.onEnterOrSpaceKey),t&&t.off("keydown",n.a11y.onEnterOrSpaceKey),n.pagination&&n.params.pagination.clickable&&n.pagination.bullets&&n.pagination.bullets.length&&n.pagination.$el.off("keydown",R(n.params.pagination.bulletClass),n.a11y.onEnterOrSpaceKey)}};function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ie={init:function(){var e=this,t=c();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var n=e.history;n.initialized=!0,n.paths=Ie.getPathValues(e.params.url),(n.paths.key||n.paths.value)&&(n.scrollToSlide(0,n.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",e.history.setHistoryPopState))}},destroy:function(){var e=c();this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){var e=this;e.history.paths=Ie.getPathValues(e.params.url),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues:function(e){var t=c(),n=(e?new URL(e):t.location).pathname.slice(1).split("/").filter(function(e){return""!==e}),r=n.length;return{key:n[r-2],value:n[r-1]}},setHistory:function(e,t){var n=this,r=c();if(n.history.initialized&&n.params.history.enabled){var i;i=n.params.url?new URL(n.params.url):r.location;var s=n.slides.eq(t),o=Ie.slugify(s.attr("data-history"));if(n.params.history.root.length>0){var a=n.params.history.root;"/"===a[a.length-1]&&(a=a.slice(0,a.length-1)),o=a+"/"+e+"/"+o}else i.pathname.includes(e)||(o=e+"/"+o);var l=r.history.state;l&&l.value===o||(n.params.history.replaceState?r.history.replaceState({value:o},null,o):r.history.pushState({value:o},null,o))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,n){var r=this;if(t)for(var i=0,s=r.slides.length;i<s;i+=1){var o=r.slides.eq(i);if(Ie.slugify(o.attr("data-history"))===t&&!o.hasClass(r.params.slideDuplicateClass)){var a=o.index();r.slideTo(a,e,n)}}else r.slideTo(0,e,n)}};function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ke={onHashChange:function(){var e=this,t=a();e.emit("hashChange");var n=t.location.hash.replace("#","");if(n!==e.slides.eq(e.activeIndex).attr("data-hash")){var r=e.$wrapperEl.children("."+e.params.slideClass+'[data-hash="'+n+'"]').index();if(void 0===r)return;e.slideTo(r)}},setHash:function(){var e=this,t=c(),n=a();if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,"#"+e.slides.eq(e.activeIndex).attr("data-hash")||0),e.emit("hashSet");else{var r=e.slides.eq(e.activeIndex),i=r.attr("data-hash")||r.attr("data-history");n.location.hash=i||"",e.emit("hashSet")}},init:function(){var e=this,t=a(),n=c();if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var r=t.location.hash.replace("#","");if(r)for(var i=0,s=e.slides.length;i<s;i+=1){var o=e.slides.eq(i);if((o.attr("data-hash")||o.attr("data-history"))===r&&!o.hasClass(e.params.slideDuplicateClass)){var l=o.index();e.slideTo(l,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&E(n).on("hashchange",e.hashNavigation.onHashChange)}},destroy:function(){var e=c();this.params.hashNavigation.watchState&&E(e).off("hashchange",this.hashNavigation.onHashChange)}};function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Re={run:function(){var e=this,t=e.slides.eq(e.activeIndex),n=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(n=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=C(function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&e.autoplay.run()},n)},start:function(){var e=this;return void 0===e.autoplay.timeout&&!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0)},stop:function(){var e=this;return!!e.autoplay.running&&void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0)},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(function(e){t.$wrapperEl[0].addEventListener(e,t.autoplay.onTransitionEnd)}):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=this,t=a();"hidden"===t.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===t.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(function(e){t.$wrapperEl[0].removeEventListener(e,t.autoplay.onTransitionEnd)}),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())},onMouseEnter:function(){var e=this;e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause(),["transitionend","webkitTransitionEnd"].forEach(function(t){e.$wrapperEl[0].removeEventListener(t,e.autoplay.onTransitionEnd)})},onMouseLeave:function(){var e=this;e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,e.autoplay.run())},attachMouseEvents:function(){var e=this;e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",e.autoplay.onMouseEnter),e.$el.on("mouseleave",e.autoplay.onMouseLeave))},detachMouseEvents:function(){var e=this;e.$el.off("mouseenter",e.autoplay.onMouseEnter),e.$el.off("mouseleave",e.autoplay.onMouseLeave)}};function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Oe={setTranslate:function(){for(var e=this,t=e.slides,n=0;n<t.length;n+=1){var r=e.slides.eq(n),i=-r[0].swiperSlideOffset;e.params.virtualTranslate||(i-=e.translate);var s=0;e.isHorizontal()||(s=i,i=0);var o=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(r[0].progress),0):1+Math.min(Math.max(r[0].progress,-1),0);r.css({opacity:o}).transform("translate3d("+i+"px, "+s+"px, 0px)")}},setTransition:function(e){var t=this,n=t.slides,r=t.$wrapperEl;if(n.transition(e),t.params.virtualTranslate&&0!==e){var i=!1;n.transitionEnd(function(){if(!i&&t&&!t.destroyed){i=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)r.trigger(e[n])}})}}};function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var De={setTranslate:function(){var e,t=this,n=t.$el,r=t.$wrapperEl,i=t.slides,s=t.width,o=t.height,a=t.rtlTranslate,l=t.size,c=t.browser,u=t.params.cubeEffect,h=t.isHorizontal(),d=t.virtual&&t.params.virtual.enabled,p=0;u.shadow&&(h?(0===(e=r.find(".swiper-cube-shadow")).length&&(e=E('<div class="swiper-cube-shadow"></div>'),r.append(e)),e.css({height:s+"px"})):0===(e=n.find(".swiper-cube-shadow")).length&&(e=E('<div class="swiper-cube-shadow"></div>'),n.append(e)));for(var f=0;f<i.length;f+=1){var m=i.eq(f),g=f;d&&(g=parseInt(m.attr("data-swiper-slide-index"),10));var y=90*g,v=Math.floor(y/360);a&&(y=-y,v=Math.floor(-y/360));var _=Math.max(Math.min(m[0].progress,1),-1),b=0,w=0,C=0;if(g%4==0?(b=4*-v*l,C=0):(g-1)%4==0?(b=0,C=4*-v*l):(g-2)%4==0?(b=l+4*v*l,C=l):(g-3)%4==0&&(b=-l,C=3*l+4*l*v),a&&(b=-b),h||(w=b,b=0),_<=1&&_>-1&&(p=90*g+90*_,a&&(p=90*-g-90*_)),m.transform("rotateX("+(h?0:-y)+"deg) rotateY("+(h?y:0)+"deg) translate3d("+b+"px, "+w+"px, "+C+"px)"),u.slideShadows){var S=m.find(h?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),T=m.find(h?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===S.length&&(S=E('<div class="swiper-slide-shadow-'+(h?"left":"top")+'"></div>'),m.append(S)),0===T.length&&(T=E('<div class="swiper-slide-shadow-'+(h?"right":"bottom")+'"></div>'),m.append(T)),S.length&&(S[0].style.opacity=Math.max(-_,0)),T.length&&(T[0].style.opacity=Math.max(_,0))}}if(r.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),u.shadow)if(h)e.transform("translate3d(0px, "+(s/2+u.shadowOffset)+"px, "+-s/2+"px) rotateX(90deg) rotateZ(0deg) scale("+u.shadowScale+")");else{var I=Math.abs(p)-90*Math.floor(Math.abs(p)/90),x=1.5-(Math.sin(2*I*Math.PI/360)/2+Math.cos(2*I*Math.PI/360)/2),k=u.shadowScale/x;e.transform("scale3d("+u.shadowScale+", 1, "+k+") translate3d(0px, "+(o/2+u.shadowOffset)+"px, "+-o/2/k+"px) rotateX(-90deg)")}r.transform("translate3d(0px,0,"+(c.isSafari||c.isWebView?-l/2:0)+"px) rotateX("+(t.isHorizontal()?0:p)+"deg) rotateY("+(t.isHorizontal()?-p:0)+"deg)")},setTransition:function(e){var t=this,n=t.$el;t.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&n.find(".swiper-cube-shadow").transition(e)}};function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Me={setTranslate:function(){for(var e=this,t=e.slides,n=e.rtlTranslate,r=0;r<t.length;r+=1){var i=t.eq(r),s=i[0].progress;e.params.flipEffect.limitRotation&&(s=Math.max(Math.min(i[0].progress,1),-1));var o=-180*s,a=0,l=-i[0].swiperSlideOffset,c=0;if(e.isHorizontal()?n&&(o=-o):(c=l,l=0,a=-o,o=0),i[0].style.zIndex=-Math.abs(Math.round(s))+t.length,e.params.flipEffect.slideShadows){var u=e.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),h=e.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===u.length&&(u=E('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),i.append(u)),0===h.length&&(h=E('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),i.append(h)),u.length&&(u[0].style.opacity=Math.max(-s,0)),h.length&&(h[0].style.opacity=Math.max(s,0))}i.transform("translate3d("+l+"px, "+c+"px, 0px) rotateX("+a+"deg) rotateY("+o+"deg)")}},setTransition:function(e){var t=this,n=t.slides,r=t.activeIndex,i=t.$wrapperEl;if(n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var s=!1;n.eq(r).transitionEnd(function(){if(!s&&t&&!t.destroyed){s=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)i.trigger(e[n])}})}}};function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ve={setTranslate:function(){for(var e=this,t=e.width,n=e.height,r=e.slides,i=e.slidesSizesGrid,s=e.params.coverflowEffect,o=e.isHorizontal(),a=e.translate,l=o?t/2-a:n/2-a,c=o?s.rotate:-s.rotate,u=s.depth,h=0,d=r.length;h<d;h+=1){var p=r.eq(h),f=i[h],m=(l-p[0].swiperSlideOffset-f/2)/f*s.modifier,g=o?c*m:0,y=o?0:c*m,v=-u*Math.abs(m),_=s.stretch;"string"==typeof _&&-1!==_.indexOf("%")&&(_=parseFloat(s.stretch)/100*f);var b=o?0:_*m,w=o?_*m:0,C=1-(1-s.scale)*Math.abs(m);if(Math.abs(w)<.001&&(w=0),Math.abs(b)<.001&&(b=0),Math.abs(v)<.001&&(v=0),Math.abs(g)<.001&&(g=0),Math.abs(y)<.001&&(y=0),Math.abs(C)<.001&&(C=0),p.transform("translate3d("+w+"px,"+b+"px,"+v+"px)  rotateX("+y+"deg) rotateY("+g+"deg) scale("+C+")"),p[0].style.zIndex=1-Math.abs(Math.round(m)),s.slideShadows){var S=p.find(o?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),T=p.find(o?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===S.length&&(S=E('<div class="swiper-slide-shadow-'+(o?"left":"top")+'"></div>'),p.append(S)),0===T.length&&(T=E('<div class="swiper-slide-shadow-'+(o?"right":"bottom")+'"></div>'),p.append(T)),S.length&&(S[0].style.opacity=m>0?m:0),T.length&&(T[0].style.opacity=-m>0?-m:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}};function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var je={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var n=e.constructor;return t.swiper instanceof n?(e.thumbs.swiper=t.swiper,k(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),k(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):I(t.swiper)&&(e.thumbs.swiper=new n(k({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var n=t.clickedIndex,r=t.clickedSlide;if(!(r&&E(r).hasClass(e.params.thumbs.slideThumbActiveClass)||null==n)){var i;if(i=t.params.loop?parseInt(E(t.clickedSlide).attr("data-swiper-slide-index"),10):n,e.params.loop){var s=e.activeIndex;e.slides.eq(s).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,s=e.activeIndex);var o=e.slides.eq(s).prevAll('[data-swiper-slide-index="'+i+'"]').eq(0).index(),a=e.slides.eq(s).nextAll('[data-swiper-slide-index="'+i+'"]').eq(0).index();i=void 0===o?a:void 0===a?o:a-s<s-o?a:o}e.slideTo(i)}}},update:function(e){var t=this,n=t.thumbs.swiper;if(n){var r="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView,i=t.params.thumbs.autoScrollOffset,s=i&&!n.params.loop;if(t.realIndex!==n.realIndex||s){var o,a,l=n.activeIndex;if(n.params.loop){n.slides.eq(l).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,l=n.activeIndex);var c=n.slides.eq(l).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),u=n.slides.eq(l).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();o=void 0===c?u:void 0===u?c:u-l==l-c?n.params.slidesPerGroup>1?u:l:u-l<l-c?u:c,a=t.activeIndex>t.previousIndex?"next":"prev"}else a=(o=t.realIndex)>t.previousIndex?"next":"prev";s&&(o+="next"===a?i:-1*i),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(o)<0&&(n.params.centeredSlides&&(o=o>l?o-Math.floor(r/2)+1:o+Math.floor(r/2)-1),n.slideTo(o,e?0:void 0))}var h=1,d=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(h=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),n.slides.removeClass(d),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(var p=0;p<h;p+=1)n.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+p)+'"]').addClass(d);else for(var f=0;f<h;f+=1)n.slides.eq(t.realIndex+f).addClass(d)}}};te.use([ie,ae,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){A(this,{mousewheel:{enabled:!1,lastScrollTime:S(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:le.enable,disable:le.disable,handle:le.handle,handleMouseEnter:le.handleMouseEnter,handleMouseLeave:le.handleMouseLeave,animateSlider:le.animateSlider,releaseScroll:le.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){A(this,{navigation:ce({},ue)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},"enable disable":function(e){var t=e.navigation,n=t.$nextEl,r=t.$prevEl;n&&n[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),r&&r[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)},click:function(e,t){var n=e.navigation,r=n.$nextEl,i=n.$prevEl,s=t.target;if(e.params.navigation.hideOnClick&&!E(s).is(i)&&!E(s).is(r)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===s||e.pagination.el.contains(s)))return;var o;r?o=r.hasClass(e.params.navigation.hiddenClass):i&&(o=i.hasClass(e.params.navigation.hiddenClass)),e.emit(!0===o?"navigationShow":"navigationHide"),r&&r.toggleClass(e.params.navigation.hiddenClass),i&&i.toggleClass(e.params.navigation.hiddenClass)}}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){A(this,{pagination:he({dynamicBulletIndex:0},de)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||void 0===e.snapIndex)&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},"enable disable":function(e){var t=e.pagination.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)},click:function(e,t){var n=t.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!E(n).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&n===e.navigation.nextEl||e.navigation.prevEl&&n===e.navigation.prevEl))return;var r=e.pagination.$el.hasClass(e.params.pagination.hiddenClass);e.emit(!0===r?"paginationShow":"paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){A(this,{scrollbar:pe({isTouched:!1,timeout:null,dragTimeout:null},fe)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},"enable disable":function(e){var t=e.scrollbar.$el;t&&t[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)},destroy:function(e){e.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){A(this,{parallax:me({},ge)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this;A(e,{zoom:ye({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},ve)});var t=1;Object.defineProperty(e.zoom,"scale",{get:function(){return t},set:function(n){t!==n&&e.emit("zoomChange",n,e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0),t=n}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){A(this,{lazy:_e({initialImageLoaded:!1},be)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},"scrollbarDragMove resize _freeModeNoMomentumRelease":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){var t=e.params;t.lazy.enabled&&(t.cssMode||(t.watchSlidesVisibility||t.watchSlidesProgress)&&(t.touchReleaseOnEdges||0===t.resistanceRatio))&&e.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){A(this,{controller:we({control:this.params.controller.control},Ee)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,n){e.controller.control&&e.controller.setTranslate(t,n)},setTransition:function(e,t,n){e.controller.control&&e.controller.setTransition(t,n)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}},create:function(){A(this,{a11y:Ce({},Se,{liveRegion:E('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,root:"",replaceState:!1,key:"slides"}},create:function(){A(this,{history:Te({},Ie)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){A(this,{hashNavigation:xe({initialized:!1},ke)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},"transitionEnd _freeModeNoMomentumRelease":function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}},create:function(){A(this,{autoplay:Ae({},Re,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),a().addEventListener("visibilitychange",e.autoplay.onVisibilityChange),e.autoplay.attachMouseEvents())},beforeTransitionStart:function(e,t,n){e.autoplay.running&&(n||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.detachMouseEvents(),e.autoplay.running&&e.autoplay.stop(),a().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){A(this,{fadeEffect:Pe({},Oe)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};k(e.params,t),k(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){A(this,{cubeEffect:Ne({},De)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};k(e.params,t),k(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){A(this,{flipEffect:Le({},Me)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};k(e.params,t),k(e.originalParams,t)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){A(this,{coverflowEffect:Fe({},Ve)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){A(this,{thumbs:Ue({swiper:null,initialized:!1},je)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var n=e.thumbs.swiper;n&&n.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}}]);var ze=n(7716);const Be=function(e){return{"swiper-container":e}},qe=["*"];let $e=(()=>{class e{constructor(e,t){this.elementRef=e,this.changeDetectorRef=t,this.slideCount=0,this.initialized=!1,this.shouldInitialize=!0}set initialize(e){this.shouldInitialize=!this.initialized&&e}ngAfterViewInit(){this.shouldInitialize&&this.setup()}setup(){this.swiper||(this.elementRef.nativeElement.querySelector&&(this.swiperWrapper=this.elementRef.nativeElement.querySelector(".swiper-wrapper"),this.slideCount=this.swiperWrapper.childElementCount,this.swiper=new te(this.elementRef.nativeElement.querySelector("swiper > div"),this.config),this.changeDetectorRef.detectChanges()),this.shouldInitialize=!1)}ngAfterViewChecked(){this.shouldInitialize&&this.setup(),this.swiperWrapper&&this.slideCount!==this.swiperWrapper.childElementCount&&(this.slideCount=this.swiperWrapper.childElementCount,this.swiper.update())}ngOnDestroy(){this.swiper.destroy(!0,!0)}}return e.\u0275fac=function(t){return new(t||e)(ze.Y36(ze.SBq),ze.Y36(ze.sBO))},e.\u0275cmp=ze.Xpm({type:e,selectors:[["swiper"]],inputs:{initialize:"initialize",config:"config"},ngContentSelectors:qe,decls:2,vars:3,consts:[[3,"ngClass"]],template:function(e,t){1&e&&(ze.F$t(),ze.TgZ(0,"div",0),ze.Hsn(1),ze.qZA()),2&e&&ze.Q6J("ngClass",ze.VKq(1,Be,void 0===(null==t.config?null:t.config.containerModifierClass)))},directives:[r.mk],styles:["[_nghost-%COMP%]{display:block}.swiper-container[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),e})(),Ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=ze.oAB({type:e}),e.\u0275inj=ze.cJS({imports:[[r.ez]]}),e})()},6215:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var r=n(9765),i=n(7971);class s extends r.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.N;return this._value}next(e){super.next(this._value=e)}}},3098:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(9193),i=n(5917),s=n(205);class o{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new o("N",e):o.undefinedValueNotification}static createError(e){return new o("E",void 0,e)}static createComplete(){return o.completeNotification}}o.completeNotification=new o("C"),o.undefinedValueNotification=new o("N",void 0)},7574:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487),l=n(2494);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=l.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(2494),i=n(4449);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},5197:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(7393);class i extends r.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},9765:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>c,xQ:()=>u});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),l=n(9181);class c extends i.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},8858:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),l=n(4449);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,l.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,l.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,s.m)(l)){n&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if((0,r.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var l;function c(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((l=new a).closed=!0,l)},2494:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>l});var r=n(7393),i=n(7574),s=n(7444);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function l(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2441:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>l});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const l=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},8071:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var r=n(5917),i=n(3282);function s(...e){return(0,i.J)(1)((0,r.of)(...e))}},1439:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(7574),i=n(4402),s=n(9193);function o(e){return new r.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,i.D)(n):(0,s.c)()).subscribe(t)})}},9193:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>s});var r=n(7574);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},5758:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var r=n(7574),i=n(9796),s=n(8002),o=n(1555),a=n(4402);function l(...e){if(1===e.length){const t=e[0];if((0,i.k)(t))return c(t,null);if((0,o.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return c(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return c(e=1===e.length&&(0,i.k)(e[0])?e[0]:e,null).pipe((0,s.U)(e=>t(...e)))}return c(e,null)}function c(e,t){return new r.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let l=0;l<r;l++){const c=(0,a.D)(e[l]);let u=!1;n.add(c.subscribe({next:e=>{u||(u=!0,o++),i[l]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&u||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}},4402:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),l=n(377),c=n(4072),u=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[l.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[l.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(7574),i=n(5015),s=n(4087);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},2759:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(7574),i=n(9796),s=n(9105),o=n(8002);function a(e,t,n,c){return(0,s.m)(n)&&(c=n,n=void 0),c?a(e,t,n).pipe((0,o.U)(e=>(0,i.k)(e)?c(...e):c(e))):new r.y(r=>{l(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function l(e,t,n,r,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,i),s=()=>r.removeEventListener(t,n,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),s=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),s=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)l(e[s],t,n,r,i)}r.add(s)}},6682:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},5917:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(4869),i=n(6693),s=n(4087);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},205:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(7574);function i(e,t){return new r.y(t?n=>t.schedule(s,0,{error:e,subscriber:n}):t=>t.error(e))}function s({error:e,subscriber:t}){t.error(e)}},628:(e,t,n)=>{"use strict";n.d(t,{e:()=>h});var r=n(3637),i=n(5345);class s{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new o(e,this.durationSelector))}}class o extends i.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const r=(0,i.ft)(n,new i.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var a=n(7574),l=n(6561),c=n(4869);function u(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function h(e,t=r.P){return n=()=>function(e=0,t,n){let i=-1;return(0,l.k)(t)?i=Number(t)<1?1:Number(t):(0,c.K)(t)&&(n=t),(0,c.K)(n)||(n=r.P),new a.y(t=>{const r=(0,l.k)(e)?e:+e-n.now();return n.schedule(u,r,{index:0,period:i,subscriber:t})})}(e,t),function(e){return e.lift(new s(n))};var n}},5304:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(5345);function i(e){return function(t){const n=new s(e),r=t.lift(n);return n.caught=r}}class s{constructor(e){this.selector=e}call(e,t){return t.subscribe(new o(e,this.selector,this.caught))}}class o extends r.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new r.IY(this);this.add(i);const s=(0,r.ft)(n,i);s!==i&&this.add(s)}}}},4612:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(9773);function i(e,t){return(0,r.zg)(e,t,1)}},4395:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(7393),i=n(3637);function s(e,t=i.P){return n=>n.lift(new o(e,t))}class o{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))}}class a extends r.L{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function l(e){e.debouncedNext()}},5242:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(7393);function i(e=null){return t=>t.lift(new s(e))}class s{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new o(e,this.defaultValue))}}class o extends r.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7393);function i(e,t){return n=>n.lift(new s(e,t))}class s{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}class o extends r.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}},5435:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(7393);function i(e,t){return function(n){return n.lift(new s(e,t))}}class s{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},8939:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(7393),i=n(5319);function s(e){return t=>t.lift(new o(e))}class o{constructor(e){this.callback=e}call(e,t){return t.subscribe(new a(e,this.callback))}}class a extends r.L{constructor(e,t){super(e),this.add(new i.w(t))}}},8049:(e,t,n)=>{"use strict";n.d(t,{P:()=>c});var r=n(3410),i=n(5435),s=n(5257),o=n(5242),a=n(4635),l=n(4487);function c(e,t){const n=arguments.length>=2;return c=>c.pipe(e?(0,i.h)((t,n)=>e(t,n,c)):l.y,(0,s.q)(1),n?(0,o.d)(t):(0,a.T)(()=>new r.K))}},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(9773),i=n(4487);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(8002),i=n(4402),s=n(5345);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4458:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(2441);function i(e,t){return function(n){let i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new s(i,t));const o=Object.create(n,r.N);return o.source=n,o.subjectFactory=i,o}}class s{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}},9746:(e,t,n)=>{"use strict";n.d(t,{QV:()=>s,ht:()=>a});var r=n(7393),i=n(3098);function s(e,t=0){return function(n){return n.lift(new o(e,t))}}class o{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))}}class a extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new l(e,this.destination)))}_next(e){this.scheduleMessage(i.P.createNext(e))}_error(e){this.scheduleMessage(i.P.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class l{constructor(e,t){this.notification=e,this.destination=t}}},9328:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(7393);function i(){return e=>e.lift(new s)}class s{call(e,t){return t.subscribe(new o(e))}}class o extends r.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}},1307:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7393);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2145:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(7393);function i(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}}class s{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends r.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},8345:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(4458),i=n(1307),s=n(9765);function o(){return new s.xQ}function a(){return e=>(0,i.x)()((0,r.O)(o)(e))}},2066:(e,t,n)=>{"use strict";n.d(t,{d:()=>h});var r=n(9765),i=n(7771),s=n(5319),o=n(9746),a=n(7971),l=n(8858);class c extends r.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new u(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.N;if(this.isStopped||this.hasError?c=s.w.EMPTY:(this.observers.push(e),c=new l.W(this,e)),r&&e.add(e=new o.ht(e,r)),t)for(let s=0;s<i&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<i&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),c}_getNow(){return(this.scheduler||i.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class u{constructor(e,t){this.time=e,this.value=t}}function h(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,l=!1;return function(u){let h;o++,!i||a?(a=!1,i=new c(e,t,r),h=i.subscribe(this),s=u.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){l=!0,s=void 0,i.complete()}}),l&&(s=void 0)):h=i.subscribe(this),this.add(()=>{o--,h.unsubscribe(),h=void 0,s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}},9761:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(8071),i=n(4869);function s(...e){const t=e[e.length-1];return(0,i.K)(t)?(e.pop(),n=>(0,r.z)(e,n,t)):t=>(0,r.z)(e,t)}},9673:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(7574),i=n(4581),s=n(6561);class o extends r.y{constructor(e,t=0,n=i.e){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(0,s.k)(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.e)}static create(e,t=0,n=i.e){return new o(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function a(e,t=0){return function(n){return n.lift(new l(e,t))}}class l{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new o(t,this.delay,this.scheduler).subscribe(e)}}},3190:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(8002),i=n(4402),s=n(5345);function o(e,t){return"function"==typeof t?n=>n.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new l(e,this.project))}}class l extends s.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new s.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,s.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},5257:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(7393),i=n(7108),s=n(9193);function o(e){return t=>0===e?(0,s.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new i.W}call(e,t){return t.subscribe(new l(e,this.total))}}class l extends r.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},6782:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(5345);function i(e){return t=>t.lift(new s(e))}class s{constructor(e){this.notifier=e}call(e,t){const n=new o(e),i=(0,r.ft)(this.notifier,new r.IY(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class o extends r.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},8307:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(7393),i=n(8640),s=n(9105);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i.Z,this._tapError=i.Z,this._tapComplete=i.Z,this._tapError=n||i.Z,this._tapComplete=r||i.Z,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i.Z,this._tapError=t.error||i.Z,this._tapComplete=t.complete||i.Z)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4635:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(3410),i=n(7393);function s(e=l){return t=>t.lift(new o(e))}class o{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new a(e,this.errorFactory))}}class a extends i.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function l(){return new r.K}},4087:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(7574),i=n(5319);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(5319);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},4581:(e,t,n)=>{"use strict";n.d(t,{e:()=>h,E:()=>u});let r=1;const i=Promise.resolve(),s={};function o(e){return e in s&&(delete s[e],!0)}const a={setImmediate(e){const t=r++;return s[t]=!0,i.then(()=>o(t)&&e()),t},clearImmediate(e){o(e)}};var l=n(6465),c=n(6102);const u=new class extends c.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends l.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=a.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(a.clearImmediate(t),e.scheduled=void 0)}}),h=u},3637:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,P:()=>s});var r=n(6465);const i=new(n(6102).v)(r.o),s=i},7771:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,N:()=>s});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=s},377:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},3410:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})()},7971:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},4487:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},9796:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},6561:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(9796);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},1555:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},5639:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(7574);function i(e){return!!e&&(e instanceof r.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},4072:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},4869:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},8640:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},7444:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),l=n(4072),c=n(1555);const u=e=>{if(e&&"function"==typeof e[o.L])return u=e,e=>{const t=u[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,l.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},5015:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},509:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(7393);class i extends r.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=n(7444),o=n(7574);function a(e,t,n,r,a=new i(e,n,r)){if(!a.closed)return t instanceof o.y?t.subscribe(a):(0,s.s)(t)(a)}},9001:(e,t,n)=>{"use strict";n.d(t,{e:()=>l});var r=n(7285),i=(n(3854),n(279),n(9306),n(8604),n(7716)),s=n(4384),o=n(3820),a=n(7389);let l=(()=>{class e{constructor(e,t,n,r){this.afs=e,this.afAuth=t,this.router=n,this.ngZone=r,this.afAuth.authState.subscribe(e=>{e?(this.userData=e,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(e,t){return this.afAuth.signInWithEmailAndPassword(e,t).then(e=>{this.ngZone.run(()=>{this.router.navigate(["posts"])}),this.SetUserData(e.user)}).catch(e=>{window.alert(e.message)})}SignUp(e,t){return this.afAuth.createUserWithEmailAndPassword(e,t).then(e=>{this.SendVerificationMail(),this.SetUserData(e.user)}).catch(e=>{window.alert(e.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this.router.navigate(["verify"])})}ForgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(e=>{window.alert(e)})}get isLoggedIn(){const e=JSON.parse(localStorage.getItem("user"));return null!==e&&!1!==e.emailVerified}GoogleAuth(){return this.AuthLogin(new r.Q).then(e=>{e&&this.router.navigate(["posts"])})}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(e=>{this.ngZone.run(()=>{this.router.navigate(["posts"])}),this.SetUserData(e.user)}).catch(e=>{window.alert(e)})}SetUserData(e){return this.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["/sign-in"])})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(s.ST),i.LFG(o.zQ),i.LFG(a.F0),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},3354:(e,t,n)=>{"use strict";n.d(t,{m:()=>w});var r=n(8583),i=n(3679),s=n(7389),o=n(9001),a=n(7716),l=n(2458);n(9490),n(5917),n(205),n(5758),n(5319),n(8307),n(8002),n(5304),n(8939),n(8345),n(5257),n(1841),n(9075);let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[l.BQ],l.BQ]}),e})();var u=n(1095),h=n(9983),d=n(8295);n(6237),n(2759),n(5435);let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.ez,l.BQ],l.BQ]}),e})();n(521);let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[l.BQ],l.BQ]}),e})();var m=n(2926),g=n(9992),y=n(3738);const v=[c,u.ot,h.c,d.lN,p,f,m.SJ,g.ie,y.QW];let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.ez,...v],c,u.ot,h.c,d.lN,p,f,m.SJ,g.ie,y.QW]}),e})();var b=n(5693);let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({providers:[o.e],imports:[[r.ez,s.Bz,i.u5,i.UX,_,b.X],i.u5,i.UX,_,b.X]}),e})()},3725:(e,t,n)=>{"use strict";var r=n(9075),i=n(7716),s=n(6237),o=n(1841),a=n(7389);const l=[{path:"",redirectTo:"/user",pathMatch:"full"},{path:"sign-in",loadChildren:()=>n.e(418).then(n.bind(n,4418)).then(e=>e.AuthModule)},{path:"posts",loadChildren:()=>n.e(653).then(n.bind(n,7653)).then(e=>e.PostsModule)},{path:"user",loadChildren:()=>n.e(930).then(n.bind(n,4930)).then(e=>e.UserModule)}];let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[a.Bz.forRoot(l,{scrollPositionRestoration:"top"})],a.Bz]}),e})(),u=(()=>{class e{constructor(){this.title="social-post-app"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:[a.lC],styles:[""]}),e})();var h=n(3354);const d={apiKey:"AIzaSyD9UX7ljOK59JFmBv2BwVjiv_Twrg0q7iU",authDomain:"social-post-app-4e55b.firebaseapp.com",databaseURL:"xxxxxxxxxxxxxxxxxxxxxxxx",projectId:"social-post-app-4e55b",storageBucket:"social-post-app-4e55b.appspot.com",messagingSenderId:"536460780913",appId:"1:536460780913:web:fbf681203c77af336342d0",measurementId:"G-VH35Z3T8CL"};var p=n(8747),f=n(3820),m=n(7574),g=n(5917),y=n(4402),v=n(4395),_=n(8002),b=n(3190),w=n(4459),E=n(156),C=n(6304),S=n(279),T=n(3854),I=n(8604);const x="firebasestorage.googleapis.com";class k extends T.ZR{constructor(e,t){super(A(e),`Firebase Storage: ${t} (${A(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,k.prototype)}_codeEquals(e){return A(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function A(e){return"storage/"+e}function R(){return new k("unknown","An unknown error occurred, please check the error payload for server response.")}function P(){return new k("canceled","User canceled the upload/download.")}function O(){return new k("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function N(e){return new k("invalid-argument",e)}function D(){return new k("app-deleted","The Firebase app was deleted.")}function L(e){return new k("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function M(e,t){return new k("invalid-format","String does not match format '"+e+"': "+t)}function F(e){throw new k("internal-error","Internal error: "+e)}class V{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=V.makeFromUrl(e,t)}catch(r){return new V(e,"")}if(""===n.path)return n;throw new k("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===x?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){let e=r[t.indices.path];e||(e=""),n=new V(r[t.indices.bucket],e),t.postModify(n);break}}if(null==n)throw function(e){return new k("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class U{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function j(e){return"string"==typeof e||e instanceof String}function z(e){return B()&&e instanceof Blob}function B(){return"undefined"!=typeof Blob}function q(e,t,n,r){if(r<t)throw N(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw N(`Invalid value for '${e}'. Expected ${n} or less.`)}function $(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function G(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}var H=(()=>(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(H||(H={})),H))();class W{constructor(e,t,n,r,i,s,o,a,l,c,u){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(s){r(s)}else if(null!==i){const e=R();e.serverResponse=i.getErrorText(),r(this.errorCallback_?this.errorCallback_(i,e):e)}else r(t.canceled?this.appDelete_?D():P():new k("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new K(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...e){c||(c=!0,t.apply(null,e))}function h(t){i=setTimeout(()=>{i=null,e(p,l())},t)}function d(){s&&clearTimeout(s)}function p(e,...t){if(c)return void d();if(e)return d(),void u.call(null,e,...t);if(l()||o)return d(),void u.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let f=!1;function m(e){f||(f=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((e,t)=>{if(t)return void e(!1,new K(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{null!==this.progressCallback_&&this.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===H.NO_ERROR,i=n.getStatus();if(!t||this.isRetryStatusCode_(i)){const t=n.getErrorCode()===H.ABORT;return void e(!1,new K(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new K(s,n))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class K{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Z(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Y(...e){const t=Z();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(B())return new Blob(e);throw new k("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Q={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class X{constructor(e,t){this.data=e,this.contentType=t||null}}function J(e,t){switch(e){case Q.RAW:return new X(ee(t));case Q.BASE64:case Q.BASE64URL:return new X(te(e,t));case Q.DATA_URL:return new X(function(e){const t=new ne(e);return t.base64?te(Q.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw M(Q.DATA_URL,"Malformed data URL.")}return ee(t)}(t.rest)}(t),new ne(t).contentType)}throw R()}function ee(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function te(e,t){switch(e){case Q.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw M(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case Q.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw M(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(i){throw M(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class ne{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw M(Q.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,i;null!=n&&(this.base64=(r=n).length>=(i=";base64").length&&r.substring(r.length-i.length)===i,this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class re{constructor(e,t){let n=0,r="";z(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(z(this.data_)){const s=(r=e,i=t,(n=this.data_).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===s?null:new re(s)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new re(n,!0)}}static getBlob(...e){if(B()){const t=e.map(e=>e instanceof re?e.data_:e);return new re(Y.apply(null,t))}{const t=e.map(e=>j(e)?J(Q.RAW,e).data:e.data_);let n=0;t.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new re(r,!0)}}uploadData(){return this.data_}}function ie(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t;var n}function se(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function oe(e,t){return t}class ae{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||oe}}let le=null;function ce(){if(le)return le;const e=[];e.push(new ae("bucket")),e.push(new ae("generation")),e.push(new ae("metageneration")),e.push(new ae("name","fullPath",!0));const t=new ae("name");t.xform=function(e,t){return function(e){return!j(e)||e.length<2?e:se(e)}(t)},e.push(t);const n=new ae("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ae("timeCreated")),e.push(new ae("updated")),e.push(new ae("md5Hash",null,!0)),e.push(new ae("cacheControl",null,!0)),e.push(new ae("contentDisposition",null,!0)),e.push(new ae("contentEncoding",null,!0)),e.push(new ae("contentLanguage",null,!0)),e.push(new ae("contentType",null,!0)),e.push(new ae("metadata","customMetadata",!0)),le=e,le}function ue(e,t,n){const r=ie(t);return null===r?null:function(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=new V(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function he(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class de{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pe(e){if(!e)throw R()}function fe(e,t){return function(n,r){const i=ue(e,r,t);return pe(null!==i),i}}function me(e){return function(t,n){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new k("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new k("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new k("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new k("unauthorized","User does not have permission to access '"+e.path+"'."):n,r.serverResponse=n.serverResponse,r}}function ge(e){const t=me(e);return function(n,r){let i=t(n,r);return 404===n.getStatus()&&(i=new k("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ye(e,t,n){const r=$(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new de(r,"GET",fe(e,n),i);return s.errorHandler=ge(t),s}function ve(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}class _e{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function be(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){pe(!1)}return pe(!!n&&-1!==(t||["active"]).indexOf(n)),n}const we=262144,Ee={STATE_CHANGED:"state_changed"},Ce={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Se(e){switch(e){case"running":case"pausing":case"canceling":return Ce.RUNNING;case"paused":return Ce.PAUSED;case"success":return Ce.SUCCESS;case"canceled":return Ce.CANCELED;case"error":default:return Ce.ERROR}}class Te{constructor(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Ie(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class xe extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=H.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=H.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=H.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw F("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw F("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw F("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw F("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw F("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ke(){return new xe}class Ae{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=ce(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=ve(t,r,i),a={name:o.fullPath},l=$(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=he(o,n),h=new de(l,"POST",function(e){let t;be(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){pe(!1)}return pe(j(t)),t},e.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=me(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ke,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const r=function(e,t,n,r){const i=new de(n,"POST",function(e){const t=be(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){pe(!1)}n||pe(!1);const i=Number(n);return pe(!isNaN(i)),new _e(i,r.size(),"final"===t)},e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=me(t),i}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,ke,t,n);this._request=i,i.getPromise().then(e=>{e=e,this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=we*this._chunkMultiplier,t=new _e(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,i)=>{let s;try{s=function(e,t,n,r,i,s,o,a){const l=new _e(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new k("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d={"X-Goog-Upload-Command":u===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},p=r.slice(h,h+u);if(null===p)throw O();const f=new de(n,"POST",function(e,n){const i=be(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?fe(t,s)(e,n):null,new _e(o,a,"final"===i,c)},t.maxUploadRetryTime);return f.headers=d,f.body=p.uploadData(),f.progressCallback=a||null,f.errorHandler=me(e),f}(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,ke,r,i);this._request=o,o.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){we*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=ye(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,ke,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=ve(t,r,i),c=he(l,n),u=re.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===u)throw O();const h={name:l.fullPath},d=$(s,e.host,e._protocol),p=e.maxUploadRetryTime,f=new de(d,"POST",fe(e,n),p);return f.urlParams=h,f.headers=o,f.body=u.uploadData(),f.errorHandler=me(t),f}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,ke,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=P(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Se(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Te(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Se(this._state)){case Ce.SUCCESS:Ie(this._resolve.bind(null,this.snapshot))();break;case Ce.CANCELED:case Ce.ERROR:Ie(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Se(this._state)){case Ce.RUNNING:case Ce.PAUSED:e.next&&Ie(e.next.bind(e,this.snapshot))();break;case Ce.SUCCESS:e.complete&&Ie(e.complete.bind(e))();break;case Ce.CANCELED:case Ce.ERROR:e.error&&Ie(e.error.bind(e,this._error))();break;default:e.error&&Ie(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Re{constructor(e,t){this._service=e,this._location=t instanceof V?t:V.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Re(e,t)}get root(){const e=new V(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return se(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new V(this._location.bucket,e);return new Re(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw L(e)}}function Pe(e,t,n){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,C.Z)(function*(e,t,n){const r={pageToken:n},i=yield Ne(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&(yield Pe(e,t,i.nextPageToken))})).apply(this,arguments)}function Ne(e,t){null!=t&&"number"==typeof t.maxResults&&q("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=function(e,t,n,r,i){const s={};s.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=$(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new de(o,"GET",function(e,t){return function(n,r){const i=function(e,t,n){const r=ie(n);return null===r?null:function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new V(t,n));r.prefixes.push(s)}if(n.items)for(const i of n.items){const n=e._makeStorageReference(new V(t,i.name));r.items.push(n)}return r}(e,t,r)}(e,t,r);return pe(null!==i),i}}(e,t.bucket),a);return l.urlParams=s,l.errorHandler=me(t),l}(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,ke)}function De(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new V(e._location.bucket,n);return new Re(e.storage,r)}function Le(e,t){if(e instanceof Ve){const n=e;if(null==n._bucket)throw new k("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new Re(n,n._bucket);return null!=t?Le(r,t):r}return void 0!==t?De(e,t):e}function Me(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Ve)return new Re(e,t);throw N("To use ref(service, url), the first argument must be a Storage instance.")}return Le(e,t)}function Fe(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:V.makeFromBucketSpec(n,e)}class Ve{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=x,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?V.makeFromBucketSpec(r,this._host):Fe(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?V.makeFromBucketSpec(this._url,e):Fe(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,C.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const e=yield t.getToken();if(null!==e)return e.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,C.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Re(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new U(D());{const i=function(e,t,n,r,i,s){const o=G(e.urlParams),a=e.url+o,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new W(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}makeRequestWithTokens(e,t){var n=this;return(0,C.Z)(function*(){const[r,i]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(e,t,r,i).getPromise()})()}}const Ue="@firebase/storage",je="0.9.9";function ze(e,t){return Me(e=(0,T.m9)(e),t)}(0,S._registerComponent)(new I.wA("storage",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Ve(n,r,i,t,S.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,S.registerVersion)(Ue,je,""),(0,S.registerVersion)(Ue,je,"esm2017");class Be{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class qe{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Be(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(t=>{if(e)return e(new Be(t,this,this._ref))},t)}on(e,t,n,r){let i;return t&&(i="function"==typeof t?e=>t(new Be(e,this,this._ref)):{next:t.next?e=>t.next(new Be(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class $e{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ge(e,this._service))}get items(){return this._delegate.items.map(e=>new Ge(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ge{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return De(e,t)}(this._delegate,e);return new Ge(t,this.storage)}get root(){return new Ge(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ge(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new qe(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ae(e,new re(t),n)}(e=(0,T.m9)(e),t,n)}(this._delegate,e,t),this)}putString(e,t=Q.RAW,n){this._throwIfRoot("putString");const r=J(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new qe(new Ae(this._delegate,new re(r.data,!0),i),this)}listAll(){return function(e){return function(e){const t={prefixes:[],items:[]};return Pe(e,t).then(()=>t)}(e=(0,T.m9)(e))}(this._delegate).then(e=>new $e(e,this.storage))}list(e){return function(e,t){return Ne(e=(0,T.m9)(e),t)}(this._delegate,e||void 0).then(e=>new $e(e,this.storage))}getMetadata(){return function(e){return function(e){e._throwIfRoot("getMetadata");const t=ye(e.storage,e._location,ce());return e.storage.makeRequestWithTokens(t,ke)}(e=(0,T.m9)(e))}(this._delegate)}updateMetadata(e){return function(e,t){return function(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=$(t.fullServerUrl(),e.host,e._protocol),s=he(n,r),o=e.maxOperationRetryTime,a=new de(i,"PATCH",fe(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=ge(t),a}(e.storage,e._location,t,ce());return e.storage.makeRequestWithTokens(n,ke)}(e=(0,T.m9)(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return function(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=$(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new de(r,"GET",function(e,t){return function(n,r){const i=ue(e,r,t);return pe(null!==i),function(e,t,n,r){const i=ie(t);if(null===i)return null;if(!j(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(t=>{const i=e.fullPath;return $("/b/"+o(e.bucket)+"/o/"+o(i),n,r)+G({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}(e,n),i);return s.errorHandler=ge(t),s}(e.storage,e._location,ce());return e.storage.makeRequestWithTokens(t,ke).then(e=>{if(null===e)throw new k("no-download-url","The given file does not have any download URLs.");return e})}(e=(0,T.m9)(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return function(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=$(t.fullServerUrl(),e.host,e._protocol),r=new de(n,"DELETE",function(e,t){},e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=ge(t),r}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ke)}(e=(0,T.m9)(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw L(e)}}class He{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(We(e))throw N("ref() expected a child path but got a URL, use refFromURL instead.");return new Ge(ze(this._delegate,e),this)}refFromURL(e){if(!We(e))throw N("refFromURL() expected a full URL but got a child path, use ref() instead.");try{V.makeFromUrl(e,this._delegate.host)}catch(t){throw N("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ge(ze(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){!function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:(0,T.Sg)(i,e.app.options.projectId))}(e,t,n,r)}(this._delegate,e,t,n)}}function We(e){return/^[A-Za-z]+:\/\//.test(e)}function Ke(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new He(n,r)}!function(e){const t={TaskState:Ce,TaskEvent:Ee,StringFormat:Q,Storage:He,Reference:Ge};e.INTERNAL.registerComponent(new I.wA("storage-compat",Ke,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(E.Z);var Ze=n(5355),Ye=n(7841);function Qe(e){const t=function(e){return new m.y(t=>{const n=e=>t.next(e);n(e.snapshot);const r=e.on("state_changed",n);return e.then(e=>{n(e),t.complete()},r=>{n(e.snapshot),(e=>{t.error(e)})(r)}),function(){r()}}).pipe((0,v.b)(0))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,_.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Xe(e){return{getDownloadURL:()=>(0,g.of)(void 0).pipe(w.fc,(0,b.w)(()=>e.getDownloadURL()),w.iC),getMetadata:()=>(0,g.of)(void 0).pipe(w.fc,(0,b.w)(()=>e.getMetadata()),w.iC),delete:()=>(0,y.D)(e.delete()),child:t=>Xe(e.child(t)),updateMetadata:t=>(0,y.D)(e.updateMetadata(t)),put:(t,n)=>Qe(e.put(t,n)),putString:(t,n,r)=>Qe(e.putString(t,n,r)),list:t=>(0,y.D)(e.list(t)),listAll:()=>(0,y.D)(e.listAll())}}const Je=new i.OlP("angularfire2.storageBucket"),et=new i.OlP("angularfire2.storage.maxUploadRetryTime"),tt=new i.OlP("angularfire2.storage.maxOperationRetryTime"),nt=new i.OlP("angularfire2.storage.use-emulator");let rt=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c){const u=(0,p.on)(e,i,t);this.storage=(0,p.cc)(`${u.name}.storage.${n}`,"AngularFireStorage",u.name,()=>{const e=i.runOutsideAngular(()=>u.storage(n||void 0)),t=l;return t&&e.useEmulator(...t),o&&e.setMaxUploadRetryTime(o),a&&e.setMaxOperationRetryTime(a),e},[o,a])}ref(e){return Xe(this.storage.ref(e))}refFromURL(e){return Xe(this.storage.refFromURL(e))}upload(e,t,n){return Xe(this.storage.ref(e)).put(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(p.Dh),i.LFG(p.xv,8),i.LFG(Je,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(w.HU),i.LFG(et,8),i.LFG(tt,8),i.LFG(nt,8),i.LFG(Ze.nm,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),it=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})(),st=(()=>{class e{constructor(){Ye.Z.registerVersion("angularfire",w.q4.full,"gcs-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[rt],imports:[it]}),e})();var ot=n(4384),at=n(3637),lt=n(6682),ct=n(8345),ut=n(2145),ht=n(7519),dt=n(5197),pt=n(509);class ft{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new mt(e,this.observables,this.project))}}class mt extends dt.L{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add((0,pt.D)(this,t[i],void 0,i))}notifyNext(e,t,n){this.values[n]=t;const r=this.toRespond;if(r.length>0){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var gt=n(7393);class yt{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new vt(e,this.predicate))}}class vt extends gt.L{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}n(4828);var _t=n(9306);const bt="@firebase/database",wt="0.13.3";let Et="";function Ct(e){Et=e}class St{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,T.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,T.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Tt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,T.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const It=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new St(t)}}catch(t){}return new Tt},xt=It("localStorage"),kt=It("sessionStorage"),At=new _t.Yd("@firebase/database"),Rt=function(){let e=1;return function(){return e++}}(),Pt=function(e){const t=(0,T.dS)(e),n=new T.gQ;n.update(t);const r=n.digest();return T.US.encodeByteArray(r)},Ot=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Ot.apply(null,r):t+="object"==typeof r?(0,T.Pz)(r):r,t+=" "}return t};let Nt=null,Dt=!0;const Lt=function(e,t){(0,T.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(At.logLevel=_t.in.VERBOSE,Nt=At.log.bind(At),t&&kt.set("logging_enabled",!0)):"function"==typeof e?Nt=e:(Nt=null,kt.remove("logging_enabled"))},Mt=function(...e){if(!0===Dt&&(Dt=!1,null===Nt&&!0===kt.get("logging_enabled")&&Lt(!0)),Nt){const t=Ot.apply(null,e);Nt(t)}},Ft=function(e){return function(...t){Mt(e,...t)}},Vt=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ot(...e);At.error(t)},Ut=function(...e){const t=`FIREBASE FATAL ERROR: ${Ot(...e)}`;throw At.error(t),new Error(t)},jt=function(...e){const t="FIREBASE WARNING: "+Ot(...e);At.warn(t)},zt=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Bt="[MIN_NAME]",qt="[MAX_NAME]",$t=function(e,t){if(e===t)return 0;if(e===Bt||t===qt)return-1;if(t===Bt||e===qt)return 1;{const n=Xt(e),r=Xt(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Gt=function(e,t){return e===t?0:e<t?-1:1},Ht=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,T.Pz)(t))},Wt=function(e){if("object"!=typeof e||null===e)return(0,T.Pz)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,T.Pz)(t[r]),n+=":",n+=Wt(e[t[r]]);return n+="}",n},Kt=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function Zt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Yt=function(e){let t,n,r,i,s;(0,T.hu)(!zt(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();const a=o.join("");let l="";for(s=0;s<64;s+=8){let e=parseInt(a.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},Qt=new RegExp("^-?(0*)\\d{1,10}$"),Xt=function(e){if(Qt.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Jt=function(e){try{e()}catch(t){setTimeout(()=>{throw jt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},en=function(e,t){const n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n};class tn{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class nn{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(e)}}let rn=(()=>{class e{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const sn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,on="websocket",an="long_polling";class ln{constructor(e,t,n,r,i=!1,s="",o=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xt.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&xt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function cn(e,t,n){let r;if((0,T.hu)("string"==typeof t,"typeof type must == string"),(0,T.hu)("object"==typeof n,"typeof params must == object"),t===on)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==an)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Zt(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class un{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,T.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,T.p$)(this.counters_)}}const hn={},dn={};function pn(e){const t=e.toString();return hn[t]||(hn[t]=new un),hn[t]}class fn{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Jt(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class mn{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ft(e),this.stats_=pn(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),cn(t,an,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new fn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,T.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gn((...e)=>{const[t,n,r,i,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&sn.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mn.forceAllow_=!0}static forceDisallow(){mn.forceDisallow_=!0}static isAvailable(){return!((0,T.Yr)()||!mn.forceAllow_&&(mn.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,T.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,T.h$)(t),r=Kt(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,T.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,T.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class gn{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,T.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Rt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=gn.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Mt("frame writing exception"),i.stack&&Mt(i.stack),Mt(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Mt("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){(0,T.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Mt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let yn=null;"undefined"!=typeof MozWebSocket?yn=MozWebSocket:"undefined"!=typeof WebSocket&&(yn=WebSocket);let vn=(()=>{class e{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ft(this.connId),this.stats_=pn(n),this.connURL=e.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={v:"5"};return!(0,T.Yr)()&&"undefined"!=typeof location&&location.hostname&&sn.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s.ac=r),i&&(s.p=i),cn(e,on,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xt.set("previous_websocket_failure",!0);try{let e;if((0,T.Yr)()){e={headers:{"User-Agent":`Firebase/5/${Et}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const t=process.env,n=0===this.connURL.indexOf("wss://")?t.HTTPS_PROXY||t.https_proxy:t.HTTP_PROXY||t.http_proxy;n&&(e.proxy={origin:n})}this.mySock=new yn(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&e.length>1&&parseFloat(e[1])<4.4&&(t=!0)}return!t&&null!==yn&&!e.forceDisallow_}static previouslyFailed(){return xt.isInMemoryStorage||!0===xt.get("previous_websocket_failure")}markConnectionHealthy(){xt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,T.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,T.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,T.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Kt(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),_n=(()=>{class e{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[mn,vn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=vn&&vn.isAvailable();let r=n&&!vn.previouslyFailed();if(t.webSocketOnly&&(n||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[vn];else{const t=this.transports_=[];for(const n of e.ALL_TRANSPORTS)n&&n.isAvailable()&&t.push(n);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class bn{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ft("c:"+this.id+":"),this.transportManager_=new _n(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=en(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ht("t",e),n=Ht("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ht("t",e),n=Ht("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ht("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Vt("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vt("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),en(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):en(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class wn{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class En{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,T.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){(0,T.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Cn extends En{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,T.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cn}getInitialEvent(e){return(0,T.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Sn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Tn(){return new Sn("")}function In(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function xn(e){return e.pieces_.length-e.pieceNum_}function kn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Sn(e.pieces_,t)}function An(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Rn(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Pn(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Sn(t,0)}function On(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Sn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Sn(n,0)}function Nn(e){return e.pieceNum_>=e.pieces_.length}function Dn(e,t){const n=In(e),r=In(t);if(null===n)return t;if(n===r)return Dn(kn(e),kn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ln(e,t){const n=Rn(e,0),r=Rn(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=$t(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Mn(e,t){if(xn(e)!==xn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Fn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(xn(e)>xn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Vn{constructor(e,t){this.errorPrefix_=t,this.parts_=Rn(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,T.ug)(this.parts_[n]);Un(this)}}function Un(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jn(e))}function jn(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class zn extends En{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new zn}getInitialEvent(e){return(0,T.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Bn=1e3;let qn,$n=(()=>{class e extends wn{constructor(t,n,r,i,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Ft("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,T.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zn.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Cn.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,T.Pz)(i)),(0,T.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new T.BH,n={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:n,onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,T.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,T.hu)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r};t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,s=>{const o=s.d,a=s.s;e.warnOnListenWarnings_(o,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",s),"ok"!==a&&this.removeListen_(r,i),t.onComplete&&t.onComplete(a,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,T.r3)(e,"w")){const n=(0,T.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,T.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,T.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,T.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{"ok"!==e.s&&this.log_("reportStats","Error sending stats: "+e.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,T.Pz)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Vt("Unrecognized action received from server: "+(0,T.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,T.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Bn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,C.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const n=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),i=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+e.nextConnectionId_++,o=t.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,i())};t.realtime_={close:c,sendRequest:function(e){(0,T.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};const u=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[e,c]=yield Promise.all([t.authTokenProvider_.getToken(u),t.appCheckTokenProvider_.getToken(u)]);a?Mt("getToken() completed but was canceled"):(Mt("getToken() completed. Creating connection."),t.authToken_=e&&e.accessToken,t.appCheckToken_=c&&c.token,l=new bn(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,n,r,i,e=>{jt(e+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},o))}catch(Vt){t.log_("Failed to get token: "+Vt),a||(t.repoInfo_.nodeAdmin&&jt(Vt),c())}}})()}interrupt(e){Mt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,T.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Bn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Wt(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Sn(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Mt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Mt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,T.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Et.replace(/\./g,"-")]=1,(0,T.uI)()?e["framework.cordova"]=1:(0,T.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cn.getInstance().currentlyOnline();return(0,T.xb)(this.interruptReasons_)&&e}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class Gn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Gn(e,t)}}class Hn{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Gn(Bt,e),r=new Gn(Bt,t);return 0!==this.compare(n,r)}minPost(){return Gn.MIN}}class Wn extends Hn{static get __EMPTY_NODE(){return qn}static set __EMPTY_NODE(e){qn=e}compare(e,t){return $t(e.name,t.name)}isDefinedOn(e){throw(0,T.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Gn.MIN}maxPost(){return new Gn(qt,qn)}makePost(e,t){return(0,T.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Gn(e,qn)}toString(){return".key"}}const Kn=new Wn;class Zn{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Yn,Qn=(()=>{class e{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Xn.EMPTY_NODE,this.right=null!=s?s:Xn.EMPTY_NODE}copy(t,n,r,i,s){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xn.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Xn.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class Xn{constructor(e,t=Xn.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Xn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Qn.BLACK,null,null))}remove(e){return new Xn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qn.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zn(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Zn(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Zn(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Zn(this.root_,null,this.comparator_,!0,e)}}function Jn(e,t){return $t(e.name,t.name)}function er(e,t){return $t(e,t)}Xn.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Qn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const tr=function(e){return"number"==typeof e?"number:"+Yt(e):"string:"+e},nr=function(e){if(e.isLeafNode()){const t=e.val();(0,T.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,T.r3)(t,".sv"),"Priority must be a string or number.")}else(0,T.hu)(e===Yn||e.isEmpty(),"priority of unexpected type.");(0,T.hu)(e===Yn||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let rr,ir,sr,or=(()=>{class e{constructor(t,n=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,T.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),nr(this.priorityNode_)}static set __childrenNodeConstructor(e){rr=e}static get __childrenNodeConstructor(){return rr}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Nn(t)?this:".priority"===In(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=In(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,T.hu)(".priority"!==r||1===xn(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(kn(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tr(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Yt(this.value_):this.value_,this.lazyHash_=Pt(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,T.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return(0,T.hu)(i>=0,"Unknown leaf type: "+n),(0,T.hu)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const ar=new class extends Hn{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?$t(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Gn.MIN}maxPost(){return new Gn(qt,new or("[PRIORITY-POST]",sr))}makePost(e,t){const n=ir(e);return new Gn(t,new or("[PRIORITY-POST]",n))}toString(){return".priority"}},lr=Math.log(2);class cr{constructor(e){this.count=parseInt(Math.log(e+1)/lr,10),this.current_=this.count-1;const t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ur=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Qn(a,o.node,Qn.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new Qn(a,o.node,Qn.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new Qn(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Qn.BLACK):(a(r,Qn.BLACK),a(r,Qn.RED))}return s}(new cr(e.length));return new Xn(r||t,s)};let hr;const dr={};class pr{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,T.hu)(dr&&ar,"ChildrenNode.ts has not been loaded"),hr=hr||new pr({".priority":dr},{".priority":ar}),hr}get(e){const t=(0,T.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Xn?t:null}hasIndex(e){return(0,T.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,T.hu)(e!==Kn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Gn.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?ur(n,e.getCompare()):dr;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new pr(c,l)}addToIndexes(e,t){const n=(0,T.UI)(this.indexes_,(n,r)=>{const i=(0,T.DV)(this.indexSet_,r);if((0,T.hu)(i,"Missing index implementation for "+r),n===dr){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Gn.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),ur(n,i.getCompare())}return dr}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Gn(e.name,r))),i.insert(e,e.node)}});return new pr(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,T.UI)(this.indexes_,n=>{if(n===dr)return n;{const r=t.get(e.name);return r?n.remove(new Gn(e.name,r)):n}});return new pr(n,this.indexSet_)}}let fr,mr=(()=>{class e{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&nr(this.priorityNode_),this.children_.isEmpty()&&(0,T.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fr||(fr=new e(new Xn(er),null,pr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fr}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?fr:t}}getChild(e){const t=In(e);return null===t?this:this.getImmediateChild(t).getChild(kn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(t,n){if((0,T.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);{const r=new Gn(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?fr:this.priorityNode_;return new e(i,o,s)}}updateChild(e,t){const n=In(e);if(null===n)return t;{(0,T.hu)(".priority"!==In(e)||1===xn(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(kn(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ar,(o,a)=>{n[o]=a.val(t),r++,s&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const e=[];for(const t in n)e[t]=n[t];return e}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+tr(this.getPriority().val())+":"),this.forEachChild(ar,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":Pt(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Gn(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Gn(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Gn(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,Gn.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,Gn.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gr?-1:0}withIndex(t){if(t===Kn||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Kn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(ar),n=t.getIterator(ar);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Kn?null:this.indexMap_.get(e.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const gr=new class extends mr{constructor(){super(new Xn(er),mr.EMPTY_NODE,pr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return mr.EMPTY_NODE}isEmpty(){return!1}};function yr(e,t=null){if(null===e)return mr.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,T.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new or(e,yr(t));if(e instanceof Array){let n=mr.EMPTY_NODE;return Zt(e,(t,r)=>{if((0,T.r3)(e,t)&&"."!==t.substring(0,1)){const e=yr(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(yr(t))}{const n=[];let r=!1;if(Zt(e,(e,t)=>{if("."!==e.substring(0,1)){const i=yr(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Gn(e,i)))}}),0===n.length)return mr.EMPTY_NODE;const i=ur(n,Jn,e=>e.name,er);if(r){const e=ur(n,ar.getCompare());return new mr(i,yr(t),new pr({".priority":e},{".priority":ar}))}return new mr(i,yr(t),pr.Default)}}Object.defineProperties(Gn,{MIN:{value:new Gn(Bt,mr.EMPTY_NODE)},MAX:{value:new Gn(qt,gr)}}),Wn.__EMPTY_NODE=mr.EMPTY_NODE,or.__childrenNodeConstructor=mr,Yn=gr,sr=gr,ir=yr;class vr extends Hn{constructor(e){super(),this.indexPath_=e,(0,T.hu)(!Nn(e)&&".priority"!==In(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?$t(e.name,t.name):i}makePost(e,t){const n=yr(e),r=mr.EMPTY_NODE.updateChild(this.indexPath_,n);return new Gn(t,r)}maxPost(){const e=mr.EMPTY_NODE.updateChild(this.indexPath_,gr);return new Gn(qt,e)}toString(){return Rn(this.indexPath_,0).join("/")}}const _r=new class extends Hn{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?$t(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Gn.MIN}maxPost(){return Gn.MAX}makePost(e,t){const n=yr(e);return new Gn(t,n)}toString(){return".value"}},br="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wr=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=br.charAt(n%64),n=Math.floor(n/64);(0,T.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=br.charAt(t[i]);return(0,T.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),Er=function(e){if("2147483647"===e)return"-";const t=Xt(e);if(null!=t)return""+(t+1);const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e.charAt(s);if(n.length<786)return n.push("-"),n.join("");let r=n.length-1;for(;r>=0&&"z"===n[r];)r--;if(-1===r)return qt;const i=br.charAt(br.indexOf(n[r])+1);return n[r]=i,n.slice(0,r+1).join("")},Cr=function(e){if("-2147483648"===e)return Bt;const t=Xt(e);if(null!=t)return""+(t-1);const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=br.charAt(br.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Sr(e){return{type:"value",snapshotNode:e}}function Tr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ir(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xr(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class kr{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){(0,T.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Ir(t,o)):(0,T.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(Tr(t,n)):s.trackChildChange(xr(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ar,(e,r)=>{t.hasChild(e)||n.trackChildChange(Ir(e,r))}),t.isLeafNode()||t.forEachChild(ar,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(xr(t,r,i))}else n.trackChildChange(Tr(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?mr.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ar{constructor(e){this.indexedFilter_=new kr(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ar.getStartPost_(e),this.endPost_=Ar.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,s){return this.matches(new Gn(t,n))||(n=mr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=mr.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(mr.EMPTY_NODE);const i=this;return t.forEachChild(ar,(e,t)=>{i.matches(new Gn(e,t))||(r=r.updateImmediateChild(e,mr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Rr{constructor(e){this.rangedFilter_=new Ar(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new Gn(t,n))||(n=mr.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=mr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=mr.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,s;if(r=t.withIndex(this.index_),r=r.updatePriority(mr.EMPTY_NODE),this.reverse_){s=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else s=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let o=0,a=!1;for(;s.hasNext();){const t=s.getNext();!a&&i(e,t)<=0&&(a=!0),a&&o<this.limit_&&i(t,n)<=0?o++:r=r.updateImmediateChild(t.name,mr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;(0,T.hu)(o.numChildren()===this.limit_,"");const a=new Gn(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(xr(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Ir(t,e));const n=o.updateImmediateChild(t,mr.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Tr(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(Ir(l.name,l.node)),i.trackChildChange(Tr(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,mr.EMPTY_NODE)):e}}class Pr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ar}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,T.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,T.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bt}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,T.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,T.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,T.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ar}copy(){const e=new Pr;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Or(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Nr(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Dr(e,t){const n=e.copy();return n.index_=t,n}function Lr(e){const t={};if(e.isDefault())return t;let n;return e.index_===ar?n="$priority":e.index_===_r?n="$value":e.index_===Kn?n="$key":((0,T.hu)(e.index_ instanceof vr,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,T.Pz)(n),e.startSet_&&(t.startAt=(0,T.Pz)(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+(0,T.Pz)(e.indexStartName_))),e.endSet_&&(t.endAt=(0,T.Pz)(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+(0,T.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Mr(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ar&&(t.i=e.index_.toString()),t}class Fr extends wn{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Ft("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,T.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Fr.getListenId_(e,n),o={};this.listens_[s]=o;const a=Lr(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),(0,T.DV)(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Fr.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Lr(e._queryParams),n=e._path.toString(),r=new T.BH;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,T.xO)(t);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let t=null;if(o.status>=200&&o.status<300){try{t=(0,T.cI)(o.responseText)}catch(e){jt("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,t)}else 401!==o.status&&404!==o.status&&jt("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class Vr{constructor(){this.rootNode_=mr.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Ur(){return{value:null,children:new Map}}function jr(e,t,n){if(Nn(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=In(t);e.children.has(r)||e.children.set(r,Ur()),jr(e.children.get(r),t=kn(t),n)}}function zr(e,t){if(Nn(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(ar,(t,n)=>{jr(e,new Sn(t),n)}),zr(e,t)}}if(e.children.size>0){const n=In(t);return t=kn(t),e.children.has(n)&&zr(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function Br(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{Br(r,new Sn(t.toString()+"/"+e),n)})}class qr{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Zt(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class $r{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new qr(e);const n=1e4+2e4*Math.random();en(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Zt(e,(e,r)=>{r>0&&(0,T.r3)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),en(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Gr=(()=>(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Gr||(Gr={})),Gr))();function Hr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Wr{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Gr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Nn(this.path)){if(null!=this.affectedTree.value)return(0,T.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Sn(e));return new Wr(Tn(),t,this.revert)}}return(0,T.hu)(In(this.path)===e,"operationForChild called for unrelated child."),new Wr(kn(this.path),this.affectedTree,this.revert)}}class Kr{constructor(e,t){this.source=e,this.path=t,this.type=Gr.LISTEN_COMPLETE}operationForChild(e){return Nn(this.path)?new Kr(this.source,Tn()):new Kr(this.source,kn(this.path))}}class Zr{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Gr.OVERWRITE}operationForChild(e){return Nn(this.path)?new Zr(this.source,Tn(),this.snap.getImmediateChild(e)):new Zr(this.source,kn(this.path),this.snap)}}class Yr{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Gr.MERGE}operationForChild(e){if(Nn(this.path)){const t=this.children.subtree(new Sn(e));return t.isEmpty()?null:t.value?new Zr(this.source,Tn(),t.value):new Yr(this.source,Tn(),t)}return(0,T.hu)(In(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Yr(this.source,kn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Qr{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Nn(e))return this.isFullyInitialized()&&!this.filtered_;const t=In(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Xr{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Jr(e,t,n,r,i,s){const o=r.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,T.g5)("Should only compare child_ events.");const r=new Gn(t.childName,t.snapshotNode),i=new Gn(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),o.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function ei(e,t){return{eventCache:e,serverCache:t}}function ti(e,t,n,r){return ei(new Qr(t,n,r),e.serverCache)}function ni(e,t,n,r){return ei(e.eventCache,new Qr(t,n,r))}function ri(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ii(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let si;class oi{constructor(e,t=(()=>(si||(si=new Xn(Gt)),si))()){this.value=e,this.children=t}static fromObject(e){let t=new oi(null);return Zt(e,(e,n)=>{t=t.set(new Sn(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Tn(),value:this.value};if(Nn(e))return null;{const n=In(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(kn(e),t);return null!=i?{path:On(new Sn(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Nn(e))return this;{const t=In(e),n=this.children.get(t);return null!==n?n.subtree(kn(e)):new oi(null)}}set(e,t){if(Nn(e))return new oi(t,this.children);{const n=In(e),r=(this.children.get(n)||new oi(null)).set(kn(e),t),i=this.children.insert(n,r);return new oi(this.value,i)}}remove(e){if(Nn(e))return this.children.isEmpty()?new oi(null):new oi(null,this.children);{const t=In(e),n=this.children.get(t);if(n){const r=n.remove(kn(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new oi(null):new oi(this.value,i)}return this}}get(e){if(Nn(e))return this.value;{const t=In(e),n=this.children.get(t);return n?n.get(kn(e)):null}}setTree(e,t){if(Nn(e))return t;{const n=In(e),r=(this.children.get(n)||new oi(null)).setTree(kn(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new oi(this.value,i)}}fold(e){return this.fold_(Tn(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(On(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Tn(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Nn(e))return null;{const r=In(e),i=this.children.get(r);return i?i.findOnPath_(kn(e),On(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Tn(),t)}foreachOnPath_(e,t,n){if(Nn(e))return this;{this.value&&n(t,this.value);const r=In(e),i=this.children.get(r);return i?i.foreachOnPath_(kn(e),On(t,r),n):new oi(null)}}foreach(e){this.foreach_(Tn(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(On(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class ai{constructor(e){this.writeTree_=e}static empty(){return new ai(new oi(null))}}function li(e,t,n){if(Nn(t))return new ai(new oi(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Dn(i,t);return s=s.updateChild(o,n),new ai(e.writeTree_.set(i,s))}{const r=new oi(n),i=e.writeTree_.setTree(t,r);return new ai(i)}}}function ci(e,t,n){let r=e;return Zt(n,(e,n)=>{r=li(r,On(t,e),n)}),r}function ui(e,t){if(Nn(t))return ai.empty();{const n=e.writeTree_.setTree(t,new oi(null));return new ai(n)}}function hi(e,t){return null!=di(e,t)}function di(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Dn(n.path,t)):null}function pi(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ar,(e,n)=>{t.push(new Gn(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new Gn(e,n.value))}),t}function fi(e,t){if(Nn(t))return e;{const n=di(e,t);return new ai(null!=n?new oi(n):e.writeTree_.subtree(t))}}function mi(e){return e.writeTree_.isEmpty()}function gi(e,t){return yi(Tn(),e.writeTree_,t)}function yi(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?((0,T.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=yi(On(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(On(e,".priority"),r)),n}}function vi(e,t){return Ai(t,e)}function _i(e,t){if(e.snap)return Fn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Fn(On(e.path,n),t))return!0;return!1}function bi(e){return e.visible}function wi(e,t,n){let r=ai.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Fn(n,e)?(t=Dn(n,e),r=li(r,t,s.snap)):Fn(e,n)&&(t=Dn(e,n),r=li(r,Tn(),s.snap.getChild(t)));else{if(!s.children)throw(0,T.g5)("WriteRecord should have .snap or .children");if(Fn(n,e))t=Dn(n,e),r=ci(r,t,s.children);else if(Fn(e,n))if(t=Dn(e,n),Nn(t))r=ci(r,Tn(),s.children);else{const e=(0,T.DV)(s.children,In(t));if(e){const n=e.getChild(kn(t));r=li(r,Tn(),n)}}}}}return r}function Ei(e,t,n,r,i){if(r||i){const s=fi(e.visibleWrites,t);return!i&&mi(s)?n:i||null!=n||hi(s,Tn())?gi(wi(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Fn(e.path,t)||Fn(t,e.path))},t),n||mr.EMPTY_NODE):null}{const r=di(e.visibleWrites,t);if(null!=r)return r;{const r=fi(e.visibleWrites,t);return mi(r)?n:null!=n||hi(r,Tn())?gi(r,n||mr.EMPTY_NODE):null}}}function Ci(e,t,n,r){return Ei(e.writeTree,e.treePath,t,n,r)}function Si(e,t){return function(e,t,n){let r=mr.EMPTY_NODE;const i=di(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ar,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=fi(e.visibleWrites,t);return n.forEachChild(ar,(e,t)=>{const n=gi(fi(i,new Sn(e)),t);r=r.updateImmediateChild(e,n)}),pi(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return pi(fi(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function Ti(e,t,n,r){return function(e,t,n,r,i){(0,T.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=On(t,n);if(hi(e.visibleWrites,s))return null;{const t=fi(e.visibleWrites,s);return mi(t)?i.getChild(n):gi(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Ii(e,t){return function(e,t){return di(e.visibleWrites,t)}(e.writeTree,On(e.treePath,t))}function xi(e,t,n){return function(e,t,n,r){const i=On(t,n),s=di(e.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?gi(fi(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ki(e,t){return Ai(On(e.treePath,t),e.writeTree)}function Ai(e,t){return{treePath:e,writeTree:t}}class Ri{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,T.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,T.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,xr(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ir(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Tr(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,T.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,xr(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Pi=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Oi{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Qr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xi(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ii(this.viewCache_),i=function(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=fi(e.visibleWrites,t),c=di(l,Tn());if(null!=c)a=c;else{if(null==n)return[];a=gi(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let i=n.getNext();for(;i&&e.length<1;)0!==t(i,r)&&e.push(i),i=n.getNext();return e}}(e.writeTree,e.treePath,t,n,0,i,s)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]}}function Ni(e,t,n,r,i,s){const o=t.eventCache;if(null!=Ii(r,n))return t;{let a,l;if(Nn(n))if((0,T.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=ii(t),i=Si(r,n instanceof mr?n:mr.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Ci(r,ii(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=In(n);if(".priority"===c){(0,T.hu)(1===xn(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=Ti(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=kn(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Ti(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=xi(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return ti(t,a,o.isFullyInitialized()||Nn(n),e.filter.filtersNodes())}}function Di(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Nn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=In(n);if(!l.isCompleteForPath(n)&&xn(n)>1)return t;const i=kn(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,Pi,null)}const h=ni(t,c,l.isFullyInitialized()||Nn(n),u.filtersNodes());return Ni(e,h,n,i,new Oi(i,h,s),a)}function Li(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new Oi(i,t,s);if(Nn(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=ti(t,c,!0,e.filter.filtersNodes());else{const i=In(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=ti(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=kn(n),c=a.getNode().getImmediateChild(i);let h;if(Nn(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===An(s)&&e.getChild(Pn(s)).isEmpty()?e:e.updateChild(s,r):mr.EMPTY_NODE}l=c.equals(h)?t:ti(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function Mi(e,t){return e.eventCache.isCompleteForChild(t)}function Fi(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Vi(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Nn(n)?r:new oi(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Fi(0,t.serverCache.getNode().getImmediateChild(n),r);c=Di(e,c,new Sn(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!l){const l=Fi(0,t.serverCache.getNode().getImmediateChild(n),r);c=Di(e,c,new Sn(n),l,i,s,o,a)}}),c}class Ui{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new kr(n.getIndex()),i=(s=n).loadsAllData()?new kr(s.getIndex()):s.hasLimit()?new Rr(s):new Ar(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(mr.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(mr.EMPTY_NODE,a.getNode(),null),u=new Qr(l,o.isFullyInitialized(),r.filtersNodes()),h=new Qr(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ei(h,u),this.eventGenerator_=new Xr(this.query_)}get query(){return this.query_}}function ji(e,t){const n=ii(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Nn(t)&&!n.getImmediateChild(In(t)).isEmpty())?n.getChild(t):null}function zi(e){return 0===e.eventRegistrations_.length}function Bi(e,t,n){const r=[];if(n){(0,T.hu)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function qi(e,t,n,r){t.type===Gr.MERGE&&null!==t.source.queryId&&((0,T.hu)(ii(e.viewCache_),"We should always have a full cache before handling merges"),(0,T.hu)(ri(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=function(e,t,n,r,i){const s=new Ri;let o,a;if(n.type===Gr.OVERWRITE){const l=n;l.source.fromUser?o=Li(e,t,l.path,l.snap,r,i,s):((0,T.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Nn(l.path),o=Di(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===Gr.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach((r,l)=>{const c=On(n,r);Mi(t,In(c))&&(a=Li(e,a,c,l,i,s,o))}),r.foreach((r,l)=>{const c=On(n,r);Mi(t,In(c))||(a=Li(e,a,c,l,i,s,o))}),a}(e,t,l.path,l.children,r,i,s):((0,T.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Vi(e,t,l.path,l.children,r,i,a,s))}else if(n.type===Gr.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=Ii(r,n))return t;{const a=new Oi(r,t,i),l=t.eventCache.getNode();let c;if(Nn(n)||".priority"===In(n)){let n;if(t.serverCache.isFullyInitialized())n=Ci(r,ii(t));else{const e=t.serverCache.getNode();(0,T.hu)(e instanceof mr,"serverChildren would be complete if leaf node"),n=Si(r,e)}n=n,c=e.filter.updateFullNode(l,n,s)}else{const i=In(n);let u=xi(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,kn(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,mr.EMPTY_NODE,kn(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ci(r,ii(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=Ii(r,Tn()),ti(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=Ii(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Nn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Di(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Nn(n)){let r=new oi(null);return l.getNode().forEachChild(Kn,(e,t)=>{r=r.set(new Sn(e),t)}),Vi(e,t,n,r,i,s,a,o)}return t}{let c=new oi(null);return r.foreach((e,t)=>{const r=On(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Vi(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==Gr.LISTEN_COMPLETE)throw(0,T.g5)("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache;return Ni(e,ni(t,s.getNode(),s.isFullyInitialized()||Nn(n),s.isFiltered()),n,r,Pi,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ri(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Sr(ri(t)))}}(t,o,l),{viewCache:o,changes:l}}(e.processor_,i,t,n,r);var o,a;return o=e.processor_,(0,T.hu)((a=s.viewCache).eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,T.hu)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),(0,T.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,$i(e,s.changes,s.viewCache.eventCache.getNode(),null)}function $i(e,t,n,r){return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})}),Jr(e,i,"child_removed",t,r,n),Jr(e,i,"child_added",t,r,n),Jr(e,i,"child_moved",s,r,n),Jr(e,i,"child_changed",t,r,n),Jr(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let Gi,Hi;class Wi{constructor(){this.views=new Map}}function Ki(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return(0,T.hu)(null!=s,"SyncTree gave us an op for an invalid query."),qi(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(qi(s,t,n,r));return i}}function Zi(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let e=Ci(n,i?r:null),s=!1;e?s=!0:r instanceof mr?(e=Si(n,r),s=!1):(e=mr.EMPTY_NODE,s=!1);const o=ei(new Qr(e,s,!1),new Qr(r,i,!1));return new Ui(t,o)}return s}function Yi(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Qi(e,t){let n=null;for(const r of e.views.values())n=n||ji(r,t);return n}function Xi(e,t){return t._queryParams.loadsAllData()?ts(e):e.views.get(t._queryIdentifier)}function Ji(e,t){return null!=Xi(e,t)}function es(e){return null!=ts(e)}function ts(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ns=1;class rs{constructor(e){this.listenProvider_=e,this.syncPointTree_=new oi(null),this.pendingWriteTree_={visibleWrites:ai.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function is(e,t,n,r,i){return function(e,t,n,r,i){(0,T.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=li(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ds(e,new Zr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ss(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,T.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&_i(t,r.path)?i=!1:Fn(r.path,t.path)&&(s=!0)),o--}return!!i&&(s?(function(e){e.visibleWrites=wi(e.allWrites,bi,Tn()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=ui(e.visibleWrites,r.path):Zt(r.children,t=>{e.visibleWrites=ui(e.visibleWrites,On(r.path,t))}),!0))}(e.pendingWriteTree_,t)){let t=new oi(null);return null!=r.snap?t=t.set(Tn(),!0):Zt(r.children,e=>{t=t.set(new Sn(e),!0)}),ds(e,new Wr(r.path,t,n))}return[]}function os(e,t,n){return ds(e,new Zr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function as(e,t,n,r){const i=t._path,s=e.syncPointTree_.get(i);let o=[];if(s&&("default"===t._queryIdentifier||Ji(s,t))){const a=function(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=es(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(Bi(c,n,r)),zi(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(Bi(t,n,r)),zi(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!es(e)&&s.push(new((0,T.hu)(Gi,"Reference.ts has not been loaded"),Gi)(t._repo,t._path)),{removed:s,events:o}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const l=a.removed;o=a.events;const c=-1!==l.findIndex(e=>e._queryParams.loadsAllData()),u=e.syncPointTree_.findOnPath(i,(e,t)=>es(t));if(c&&!u){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&es(t))return[ts(t)];{let e=[];return t&&(e=Yi(t)),Zt(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=ms(e,r);e.listenProvider_.startListening(ws(i),gs(e,i),s.hashFn,s.onComplete)}}}if(!u&&l.length>0&&!r)if(c){const n=null;e.listenProvider_.stopListening(ws(t),n)}else l.forEach(t=>{const n=e.queryToTagMap.get(ys(t));e.listenProvider_.stopListening(ws(t),n)});!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=ys(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return o}function ls(e,t,n,r){const i=vs(e,r);if(null!=i){const r=_s(i),s=r.path,o=r.queryId,a=Dn(s,t);return bs(e,s,new Zr(Hr(o),a,n))}return[]}function cs(e,t){const n=e._path;let r=null,i=!1;t.syncPointTree_.foreachOnPath(n,(e,t)=>{const s=Dn(e,n);r=r||Qi(t,s),i=i||es(t)});let s,o=t.syncPointTree_.get(n);o?(i=i||es(o),r=r||Qi(o,Tn())):(o=new Wi,t.syncPointTree_=t.syncPointTree_.set(n,o)),null!=r?s=!0:(s=!1,r=mr.EMPTY_NODE,t.syncPointTree_.subtree(n).foreachChild((e,t)=>{const n=Qi(t,Tn());n&&(r=r.updateImmediateChild(e,n))}));const a=Ji(o,e);if(!a&&!e._queryParams.loadsAllData()){const n=ys(e);(0,T.hu)(!t.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=ns++;t.queryToTagMap.set(n,r),t.tagToQueryMap.set(r,n)}return{syncPoint:o,writesCache:vi(t.pendingWriteTree_,n),serverCache:r,serverCacheComplete:s,foundAncestorDefaultView:i,viewAlreadyExists:a}}function us(e,t,n){const{syncPoint:r,serverCache:i,writesCache:s,serverCacheComplete:o,viewAlreadyExists:a,foundAncestorDefaultView:l}=cs(t,e);let c=function(e,t,n,r,i,s){const o=Zi(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ar,(e,t)=>{r.push(Tr(e,t))}),n.isFullyInitialized()&&r.push(Sr(n.getNode())),$i(e,r,n.getNode(),t)}(o,n)}(r,t,n,s,i,o);if(!a&&!l){const n=Xi(r,t);c=c.concat(function(e,t,n){const r=t._path,i=gs(e,t),s=ms(e,n),o=e.listenProvider_.startListening(ws(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)(0,T.hu)(!es(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Nn(e)&&t&&es(t))return[ts(t).query];{let e=[];return t&&(e=e.concat(Yi(t).map(e=>e.query))),Zt(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(ws(r),gs(e,r))}}return o}(e,t,n))}return c}function hs(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=Qi(n,Dn(e,t));if(r)return r});return Ei(r,t,i,n,!0)}function ds(e,t){return ps(t,e.syncPointTree_,null,vi(e.pendingWriteTree_,Tn()))}function ps(e,t,n,r){if(Nn(e.path))return fs(e,t,n,r);{const i=t.get(Tn());null==n&&null!=i&&(n=Qi(i,Tn()));let s=[];const o=In(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=ki(r,o);s=s.concat(ps(a,l,e,t))}return i&&(s=s.concat(Ki(i,e,r,n))),s}}function fs(e,t,n,r){const i=t.get(Tn());null==n&&null!=i&&(n=Qi(i,Tn()));let s=[];return t.children.inorderTraversal((t,i)=>{const o=n?n.getImmediateChild(t):null,a=ki(r,t),l=e.operationForChild(t);l&&(s=s.concat(fs(l,i,o,a)))}),i&&(s=s.concat(Ki(i,e,r,n))),s}function ms(e,t){const n=t.query,r=gs(e,n);return{hashFn:()=>(function(e){return e.viewCache_.serverCache.getNode()}(t)||mr.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=vs(e,n);if(r){const n=_s(r),i=n.path,s=n.queryId,o=Dn(i,t);return bs(e,i,new Kr(Hr(s),o))}return[]}(e,n._path,r):function(e,t){return ds(e,new Kr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return as(e,n,null,r)}}}}function gs(e,t){const n=ys(t);return e.queryToTagMap.get(n)}function ys(e){return e._path.toString()+"$"+e._queryIdentifier}function vs(e,t){return e.tagToQueryMap.get(t)}function _s(e){const t=e.indexOf("$");return(0,T.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Sn(e.substr(0,t))}}function bs(e,t,n){const r=e.syncPointTree_.get(t);return(0,T.hu)(r,"Missing sync point for query tag that we're tracking"),Ki(r,n,vi(e.pendingWriteTree_,t),null)}function ws(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,T.hu)(Hi,"Reference.ts has not been loaded"),Hi)(e._repo,e._path):e}class Es{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Es(t)}node(){return this.node_}}class Cs{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=On(this.path_,e);return new Cs(this.syncTree_,t)}node(){return hs(this.syncTree_,this.path_)}}const Ss=function(e,t,n){return e&&"object"==typeof e?((0,T.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Ts(e[".sv"],t,n):"object"==typeof e[".sv"]?Is(e[".sv"],t):void(0,T.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ts=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,T.hu)(!1,"Unexpected server value: "+e)}},Is=function(e,t,n){e.hasOwnProperty("increment")||(0,T.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&(0,T.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,T.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},xs=function(e,t,n,r){return As(t,new Cs(n,e),r)},ks=function(e,t,n){return As(e,new Es(t),n)};function As(e,t,n){const r=e.getPriority().val(),i=Ss(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Ss(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new or(s,yr(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new or(i))),r.forEachChild(ar,(e,r)=>{const i=As(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class Rs{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Ps(e,t){let n=t instanceof Sn?t:new Sn(t),r=e,i=In(n);for(;null!==i;){const e=(0,T.DV)(r.node.children,i)||{children:{},childCount:0};r=new Rs(i,r,e),n=kn(n),i=In(n)}return r}function Os(e){return e.node.value}function Ns(e,t){e.node.value=t,Vs(e)}function Ds(e){return e.node.childCount>0}function Ls(e,t){Zt(e.node.children,(n,r)=>{t(new Rs(n,e,r))})}function Ms(e,t,n,r){n&&!r&&t(e),Ls(e,e=>{Ms(e,t,!0,r)}),n&&r&&t(e)}function Fs(e){return new Sn(null===e.parent?e.name:Fs(e.parent)+"/"+e.name)}function Vs(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Os(e)&&!Ds(e)}(n),i=(0,T.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Vs(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Vs(e))}(e.parent,e.name,e)}const Us=/[\[\].#$\/\u0000-\u001F\u007F]/,js=/[\[\].#$\u0000-\u001F\u007F]/,zs=10485760,Bs=function(e){return"string"==typeof e&&0!==e.length&&!Us.test(e)},qs=function(e){return"string"==typeof e&&0!==e.length&&!js.test(e)},$s=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!zt(e)||e&&"object"==typeof e&&(0,T.r3)(e,".sv")},Gs=function(e,t,n,r){r&&void 0===t||Hs((0,T.gK)(e,"value"),t,n)},Hs=function(e,t,n){const r=n instanceof Sn?new Vn(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+jn(r));if("function"==typeof t)throw new Error(e+"contains a function "+jn(r)+" with contents = "+t.toString());if(zt(t))throw new Error(e+"contains "+t.toString()+" "+jn(r));if("string"==typeof t&&t.length>zs/3&&(0,T.ug)(t)>zs)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+jn(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(Zt(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Bs(t)))throw new Error(e+" contains an invalid key ("+t+") "+jn(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var o,a;a=t,(o=r).parts_.length>0&&(o.byteLength_+=1),o.parts_.push(a),o.byteLength_+=(0,T.ug)(a),Un(o),Hs(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,T.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+jn(r)+" in addition to actual children.")}},Ws=function(e,t,n,r){if(r&&void 0===t)return;const i=(0,T.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];Zt(t,(e,t)=>{const r=new Sn(e);if(Hs(i,t,On(n,r)),".priority"===An(r)&&!$s(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=Rn(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Bs(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Ln);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Fn(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},Ks=function(e,t,n){if(!n||void 0!==t){if(zt(t))throw new Error((0,T.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!$s(t))throw new Error((0,T.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Zs=function(e,t,n,r){if(!(r&&void 0===n||Bs(n)))throw new Error((0,T.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ys=function(e,t,n,r){if(!(r&&void 0===n||qs(n)))throw new Error((0,T.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qs=function(e,t){if(".info"===In(t))throw new Error(e+" failed = Can't modify data under /.info/")},Xs=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Bs(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qs(e)}(n))throw new Error((0,T.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Js{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eo(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Mn(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function to(e,t,n){eo(e,n),ro(e,e=>Mn(e,t))}function no(e,t,n){eo(e,n),ro(e,e=>Fn(e,t)||Fn(t,e))}function ro(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(io(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function io(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Nt&&Mt("event: "+n.toString()),Jt(r)}}}const so="repo_interrupt";class oo{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Js,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ur(),this.transactionQueueTree_=new Rs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ao(e){const t=e.infoData_.getNode(new Sn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function lo(e){return(t=(t={timestamp:ao(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function co(e,t,n,r,i){e.dataUpdateCount++;const s=new Sn(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=(0,T.UI)(n,e=>yr(e));o=function(e,t,n,r){const i=vs(e,r);if(i){const r=_s(i),s=r.path,o=r.queryId,a=Dn(s,t),l=oi.fromObject(n);return bs(e,s,new Yr(Hr(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=yr(n);o=ls(e.serverSyncTree_,s,t,i)}else if(r){const t=(0,T.UI)(n,e=>yr(e));o=function(e,t,n){const r=oi.fromObject(n);return ds(e,new Yr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=yr(n);o=os(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=Co(e,s)),no(e.eventQueue_,a,o)}function uo(e,t){ho(e,"connected",t),!1===t&&function(e){_o(e,"onDisconnectEvents");const t=lo(e),n=Ur();Br(e.onDisconnect_,Tn(),(r,i)=>{const s=xs(r,i,e.serverSyncTree_,t);jr(n,r,s)});let r=[];Br(n,Tn(),(t,n)=>{r=r.concat(os(e.serverSyncTree_,t,n));const i=ko(e,t);Co(e,i)}),e.onDisconnect_=Ur(),no(e.eventQueue_,Tn(),r)}(e)}function ho(e,t,n){const r=new Sn("/.info/"+t),i=yr(n);e.infoData_.updateSnapshot(r,i);const s=os(e.infoSyncTree_,r,i);no(e.eventQueue_,r,s)}function po(e){return e.nextWriteId_++}function fo(e,t,n,r,i){_o(e,"set",{path:t.toString(),value:n,priority:r});const s=lo(e),o=yr(n,r),a=hs(e.serverSyncTree_,t),l=ks(o,a,s),c=po(e),u=is(e.serverSyncTree_,t,l,c,!0);eo(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const s="ok"===n;s||jt("set at "+t+" failed: "+n);const o=ss(e.serverSyncTree_,c,!s);no(e.eventQueue_,t,o),bo(0,i,n,r)});const h=ko(e,t);Co(e,h),no(e.eventQueue_,h,[])}function mo(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&zr(e.onDisconnect_,t),bo(0,n,r,i)})}function go(e,t,n,r){const i=yr(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,s)=>{"ok"===n&&jr(e.onDisconnect_,t,i),bo(0,r,n,s)})}function yo(e,t,n){let r;r=".info"===In(t._path)?as(e.infoSyncTree_,t,n):as(e.serverSyncTree_,t,n),to(e.eventQueue_,t._path,r)}function vo(e){e.persistentConnection_&&e.persistentConnection_.interrupt(so)}function _o(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Mt(n,...t)}function bo(e,t,n,r){t&&Jt(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function wo(e,t,n){return hs(e.serverSyncTree_,t,n)||mr.EMPTY_NODE}function Eo(e,t=e.transactionQueueTree_){if(t||xo(e,t),Os(t)){const n=To(e,t);(0,T.hu)(n.length>0,"Sending zero length transaction queue"),n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=wo(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];(0,T.hu)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Dn(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,r=>{_o(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(ss(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();xo(e,Ps(e.transactionQueueTree_,t)),Eo(e,e.transactionQueueTree_),no(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Jt(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)n[e].status=3===n[e].status?4:0;else{jt("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Co(e,t)}},o)}(e,Fs(t),n)}else Ds(t)&&Ls(t,t=>{Eo(e,t)})}function Co(e,t){const n=So(e,t),r=Fs(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const a=t[o],l=Dn(n,a.path);let c,u=!1;if((0,T.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,c=a.abortReason,i=i.concat(ss(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)u=!0,c="maxretry",i=i.concat(ss(e.serverSyncTree_,a.currentWriteId,!0));else{const n=wo(e,a.path,s);a.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){Hs("transaction failed: Data returned ",r,a.path);let t=yr(r);"object"==typeof r&&null!=r&&(0,T.r3)(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=a.currentWriteId,l=lo(e),c=ks(t,n,l);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=c,a.currentWriteId=po(e),s.splice(s.indexOf(o),1),i=i.concat(is(e.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),i=i.concat(ss(e.serverSyncTree_,o,!0))}else u=!0,c="nodata",i=i.concat(ss(e.serverSyncTree_,a.currentWriteId,!0))}no(e.eventQueue_,n,i),i=[],u&&(t[o].status=2,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete&&r.push("nodata"===c?()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot):()=>t[o].onComplete(new Error(c),!1,null)))}xo(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)Jt(r[o]);Eo(e,e.transactionQueueTree_)}(e,To(e,n),r),r}function So(e,t){let n,r=e.transactionQueueTree_;for(n=In(t);null!==n&&void 0===Os(r);)r=Ps(r,n),n=In(t=kn(t));return r}function To(e,t){const n=[];return Io(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Io(e,t,n){const r=Os(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ls(t,t=>{Io(e,t,n)})}function xo(e,t){const n=Os(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ns(t,n.length>0?n:void 0)}Ls(t,t=>{xo(e,t)})}function ko(e,t){const n=Fs(So(e,t)),r=Ps(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{Ao(e,t)}),Ao(e,r),Ms(r,t=>{Ao(e,t)}),n}function Ao(e,t){const n=Os(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,T.hu)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):((0,T.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(ss(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ns(t,void 0):n.length=s+1,no(e.eventQueue_,Fs(t),i);for(let e=0;e<r.length;e++)Jt(r[e])}}const Ro=function(e,t){const n=Po(e),r=n.namespace;return"firebase.com"===n.domain&&Ut(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ut("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ln(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new Sn(n.pathString)}},Po=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):jt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Oo{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,T.Pz)(this.snapshot.exportVal())}}class No{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Do{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,T.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Lo{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new T.BH;return mo(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Qs("OnDisconnect.remove",this._path);const e=new T.BH;return go(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Qs("OnDisconnect.set",this._path),Gs("OnDisconnect.set",e,this._path,!1);const t=new T.BH;return go(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Qs("OnDisconnect.setWithPriority",this._path),Gs("OnDisconnect.setWithPriority",e,this._path,!1),Ks("OnDisconnect.setWithPriority",t,!1);const n=new T.BH;return function(e,t,n,r,i){const s=yr(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,r)=>{"ok"===n&&jr(e.onDisconnect_,t,s),bo(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){Qs("OnDisconnect.update",this._path),Ws("OnDisconnect.update",e,this._path,!1);const t=new T.BH;return function(e,t,n,r){if((0,T.xb)(n))return Mt("onDisconnect().update() called with empty data.  Don't do anything."),void bo(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,s)=>{"ok"===i&&Zt(n,(n,r)=>{const i=yr(r);jr(e.onDisconnect_,On(t,n),i)}),bo(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Mo{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Nn(this._path)?null:An(this._path)}get ref(){return new jo(this._repo,this._path)}get _queryIdentifier(){const e=Mr(this._queryParams),t=Wt(e);return"{}"===t?"default":t}get _queryObject(){return Mr(this._queryParams)}isEqual(e){if(!((e=(0,T.m9)(e))instanceof Mo))return!1;const t=this._repo===e._repo,n=Mn(this._path,e._path);return t&&n&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Fo(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Vo(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Kn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Bt)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==qt)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===ar){if(null!=t&&!$s(t)||null!=n&&!$s(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,T.hu)(e.getIndex()instanceof vr||e.getIndex()===_r,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Uo(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class jo extends Mo{constructor(e,t){super(e,t,new Pr,!1)}get parent(){const e=Pn(this._path);return null===e?null:new jo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class zo{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Sn(e),n=$o(this.ref,e);return new zo(this._node.getChild(t),n,ar)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new zo(n,$o(this.ref,t),ar)))}hasChild(e){const t=new Sn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Bo(e,t){return(e=(0,T.m9)(e))._checkNotDeleted("ref"),void 0!==t?$o(e._root,t):e._root}function qo(e,t){(e=(0,T.m9)(e))._checkNotDeleted("refFromURL");const n=Ro(t,e._repo.repoInfo_.nodeAdmin);Xs("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Ut("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Bo(e,n.path.toString())}function $o(e,t){var n;return null===In((e=(0,T.m9)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ys("child","path",n,!1)):Ys("child","path",t,!1),new jo(e._repo,On(e._path,t))}function Go(e,t){e=(0,T.m9)(e),Qs("set",e._path),Gs("set",t,e._path,!1);const n=new T.BH;return fo(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class Ho{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Oo("value",this,new zo(e.snapshotNode,new jo(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new No(this,e,t):null}matches(e){return e instanceof Ho&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Wo{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new No(this,e,t):null}createEvent(e,t){(0,T.hu)(null!=e.childName,"Child events should have a childName.");const n=$o(new jo(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Oo(e.type,this,new zo(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Wo&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ko(e,t,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{yo(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Do(n,s||void 0),a="value"===t?new Ho(o):new Wo(t,o);return function(e,t,n){let r;r=".info"===In(t._path)?us(e.infoSyncTree_,t,n):us(e.serverSyncTree_,t,n),to(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>yo(e._repo,e,a)}function Zo(e,t,n,r){return Ko(e,"value",t,n,r)}function Yo(e,t,n,r){return Ko(e,"child_added",t,n,r)}function Qo(e,t,n,r){return Ko(e,"child_changed",t,n,r)}function Xo(e,t,n,r){return Ko(e,"child_moved",t,n,r)}function Jo(e,t,n,r){return Ko(e,"child_removed",t,n,r)}function ea(e,t,n){let r=null;const i=n?new Do(n):null;"value"===t?r=new Ho(i):t&&(r=new Wo(t,i)),yo(e._repo,e,r)}class ta{}class na extends ta{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Gs("endAt",this._value,e._path,!0);const t=Nr(e._queryParams,this._value,this._key);if(Uo(t),Vo(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mo(e._repo,e._path,t,e._orderByCalled)}}class ra extends ta{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Gs("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r,i;return e.index_===Kn?("string"==typeof t&&(t=Cr(t)),i=Nr(e,t,n)):(r=null==n?Bt:Cr(n),i=Nr(e,t,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(Uo(t),Vo(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mo(e._repo,e._path,t,e._orderByCalled)}}class ia extends ta{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Gs("startAt",this._value,e._path,!0);const t=Or(e._queryParams,this._value,this._key);if(Uo(t),Vo(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Mo(e._repo,e._path,t,e._orderByCalled)}}class sa extends ta{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Gs("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;if(e.index_===Kn)"string"==typeof t&&(t=Er(t)),r=Or(e,t,n);else{let i;i=null==n?qt:Er(n),r=Or(e,t,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Uo(t),Vo(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Mo(e._repo,e._path,t,e._orderByCalled)}}class oa extends ta{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mo(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class aa extends ta{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mo(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class la extends ta{constructor(e){super(),this._path=e}_apply(e){Fo(e,"orderByChild");const t=new Sn(this._path);if(Nn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new vr(t),r=Dr(e._queryParams,n);return Vo(r),new Mo(e._repo,e._path,r,!0)}}class ca extends ta{_apply(e){Fo(e,"orderByKey");const t=Dr(e._queryParams,Kn);return Vo(t),new Mo(e._repo,e._path,t,!0)}}class ua extends ta{_apply(e){Fo(e,"orderByPriority");const t=Dr(e._queryParams,ar);return Vo(t),new Mo(e._repo,e._path,t,!0)}}class ha extends ta{_apply(e){Fo(e,"orderByValue");const t=Dr(e._queryParams,_r);return Vo(t),new Mo(e._repo,e._path,t,!0)}}class da extends ta{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Gs("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new na(this._value,this._key)._apply(new ia(this._value,this._key)._apply(e))}}function pa(e,...t){let n=(0,T.m9)(e);for(const r of t)n=r._apply(n);return n}!function(e){(0,T.hu)(!Gi,"__referenceConstructor has already been defined"),Gi=e}(jo),function(e){(0,T.hu)(!Hi,"__referenceConstructor has already been defined"),Hi=e}(jo);const fa={};function ma(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Ut("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mt("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=Ro(s,i),c=l.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=Ro(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new rn(rn.OWNER):new nn(e.name,e.options,t);Xs("Invalid Firebase Database URL",l),Nn(l.path)||Ut("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=fa[t.name];i||(i={},fa[t.name]=i);let s=i[e.toURLString()];return s&&Ut("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new oo(e,!1,n,r),i[e.toURLString()]=s,s}(c,e,u,new tn(e.name,n));return new ga(h,e)}class ga{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=pn(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Fr(e.repoInfo_,(t,n,r,i)=>{co(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>uo(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,T.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new $n(e.repoInfo_,t,(t,n,r,i)=>{co(e,t,n,r,i)},t=>{uo(e,t)},t=>{!function(e,t){Zt(t,(t,n)=>{ho(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(t,n){const r=t.toString();return dn[r]||(dn[r]=new $r(e.stats_,e.server_)),dn[r]}(e.repoInfo_),e.infoData_=new Vr,e.infoSyncTree_=new rs({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=os(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),ho(e,"connected",!1),e.serverSyncTree_=new rs({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);no(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jo(this._repo,Tn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=fa[t];n&&n[e.key]===e||Ut(`Database ${t}(${e.repoInfo_}) has already been deleted.`),vo(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ut("Cannot call "+e+" on a deleted database.")}}function ya(){_n.IS_TRANSPORT_INITIALIZED&&jt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function va(){ya(),mn.forceDisallow()}function _a(){ya(),vn.forceDisallow(),mn.forceAllow()}class ba{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}$n.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},$n.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},Ct(S.SDK_VERSION),(0,S._registerComponent)(new I.wA("database",(e,{instanceIdentifier:t})=>ma(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,S.registerVersion)(bt,wt,void 0),(0,S.registerVersion)(bt,wt,"esm2017");const wa=new _t.Yd("@firebase/database-compat"),Ea=function(e){wa.warn("FIREBASE WARNING: "+e)};class Ca{constructor(e){this._delegate=e}cancel(e){(0,T.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,T.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),t=>e(t)),t}remove(e){(0,T.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,T.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),t=>e(t)),t}set(e,t){(0,T.Dv)("OnDisconnect.set",1,2,arguments.length),(0,T.Wj)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){(0,T.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,T.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then(()=>n(null),e=>n(e)),r}update(e,t){if((0,T.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Ea("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,T.Wj)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then(()=>t(null),e=>t(e)),n}}class Sa{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,T.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ta{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,T.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,T.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,T.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,T.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,T.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Ys("DataSnapshot.child","path",e,!1),new Ta(this._database,this._delegate.child(e))}hasChild(e){return(0,T.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ys("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,T.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,T.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,T.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Ta(this._database,t)))}hasChildren(){return(0,T.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,T.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,T.Dv)("DataSnapshot.ref",0,0,arguments.length),new xa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ia{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;(0,T.Dv)("Query.on",2,4,arguments.length),(0,T.Wj)("Query.on","callback",t,!1);const s=Ia.getCancelAndContextArgs_("Query.on",n,r),o=(e,n)=>{t.call(s.context,new Ta(this.database,e),n)};o.userCallback=t,o.context=s.context;const a=null===(i=s.cancel)||void 0===i?void 0:i.bind(s.context);switch(e){case"value":return Zo(this._delegate,o,a),t;case"child_added":return Yo(this._delegate,o,a),t;case"child_removed":return Jo(this._delegate,o,a),t;case"child_changed":return Qo(this._delegate,o,a),t;case"child_moved":return Xo(this._delegate,o,a),t;default:throw new Error((0,T.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if((0,T.Dv)("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,T.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,T.Wj)("Query.off","callback",t,!0),(0,T.lb)("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,ea(this._delegate,e,r)}else ea(this._delegate,e)}get(){return function(e){return function(e,t){const n=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=Dn(e,n);r=r||Qi(t,i)});let i=e.syncPointTree_.get(n);i?r=r||Qi(i,Tn()):(i=new Wi,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,o=s?new Qr(r,!0,!1):null;return ri(Zi(i,t,vi(e.pendingWriteTree_,t._path),s?o.getNode():mr.EMPTY_NODE,s).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(n=>{const r=yr(n).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())os(e.serverSyncTree_,t._path,r);else{const n=function(e,t){const{syncPoint:n,serverCache:r,writesCache:i,serverCacheComplete:s}=cs(t,e),o=Zi(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),t._queryParams.loadsAllData()?null:gs(e,t)}(e.serverSyncTree_,t);ls(e.serverSyncTree_,t._path,r,n)}return as(e.serverSyncTree_,t,null).length>0&&_o(e,"unexpected cancel events in repoGetValue"),r},n=>(_o(e,"get for query "+(0,T.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))))}((e=(0,T.m9)(e))._repo,e).then(t=>new zo(t,new jo(e._repo,e._path),e._queryParams.getIndex()))}(this._delegate).then(e=>new Ta(this.database,e))}once(e,t,n,r){(0,T.Dv)("Query.once",1,4,arguments.length),(0,T.Wj)("Query.once","callback",t,!0);const i=Ia.getCancelAndContextArgs_("Query.once",n,r),s=new T.BH,o=(e,n)=>{const r=new Ta(this.database,e);t&&t.call(i.context,r,n),s.resolve(r)};o.userCallback=t,o.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),s.reject(e)};switch(e){case"value":Zo(this._delegate,o,a,{onlyOnce:!0});break;case"child_added":Yo(this._delegate,o,a,{onlyOnce:!0});break;case"child_removed":Jo(this._delegate,o,a,{onlyOnce:!0});break;case"child_changed":Qo(this._delegate,o,a,{onlyOnce:!0});break;case"child_moved":Xo(this._delegate,o,a,{onlyOnce:!0});break;default:throw new Error((0,T.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return(0,T.Dv)("Query.limitToFirst",1,1,arguments.length),new Ia(this.database,pa(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new oa(e)}(e)))}limitToLast(e){return(0,T.Dv)("Query.limitToLast",1,1,arguments.length),new Ia(this.database,pa(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new aa(e)}(e)))}orderByChild(e){return(0,T.Dv)("Query.orderByChild",1,1,arguments.length),new Ia(this.database,pa(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ys("orderByChild","path",e,!1),new la(e)}(e)))}orderByKey(){return(0,T.Dv)("Query.orderByKey",0,0,arguments.length),new Ia(this.database,pa(this._delegate,new ca))}orderByPriority(){return(0,T.Dv)("Query.orderByPriority",0,0,arguments.length),new Ia(this.database,pa(this._delegate,new ua))}orderByValue(){return(0,T.Dv)("Query.orderByValue",0,0,arguments.length),new Ia(this.database,pa(this._delegate,new ha))}startAt(e=null,t){return(0,T.Dv)("Query.startAt",0,2,arguments.length),new Ia(this.database,pa(this._delegate,function(e=null,t){return Zs("startAt","key",t,!0),new ia(e,t)}(e,t)))}startAfter(e=null,t){return(0,T.Dv)("Query.startAfter",0,2,arguments.length),new Ia(this.database,pa(this._delegate,function(e,t){return Zs("startAfter","key",t,!0),new sa(e,t)}(e,t)))}endAt(e=null,t){return(0,T.Dv)("Query.endAt",0,2,arguments.length),new Ia(this.database,pa(this._delegate,function(e,t){return Zs("endAt","key",t,!0),new na(e,t)}(e,t)))}endBefore(e=null,t){return(0,T.Dv)("Query.endBefore",0,2,arguments.length),new Ia(this.database,pa(this._delegate,function(e,t){return Zs("endBefore","key",t,!0),new ra(e,t)}(e,t)))}equalTo(e,t){return(0,T.Dv)("Query.equalTo",1,2,arguments.length),new Ia(this.database,pa(this._delegate,function(e,t){return Zs("equalTo","key",t,!0),new da(e,t)}(e,t)))}toString(){return(0,T.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,T.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,T.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ia))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,T.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,T.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,T.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new xa(this.database,new jo(this._delegate._repo,this._delegate._path))}}class xa extends Ia{constructor(e,t){super(e,new Mo(t._repo,t._path,new Pr,!1)),this.database=e,this._delegate=t}getKey(){return(0,T.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,T.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new xa(this.database,$o(this._delegate,e))}getParent(){(0,T.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new xa(this.database,e):null}getRoot(){return(0,T.Dv)("Reference.root",0,0,arguments.length),new xa(this.database,this._delegate.root)}set(e,t){(0,T.Dv)("Reference.set",1,2,arguments.length),(0,T.Wj)("Reference.set","onComplete",t,!0);const n=Go(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}update(e,t){if((0,T.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,Ea("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qs("Reference.update",this._delegate._path),(0,T.Wj)("Reference.update","onComplete",t,!0);const n=function(e,t){Ws("update",t,e._path,!1);const n=new T.BH;return function(e,t,n,r){_o(e,"update",{path:t.toString(),value:n});let i=!0;const s=lo(e),o={};if(Zt(n,(n,r)=>{i=!1,o[n]=xs(On(t,n),yr(r),e.serverSyncTree_,s)}),i)Mt("update() called with empty data.  Don't do anything."),bo(0,r,"ok",void 0);else{const i=po(e),s=function(e,t,n,r){!function(e,t,n,r){(0,T.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=ci(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=oi.fromObject(n);return ds(e,new Yr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,o,i);eo(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const o="ok"===n;o||jt("update at "+t+" failed: "+n);const a=ss(e.serverSyncTree_,i,!o),l=a.length>0?Co(e,t):t;no(e.eventQueue_,l,a),bo(0,r,n,s)}),Zt(n,n=>{const r=ko(e,On(t,n));Co(e,r)}),no(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){(0,T.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,T.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(Qs("setWithPriority",e._path),Gs("setWithPriority",t,e._path,!1),Ks("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new T.BH;return fo(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return n&&r.then(()=>n(null),e=>n(e)),r}remove(e){(0,T.Dv)("Reference.remove",0,1,arguments.length),(0,T.Wj)("Reference.remove","onComplete",e,!0);const t=function(e){return Qs("remove",e._path),Go(e,null)}(this._delegate);return e&&t.then(()=>e(null),t=>e(t)),t}transaction(e,t,n){(0,T.Dv)("Reference.transaction",1,3,arguments.length),(0,T.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,T.Wj)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,T.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function(e,t,n){var r;if(e=(0,T.m9)(e),Qs("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new T.BH,o=Zo(e,()=>{});return function(t,n,r,i,o,a){_o(t,"transaction on "+n);const l={path:n,update:r,onComplete:(t,n,r)=>{let i=null;t?s.reject(t):(i=new zo(r,new jo(e._repo,e._path),ar),s.resolve(new ba(n,i)))},status:null,order:Rt(),applyLocally:a,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=wo(t,n,void 0);l.currentInputSnapshot=c;const u=l.update(c.val());if(void 0===u)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Hs("transaction failed: Data returned ",u,l.path),l.status=0;const e=Ps(t.transactionQueueTree_,n),r=Os(e)||[];let i;r.push(l),Ns(e,r),"object"==typeof u&&null!==u&&(0,T.r3)(u,".priority")?(i=(0,T.DV)(u,".priority"),(0,T.hu)($s(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(hs(t.serverSyncTree_,n)||mr.EMPTY_NODE).getPriority().val();const s=lo(t),o=yr(u,i),a=ks(o,c,s);l.currentOutputSnapshotRaw=o,l.currentOutputSnapshotResolved=a,l.currentWriteId=po(t);const h=is(t.serverSyncTree_,n,a,l.currentWriteId,l.applyLocally);no(t.eventQueue_,n,h),Eo(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,o,i),s.promise}(this._delegate,e,{applyLocally:n}).then(e=>new Sa(e.committed,new Ta(this.database,e.snapshot)));return t&&r.then(e=>t(null,e.committed,e.snapshot),e=>t(e,!1,null)),r}setPriority(e,t){(0,T.Dv)("Reference.setPriority",1,2,arguments.length),(0,T.Wj)("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=(0,T.m9)(e),Qs("setPriority",e._path),Ks("setPriority",t,!1);const n=new T.BH;return fo(e._repo,On(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}push(e,t){(0,T.Dv)("Reference.push",0,2,arguments.length),(0,T.Wj)("Reference.push","onComplete",t,!0);const n=function(e,t){e=(0,T.m9)(e),Qs("push",e._path),Gs("push",t,e._path,!0);const n=ao(e._repo),r=wr(n),i=$o(e,r),s=$o(e,r);let o;return o=null!=t?Go(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,e),r=n.then(e=>new xa(this.database,e));t&&r.then(()=>t(null),e=>t(e));const i=new xa(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return Qs("Reference.onDisconnect",this._delegate._path),new Ca(new Lo(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ka{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:va,forceLongPolling:_a}}useEmulator(e,t,n={}){!function(e,t,n,r={}){(e=(0,T.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Ut("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ut('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new rn(rn.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:(0,T.Sg)(r.mockUserToken,e.app.options.projectId);s=new rn(t)}!function(e,t,n,r){e.repoInfo_=new ln(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(this._delegate,e,t,n)}ref(e){if((0,T.Dv)("database.ref",0,1,arguments.length),e instanceof xa){const t=qo(this._delegate,e.toString());return new xa(this,t)}{const t=Bo(this._delegate,e);return new xa(this,t)}}refFromURL(e){(0,T.Dv)("database.refFromURL",1,1,arguments.length);const t=qo(this._delegate,e);return new xa(this,t)}goOffline(){return(0,T.Dv)("database.goOffline",0,0,arguments.length),(e=(0,T.m9)(e=this._delegate))._checkNotDeleted("goOffline"),void vo(e._repo);var e}goOnline(){return(0,T.Dv)("database.goOnline",0,0,arguments.length),(e=(0,T.m9)(e=this._delegate))._checkNotDeleted("goOnline"),void((t=e._repo).persistentConnection_&&t.persistentConnection_.resume(so));var e,t}}ka.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:e=>function(e){return{".sv":{increment:e}}}(e)};var Aa=Object.freeze({__proto__:null,initStandalone:function({app:e,url:t,version:n,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){Ct(n);const o=new I.zt("auth-internal",new I.H0("database-standalone"));return o.setComponent(new I.wA("auth-internal",()=>r,"PRIVATE")),{instance:new ka(ma(e,o,void 0,t,s),e),namespace:i}}});const Ra=ka.ServerValue;var Pa;function Oa(e){return null==e}function Na(e){return"function"==typeof e.set}function Da(e,t){return Na(t)?t:e.ref(t)}function La(e,t){if("string"==typeof e)return t.stringCase();if(Na(e))return t.firebaseCase();if("function"==typeof e.exportVal)return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function Ma(e,t,n="on",r=at.z){return new m.y(i=>{let s=null;return s=e[n](t,(e,t)=>{r.schedule(()=>{i.next({snapshot:e,prevKey:t})}),"once"===n&&r.schedule(()=>i.complete())},e=>{r.schedule(()=>i.error(e))}),"on"===n?{unsubscribe(){null!=s&&e.off(t,s)}}:{unsubscribe(){}}}).pipe((0,_.U)(e=>{const{snapshot:n,prevKey:r}=e;let i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}}),(0,ct.B)())}function Fa(e,t){const n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function Va(e,t){const{payload:n,prevKey:r,key:i}=t,s=Fa(e,i),o=function(e,t){if(Oa(t))return 0;{const n=Fa(e,t);return-1===n?e.length:n+1}}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let n=null;t.payload.forEach(t=>{const r={payload:t,type:"value",prevKey:n,key:t.key};return n=t.key,e=[...e,r],!1})}return e;case"child_added":if(s>-1){const i=e[s-1];(i&&i.key||null)!==r&&(e=e.filter(e=>e.payload.key!==n.key)).splice(o,0,t)}else{if(null==r)return[t,...e];(e=e.slice()).splice(o,0,t)}return e;case"child_removed":return e.filter(e=>e.payload.key!==n.key);case"child_changed":return e.map(e=>e.payload.key===i?t:e);case"child_moved":if(s>-1){const t=e.splice(s,1)[0];return(e=e.slice()).splice(o,0,t),e}return e;default:return e}}function Ua(e){return(Oa(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function ja(e,t,n){return function(e,t,n){return Ma(e,"value","once",n).pipe((0,b.w)(r=>{const i=[(0,g.of)(r)];return t.forEach(t=>i.push(Ma(e,t,"on",n))),(0,lt.T)(...i).pipe((0,ut.R)(Va,[]))}),(0,ht.x)())}(e,t=Ua(t),n)}function za(e,t,n){const r=(t=Ua(t)).map(t=>Ma(e,t,"on",n));return(0,lt.T)(...r)}function Ba(e,t){return function(n,r){return La(n,{stringCase:()=>e.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function qa(e){return function(t){return t?La(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function $a(e,t){return function(){return Ma(e,"value","on",t)}}(Pa=E.Z).INTERNAL.registerComponent(new I.wA("database-compat",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new ka(r,n)},"PUBLIC").setServiceProps({Reference:xa,Query:Ia,Database:ka,DataSnapshot:Ta,enableLogging:function(e,t){Lt(e,t)},INTERNAL:Aa,ServerValue:Ra}).setMultipleInstances(!0)),Pa.registerVersion("@firebase/database-compat","0.2.3");const Ga=new i.OlP("angularfire2.realtimeDatabaseURL"),Ha=new i.OlP("angularfire2.database.use-emulator");let Wa=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,u,h,d,m,g){this.schedulers=s;const y=o,v=(0,p.on)(e,i,t);a&&(0,f.nw)(v,i,l,u,h,d,c,m),this.database=(0,p.cc)(`${v.name}.database.${n}`,"AngularFireDatabase",v.name,()=>{const e=i.runOutsideAngular(()=>v.database(n||void 0));return y&&e.useEmulator(...y),e},[y])}list(e,t){const n=this.schedulers.ngZone.runOutsideAngular(()=>Da(this.database,e));let r=n;return t&&(r=t(n)),function(e,t){const n=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:Ba(r,"update"),set:Ba(r,"set"),push:e=>r.push(e),remove:qa(r),snapshotChanges:t=>ja(e,t,n).pipe(w.iC),stateChanges:t=>za(e,t,n).pipe(w.iC),auditTrail:t=>function(e,t,n){return function(e,t,n){return function(e,t){return Ma(e,"value","on",t).pipe((0,_.U)(e=>{let t;return e.payload.forEach(e=>(t=e.key,!1)),{data:e,lastKeyToLoad:t}}))}(e,n).pipe(function(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new ft(e,n))}}(t),(0,_.U)(([e,t])=>{const n=e.lastKeyToLoad,r=t.map(e=>e.key);return{actions:t,lastKeyToLoad:n,loadedKeys:r}}),(r=e=>-1===e.loadedKeys.indexOf(e.lastKeyToLoad),e=>e.lift(new yt(r))),(0,_.U)(e=>e.actions));var r}(e,za(e,t).pipe((0,ut.R)((e,t)=>[...e,t],[])),n)}(e,t,n).pipe(w.iC),valueChanges:(t,r)=>ja(e,t,n).pipe((0,_.U)(e=>e.map(e=>r&&r.idField?Object.assign(Object.assign({},e.payload.val()),{[r.idField]:e.key}):e.payload.val())),w.iC)}}(r,this)}object(e){return function(e,t){return{query:e,snapshotChanges:()=>$a(e,t.schedulers.outsideAngular)().pipe(w.iC),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>$a(e,t.schedulers.outsideAngular)().pipe(w.iC,(0,_.U)(e=>e.payload.exists()?e.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Da(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(p.Dh),i.LFG(p.xv,8),i.LFG(Ga,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(w.HU),i.LFG(Ha,8),i.LFG(f.zQ,8),i.LFG(f.Qv,8),i.LFG(f.L6,8),i.LFG(f._Q,8),i.LFG(f.rT,8),i.LFG(f.lh,8),i.LFG(f.f7,8),i.LFG(Ze.nm,8))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),Ka=(()=>{class e{constructor(){Ye.Z.registerVersion("angularfire",w.q4.full,"rtdb-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Wa]}),e})();var Za=n(8583),Ya=n(1439),Qa=n(205),Xa=n(2759),Ja=n(8071),el=n(9765),tl=n(8640);const nl=new m.y(tl.Z);var rl=n(5435),il=n(4458),sl=n(5257),ol=n(8307),al=n(3098);class ll{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new cl(e,this.delay,this.scheduler))}}class cl extends gt.L{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,i=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const t=Math.max(0,n[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(cl.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new ul(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(al.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(al.P.createComplete()),this.unsubscribe()}}class ul{constructor(e,t){this.time=e,this.notification=t}}const hl="Service workers are disabled or not supported by this browser";class dl{constructor(e){if(this.serviceWorker=e,e){const t=(0,Xa.R)(e,"controllerchange").pipe((0,_.U)(()=>e.controller)),n=(0,Ya.P)(()=>(0,g.of)(e.controller)),r=(0,Ja.z)(n,t);this.worker=r.pipe((0,rl.h)(e=>!!e)),this.registration=this.worker.pipe((0,b.w)(()=>e.getRegistration()));const i=(0,Xa.R)(e,"message").pipe((0,_.U)(e=>e.data)).pipe((0,rl.h)(e=>e&&e.type)).pipe((0,il.O)(new el.xQ));i.connect(),this.events=i}else this.worker=this.events=this.registration=(0,Ya.P)(()=>(0,Qa._)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(e,t){return this.worker.pipe((0,sl.q)(1),(0,ol.b)(n=>{n.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithStatus(e,t,n){const r=this.waitForStatus(n),i=this.postMessage(e,t);return Promise.all([r,i]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){return this.events.pipe((0,rl.h)(t=>t.type===e))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,sl.q)(1))}waitForStatus(e){return this.eventsOfType("STATUS").pipe((0,rl.h)(t=>t.nonce===e),(0,sl.q)(1),(0,_.U)(e=>{if(!e.status)throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let pl=(()=>{class e{constructor(e){if(this.sw=e,this.subscriptionChanges=new el.xQ,!e.isEnabled)return this.messages=nl,this.notificationClicks=nl,void(this.subscription=nl);this.messages=this.sw.eventsOfType("PUSH").pipe((0,_.U)(e=>e.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,_.U)(e=>e.data)),this.pushManager=this.sw.registration.pipe((0,_.U)(e=>e.pushManager));const t=this.pushManager.pipe((0,b.w)(e=>e.getSubscription()));this.subscription=(0,lt.T)(t,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(hl));const t={userVisibleOnly:!0};let n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return t.applicationServerKey=r,this.pushManager.pipe((0,b.w)(e=>e.subscribe(t)),(0,sl.q)(1)).toPromise().then(e=>(this.subscriptionChanges.next(e),e))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,sl.q)(1),(0,b.w)(e=>{if(null===e)throw new Error("Not subscribed to push notifications.");return e.unsubscribe().then(e=>{if(!e)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(hl))}decodeBase64(e){return atob(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(dl))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),fl=(()=>{class e{constructor(e){if(this.sw=e,!e.isEnabled)return this.available=nl,this.activated=nl,void(this.unrecoverable=nl);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(hl));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(hl));const e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(dl))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class ml{}const gl=new i.OlP("NGSW_REGISTER_SCRIPT");function yl(e,t,n,r){return()=>{if(!(0,Za.NF)(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)s=n.registrationStrategy();else{const[t,...r]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(t){case"registerImmediately":s=(0,g.of)(null);break;case"registerWithDelay":s=vl(+r[0]||0);break;case"registerWhenStable":s=r[0]?(0,lt.T)(_l(e),vl(+r[0])):_l(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}e.get(i.R0b).runOutsideAngular(()=>s.pipe((0,sl.q)(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:n.scope}).catch(e=>console.error("Service worker registration failed with:",e))))}}function vl(e){return(0,g.of)(null).pipe(function(e,t=at.P){var n;const r=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new ll(r,t))}(e))}function _l(e){return e.get(i.z2F).isStable.pipe((0,rl.h)(e=>e))}function bl(e,t){return new dl((0,Za.NF)(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}let wl=(()=>{class e{static register(t,n={}){return{ngModule:e,providers:[{provide:gl,useValue:t},{provide:ml,useValue:n},{provide:dl,useFactory:bl,deps:[ml,i.Lbi]},{provide:i.ip1,useFactory:yl,deps:[i.zs3,gl,ml,i.Lbi],multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[pl,fl]}),e})(),El=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e,bootstrap:[u]}),e.\u0275inj=i.cJS({providers:[],imports:[[o.JF,s.PW,r.b2.withServerTransition({appId:"serverApp"}),wl.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),c,h.m,p.hO.initializeApp(d),f.ww,ot.yb,st,Ka]]}),e})();(0,i.G48)(),r.q6().bootstrapModule(El).catch(e=>console.error(e))},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,l,"next",e)}function l(e){r(o,i,s,a,l,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})}},e=>{"use strict";e(e.s=3725)}]);